{
  "resolvedId": "C:/Users/.Freelancer/baotangnghethuat/src/components/VisitPage/Visit/VisitInfo.jsx",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { getImageUrl } from \"../../../utils/cloudinary\";\nimport \"./VisitInfo.css\";\n\nimport { FaBaby, FaCar, FaSearch } from \"react-icons/fa\";\n\nconst VisitInfo = () => {\n  const location = useLocation();\n  const [activeSection, setActiveSection] = useState(\"amenities\");\n  const [isNavSticky, setIsNavSticky] = useState(false);\n  const [isMobile] = useState(false);\n  const [navScrolled, setNavScrolled] = useState(false);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const lastScrollTop = useRef(0);\n  const scrollTimeout = useRef(null);\n\n  // Homestay filter and detail states\n  const [activeCategory, setActiveCategory] = useState(\"all\");\n  const [filteredHomestays, setFilteredHomestays] = useState([]);\n  const [showDetailsSidebar, setShowDetailsSidebar] = useState(false);\n  const [showBookingSidebar, setShowBookingSidebar] = useState(false);\n  const [selectedHomestay, setSelectedHomestay] = useState(null);\n  const [bookingFormData, setBookingFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    checkIn: \"\",\n    checkOut: \"\",\n    guests: 1,\n    specialRequests: \"\",\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [successBookingData, setSuccessBookingData] = useState(null);\n  const [showGalleryModal, setShowGalleryModal] = useState(false);\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n  const [selectedTime, setSelectedTime] = useState(null);\n  const [activeFaq, setActiveFaq] = useState(null);\n\n  const sectionRefs = {\n    amenities: useRef(null),\n    homestay: useRef(null),\n    faq: useRef(null),\n  };\n\n  const navRef = useRef(null);\n  const heroRef = useRef(null);\n  const horizontalNavRef = useRef(null);\n  const detailsSidebarRef = useRef(null);\n  const bookingSidebarRef = useRef(null);\n\n  // Handle hash links when component mounts\n  useEffect(() => {\n    // Get the hash from the URL\n    const hash = location.hash.replace(\"#\", \"\");\n\n    // If there's a hash and it corresponds to one of our sections, set it as active\n    if (hash && sectionRefs[hash]) {\n      setActiveSection(hash);\n\n      // Add a small delay to ensure DOM is fully loaded\n      setTimeout(() => {\n        // Scroll to the section\n        sectionRefs[hash].current?.scrollIntoView({ behavior: \"smooth\" });\n      }, 300);\n    }\n  }, [location]);\n\n  // Enhanced handleScroll to track scroll direction for hiding navbar\n  const handleScroll = useCallback(() => {\n    const st = window.pageYOffset || document.documentElement.scrollTop;\n    lastScrollTop.current = st <= 0 ? 0 : st;\n\n    // Original scroll handling logic\n    if (heroRef.current && navRef.current) {\n      const heroBottom = heroRef.current.getBoundingClientRect().bottom;\n      const navHeight = navRef.current.offsetHeight;\n\n      if (heroBottom <= navHeight) {\n        setIsNavSticky(true);\n      } else {\n        setIsNavSticky(false);\n      }\n    }\n\n    if (scrollTimeout.current) {\n      clearTimeout(scrollTimeout.current);\n    }\n    scrollTimeout.current = setTimeout(() => {\n      // Handle scroll end\n    }, 150);\n  }, []);\n\n  // Update useEffect to use our enhanced scroll handler\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n\n    // Initial check\n    handleScroll();\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n    };\n  }, [handleScroll]);\n\n  // Filter homestays when category changes\n  useEffect(() => {\n    filterHomestays(activeCategory);\n  }, [activeCategory]);\n\n  // Filter homestays based on selected category\n  const filterHomestays = (category) => {\n    if (category === \"all\") {\n      setFilteredHomestays(homestayData);\n    } else {\n      const filtered = homestayData.filter((homestay) =>\n        homestay.category.includes(category)\n      );\n      setFilteredHomestays(filtered);\n    }\n  };\n\n  // Handle category selection\n  const handleCategoryChange = (category) => {\n    setActiveCategory(category);\n  };\n\n  // Scroll to section with URL hash update\n  const scrollToSection = (sectionId) => {\n    const section = sectionRefs[sectionId];\n    if (section && section.current) {\n      section.current.scrollIntoView({ behavior: \"smooth\" });\n      window.history.pushState(null, \"\", `#${sectionId}`);\n    }\n  };\n\n  // Handle touch events for horizontal nav scrolling on mobile\n  const handleNavTouchStart = (e) => {\n    setTouchStartX(e.touches[0].clientX);\n  };\n\n  const handleNavTouchMove = (e) => {\n    if (!horizontalNavRef.current) return;\n\n    const touchX = e.touches[0].clientX;\n    const diff = touchStartX - touchX;\n    const scrollLeft = horizontalNavRef.current.scrollLeft;\n\n    if (diff > 5) {\n      // Scrolling right\n      setNavScrolled(true);\n    } else if (diff < -5 && scrollLeft === 0) {\n      // Scrolling left and at the beginning\n      setNavScrolled(false);\n    }\n  };\n\n  // Open details sidebar for a homestay\n  const openDetailsSidebar = (homestay) => {\n    setSelectedHomestay(homestay);\n    setShowDetailsSidebar(true);\n\n    // Make sure booking sidebar is closed\n    setShowBookingSidebar(false);\n\n    // Prevent background scrolling\n    document.body.style.overflow = \"hidden\";\n\n    // Add a small delay to ensure the sidebar is rendered with the selected homestay\n    setTimeout(() => {\n      if (detailsSidebarRef.current) {\n        detailsSidebarRef.current.scrollTop = 0;\n      }\n    }, 100);\n  };\n\n  // Close details sidebar\n  const closeDetailsSidebar = () => {\n    setShowDetailsSidebar(false);\n    document.body.style.overflow = \"auto\";\n  };\n\n  // Open booking sidebar for a homestay\n  const openBookingSidebar = (homestay) => {\n    setSelectedHomestay(homestay);\n    setShowBookingSidebar(true);\n    setShowDetailsSidebar(false);\n    document.body.style.overflow = \"hidden\";\n  };\n\n  // Close booking sidebar\n  const closeBookingSidebar = () => {\n    setShowBookingSidebar(false);\n    document.body.style.overflow = \"auto\";\n  };\n\n  // Handle booking form input changes\n  const handleBookingInputChange = (e) => {\n    const { name, value } = e.target;\n    setBookingFormData({\n      ...bookingFormData,\n      [name]: value,\n    });\n\n    // Clear error for this field if it exists\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: null,\n      });\n    }\n  };\n\n  // Validate booking form\n  const validateForm = () => {\n    const errors = {};\n\n    if (!bookingFormData.name.trim()) {\n      errors.name = \"Vui lòng nhập họ và tên\";\n    }\n\n    if (!bookingFormData.email.trim()) {\n      errors.email = \"Vui lòng nhập địa chỉ email\";\n    } else if (!/\\S+@\\S+\\.\\S+/.test(bookingFormData.email)) {\n      errors.email = \"Địa chỉ email không hợp lệ\";\n    }\n\n    if (!bookingFormData.phone.trim()) {\n      errors.phone = \"Vui lòng nhập số điện thoại\";\n    }\n\n    if (!bookingFormData.checkIn) {\n      errors.checkIn = \"Vui lòng chọn ngày nhận phòng\";\n    }\n\n    if (!bookingFormData.checkOut) {\n      errors.checkOut = \"Vui lòng chọn ngày trả phòng\";\n    } else if (\n      bookingFormData.checkIn &&\n      new Date(bookingFormData.checkOut) <= new Date(bookingFormData.checkIn)\n    ) {\n      errors.checkOut = \"Ngày trả phòng phải sau ngày nhận phòng\";\n    }\n\n    if (!bookingFormData.guests || bookingFormData.guests < 1) {\n      errors.guests = \"Vui lòng chọn ít nhất 1 khách\";\n    }\n\n    return errors;\n  };\n\n  // Handle booking form submission\n  const handleBookingSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validate the form\n    const errors = validateForm();\n\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Format data for submission\n      const formattedData = {\n        homestay: selectedHomestay?.title,\n        price: selectedHomestay?.price,\n        location: selectedHomestay?.location,\n        host: selectedHomestay?.host,\n        checkIn: bookingFormData.checkIn,\n        checkOut: bookingFormData.checkOut,\n        selectedTime: selectedTime,\n        nights: Math.max(\n          1,\n          Math.ceil(\n            (new Date(bookingFormData.checkOut) -\n              new Date(bookingFormData.checkIn)) /\n              (1000 * 60 * 60 * 24)\n          )\n        ),\n        totalPrice:\n          selectedHomestay?.price *\n          Math.max(\n            1,\n            Math.ceil(\n              (new Date(bookingFormData.checkOut) -\n                new Date(bookingFormData.checkIn)) /\n                (1000 * 60 * 60 * 24)\n            )\n          ),\n        ...bookingFormData,\n        date: new Date().toISOString(),\n      };\n\n      // Save the booking data before reset\n      setSuccessBookingData(formattedData);\n\n      // Try to save to booking server\n      try {\n        const bookingServerUrl = \"https://mussedupin.onrender.com/api/bookings\";\n        const serverResponse = await fetch(bookingServerUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(formattedData),\n        });\n\n        if (!serverResponse.ok) {\n          throw new Error(\"Không thể lưu đặt phòng lên máy chủ\");\n        }\n\n        console.log(\n          \"Đã lưu đặt phòng lên máy chủ:\",\n          await serverResponse.json()\n        );\n      } catch (serverError) {\n        console.error(\"Không thể lưu lên máy chủ đặt phòng:\", serverError);\n      }\n\n      // Show success modal even if server call fails (for demonstration purposes)\n      setShowBookingSidebar(false);\n      setShowSuccessModal(true);\n\n      // Reset form data\n      setBookingFormData({\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        checkIn: \"\",\n        checkOut: \"\",\n        guests: 1,\n        specialRequests: \"\",\n      });\n      setSelectedTime(null);\n    } catch (error) {\n      console.error(\"Lỗi khi gửi đặt phòng:\", error);\n      alert(\"Đã xảy ra lỗi khi gửi đặt phòng. Vui lòng thử lại.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Close success modal\n  const closeSuccessModal = () => {\n    setShowSuccessModal(false);\n    document.body.style.overflow = \"auto\";\n  };\n\n  // Amenities data\n  const amenitiesData = [\n    {\n      id: \"information-desk\",\n      title: \"Quầy thông tin\",\n      description:\n        \"Hai quầy thông tin, nơi du khách có thể hỏi đáp với nhân viên và nhận bản đồ bảo tàng. Tài liệu hướng dẫn bằng 8 ngôn ngữ có sẵn dưới Tháp.\",\n      image: \"room1.jpg\",\n      icon: \"info\",\n      details: \"Nhân viên đa ngôn ngữ làm việc từ 9:00 đến 19:00 hàng ngày.\",\n    },\n    {\n      id: \"cloakroom\",\n      title: \"Phòng gửi đồ\",\n      description:\n        \"Tủ khóa tự phục vụ miễn phí dưới Tháp. Khách tham quan nên sử dụng tủ khóa tại lối vào. Tất cả các vật dụng gửi trong tủ khóa phải được lấy lại trong cùng ngày.\",\n      image: \"room2.jpg\",\n      icon: \"hanger\",\n      details:\n        \"Gửi miễn phí cho túi có kích thước tối đa 55×35×20 cm. Không nhận vật dụng lớn hơn.\",\n    },\n    {\n      id: \"equipment\",\n      title: \"Cho mượn thiết bị\",\n      description:\n        \"Gậy chống, ghế xếp, xe đẩy trẻ em, địu em bé, ghế đa năng có bánh xe và xe lăn được cung cấp miễn phí tại khu vực tiếp đón khách dưới Tháp.\",\n      image: \"room3.jpg\",\n      icon: \"stroller\",\n      details: \"Liên hệ quầy hỗ trợ để biết thêm thông tin\",\n    },\n    {\n      id: \"wifi\",\n      title: \"Wi-Fi Miễn phí\",\n      description:\n        \"Mạng 'Musée Du Pin' có sẵn dưới Tháp và trong các phòng trưng bày. Kết nối Wi-Fi miễn phí có giới hạn một giờ và có thể được gia hạn nhiều lần theo nhu cầu.\",\n      image: \"room4.jpg\",\n      icon: \"wifi\",\n      details: \"Tốc độ kết nối: 50 Mbps\",\n    },\n    {\n      id: \"toilets\",\n      title: \"Nhà vệ sinh\",\n      description:\n        \"Nhà vệ sinh có thể được tìm thấy tại khu vực đón tiếp dưới Tháp và khắp bảo tàng. Có bàn thay tã cho em bé.\",\n      image: \"room5.jpg\",\n      icon: \"toilet\",\n      details: \"Tất cả nhà vệ sinh đều tiếp cận được cho người khuyết tật\",\n    },\n    {\n      id: \"car-park\",\n      title: \"Bãi đậu xe\",\n      description:\n        \"Bãi đậu xe ngầm nằm tại số 1 Đại lộ Général Lemonnier, từ đó bạn có thể vào bảo tàng qua lối vào Carrousel. Mở cửa 7 ngày một tuần từ 7:00 đến 23:00.\",\n      image: \"room6.jpg\",\n      icon: \"parking\",\n      details:\n        \"Khách tham quan khuyết tật được hưởng giá đậu xe ưu đãi. Giá này có thể được thương lượng tại quầy thanh toán trước khi trả tiền.\",\n    },\n    {\n      id: \"lost-found\",\n      title: \"Đồ thất lạc\",\n      description:\n        \"Bị mất đồ? Nếu bạn vẫn còn trong bảo tàng, hãy đến Quầy Hỗ trợ dưới Tháp và nhân viên sẽ giúp bạn.\",\n      image: \"room7.jpg\",\n      icon: \"help\",\n      details:\n        \"Đối với đồ vật tìm thấy sau chuyến thăm, hãy điền vào mẫu báo cáo trên trang web của chúng tôi\",\n    },\n    {\n      id: \"baby-space\",\n      title: \"Khu vực cho em bé\",\n      description:\n        \"Studio – khu vực đặc biệt được thiết kế dành cho gia đình, nằm ở tầng trệt của cánh Richelieu – có khu vực dành cho em bé được trang bị máy hâm sữa, lò vi sóng và ghế cho con bú.\",\n      image: \"room8.jpg\",\n      icon: \"baby\",\n      details: \"Mọi thứ bạn cần cho sự thoải mái và chăm sóc em bé\",\n    },\n  ];\n\n  // Homestay data with expanded information for detailed view\n  const homestayData = [\n    {\n      id: \"traditional\",\n      title: \"The ChildHood\",\n      description:\n        \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\n      image: \"thechillhood.jpg\",\n      price: 2800000,\n      rating: 4.8,\n      tags: [\"Đề xuất\", \"Truyền thống\", \"Bao gồm bữa sáng\"],\n      category: [\"popular\", \"recommended\"],\n      location: \"Cách bảo tàng 5 phút đi bộ\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong nhà truyền thống\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Bao gồm bữa sáng\",\n        \"Điều hòa nhiệt độ\",\n        \"Vườn\",\n        \"Phòng tắm riêng\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Không tổ chức tiệc\"],\n      cancellation: \"Hủy miễn phí đến 48 giờ trước khi nhận phòng\",\n      gallery: [\n        \"whitebauhinia.jpg\",\n        \"thechill1.jpg\",\n        \"thechill2.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Jean-Pierre\",\n          rating: 5,\n          comment: \"Trải nghiệm truyền thống tuyệt vời với bữa sáng ngon!\",\n        },\n        {\n          author: \"Sarah\",\n          rating: 4.5,\n          comment: \"Ngôi nhà đẹp và chủ nhà rất thân thiện. Rất đáng để ở.\",\n        },\n      ],\n    },\n    {\n      id: \"modern\",\n      title: \"White Bauhunia\",\n      description:\n        \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\n      image: \"whitebauhinia.jpg\",\n      price: 4200000,\n      rating: 4.9,\n      tags: [\"Đánh giá cao\", \"Sang trọng\", \"Vị trí trung tâm\"],\n      category: [\"popular\", \"top-rated\"],\n      location: \"Cách bảo tàng 10 phút đi bộ\",\n      host: \"Musée Du Pin\",\n      roomType: \"Toàn bộ căn hộ\",\n      beds: \"1 giường king, 1 giường sofa\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Bếp đầy đủ\",\n        \"Máy giặt/sấy\",\n        \"TV thông minh\",\n        \"Thang máy\",\n        \"View thành phố\",\n      ],\n      rules: [\"Không hút thuốc\", \"Cho phép thú cưng\", \"Không tổ chức tiệc\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechill1.jpg\",\n        \"thechill2.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Lisa\",\n          rating: 5,\n          comment: \"Căn hộ đẹp với view tuyệt vời! Rất sạch sẽ và hiện đại.\",\n        },\n        {\n          author: \"David\",\n          rating: 4.8,\n          comment: \"Vị trí tuyệt vời và trang bị đầy đủ. Sẽ quay lại!\",\n        },\n      ],\n    },\n    {\n      id: \"luxury\",\n      title: \"The chill 1\",\n      description:\n        \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\n      image: \"thechill1.jpg\",\n      price: 8200000,\n      rating: 5.0,\n      tags: [\"Cao cấp\", \"Riêng tư\", \"Dịch vụ đầy đủ\"],\n      category: [\"top-rated\", \"luxury\"],\n      location: \"Cách bảo tàng 15 phút lái xe\",\n      host: \"Musée Du Pin\",\n      roomType: \"Toàn bộ biệt thự\",\n      beds: \"2 giường king, 1 giường queen\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Hồ bơi\",\n        \"Bếp đầy đủ\",\n        \"Vườn\",\n        \"Bãi đậu xe\",\n        \"Dịch vụ dọn phòng hàng ngày\",\n        \"Lễ tân\",\n      ],\n      rules: [\n        \"Không hút thuốc trong nhà\",\n        \"Không thú cưng\",\n        \"Cho phép tổ chức sự kiện với sự đồng ý trước\",\n      ],\n      cancellation: \"Hủy miễn phí đến 7 ngày trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"James\",\n          rating: 5,\n          comment: \"Sang trọng tuyệt đối! Biệt thự vượt quá mong đợi.\",\n        },\n        {\n          author: \"Sophia\",\n          rating: 5,\n          comment:\n            \"Dịch vụ xuất sắc và cơ sở vật chất tuyệt vời. Xứng đáng với giá tiền!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Chill 2\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thechill2.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Memory\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thememory.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"whitebauhinia.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Sunset\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thesunset.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thechill1.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Train\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thetrain.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thechill2.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n  ];\n\n  // FAQ data with more detailed answers\n  const faqData = [\n    {\n      question:\n        \"Tôi có thể tham quan bảo tàng miễn phí không? Tôi có cần đặt vé không?\",\n      answer:\n        \"Bảo tàng miễn phí vé vào cửa cho một số đối tượng bao gồm người dưới 18 tuổi, cư dân EU dưới 26 tuổi và khách tham quan khuyết tật cùng người đi kèm. Vào cửa miễn phí cũng được áp dụng cho tất cả mọi người vào thứ Sáu đầu tiên của mỗi tháng từ 18:00 (trừ tháng 7 và tháng 8). Chúng tôi khuyến nghị đặt khung giờ trước, kể cả đối với khách được miễn phí vé, đặc biệt là trong mùa cao điểm.\",\n    },\n    {\n      question: \"Làm thế nào để mua vé ưu đãi?\",\n      answer:\n        \"Vé ưu đãi dành cho thanh niên từ 18-25 tuổi đến từ các nước ngoài EU, người có Thẻ Giáo dục, và thành viên của các tổ chức đối tác. Bạn phải xuất trình CMND/CCCD hợp lệ hoặc thẻ thành viên tại cổng vào. Vé ưu đãi có thể được mua trực tuyến hoặc tại quầy vé.\",\n    },\n    {\n      question: \"Tôi có thể được hoàn tiền không?\",\n      answer:\n        \"Vé không được hoàn tiền sau khi mua. Tuy nhiên, trong trường hợp bảo tàng đóng cửa vì lý do đặc biệt, chúng tôi sẽ hoàn tiền hoặc đổi ngày khác. Đối với các trường hợp đặc biệt, vui lòng liên hệ dịch vụ khách tham quan tại visitor@museedupin.com kèm mã đặt chỗ và lý do yêu cầu hoàn tiền.\",\n    },\n    {\n      question: \"Tôi sử dụng lối vào nào nếu đã mua vé trực tuyến?\",\n      answer:\n        \"Khách có vé điện tử có thể vào qua lối vào Tháp (lối vào chính) hoặc lối vào Porte des Lions. Lối vào Carrousel dành cho các đoàn và người có thẻ bảo tàng. Vé điện tử của bạn có mã QR sẽ được quét tại lối vào. Chúng tôi khuyến nghị đến trước 15 phút so với khung giờ đã đặt.\",\n    },\n    {\n      question: \"Có cho phép xe đẩy em bé vào bảo tàng không?\",\n      answer:\n        \"Có, xe đẩy và nôi em bé được phép vào bảo tàng. Tuy nhiên, trong thời điểm đông khách, bạn có thể được yêu cầu gửi xe đẩy lớn tại phòng gửi đồ và sử dụng địu em bé thay thế, được cung cấp miễn phí. Tất cả các phòng trưng bày và không gian triển lãm đều có thể tiếp cận bằng xe đẩy thông qua thang máy.\",\n    },\n    {\n      question: \"Những vật dụng nào không được phép mang vào bảo tàng?\",\n      answer:\n        \"Các vật dụng không được phép mang vào bảo tàng bao gồm túi xách và vali lớn (kích thước lớn hơn 55×35×20 cm), giá ba chân, gậy selfie, thiết bị chụp ảnh có đèn flash, đồ ăn thức uống (trừ chai nước), và các vật sắc nhọn. Những vật dụng này phải được gửi tại phòng gửi đồ. Chúng tôi cũng cấm chạm vào tác phẩm nghệ thuật, hút thuốc, và sử dụng điện thoại di động trong phòng trưng bày.\",\n    },\n  ];\n\n  // Render Hero Section\n  const renderHero = () => (\n    <div className=\"visitinfo-hero\" ref={heroRef}>\n      <div className=\"visitinfo-hero-image-container\">\n        <img\n          src={getImageUrl(\"luutrunghethuat.jpg\", {\n            width: 1920,\n            height: 1080,\n            crop: \"fill\",\n          })}\n          alt=\"Nội thất bảo tàng\"\n          className=\"visitinfo-hero-image\"\n        />\n      </div>\n      {/* <div className=\"visitinfo-hero-overlay\"></div> */}\n      {/* <div className=\"visitinfo-hero-content\">\n        <h1 className=\"visitinfo-hero-title\">\n          LƯU TRÚ TRONG CÁC CĂN PHÒNG NGHỆ THUẬT\n        </h1>\n        <p className=\"visitinfo-hero-subtitle\">\n            Mọi thứ bạn cần cho một chuyến tham quan thoải mái\n        </p>\n      </div> */}\n    </div>\n  );\n\n  // Render Navigation Bar\n  const renderNavigationBar = () => {\n    // Don't render the navigation bar on mobile\n    if (isMobile) return null;\n\n    return (\n      <>\n        <div\n          className={`visitinfo-nav-container ${isNavSticky ? \"sticky\" : \"\"} ${\n            navScrolled ? \"scrolled-right\" : \"\"\n          }`}\n          ref={(el) => {\n            navRef.current = el;\n            horizontalNavRef.current = el;\n          }}\n          onTouchStart={handleNavTouchStart}\n          onTouchMove={handleNavTouchMove}\n        >\n          <div className=\"visitinfo-nav\">\n            <ul className=\"visitinfo-nav-list\">\n              <li\n                className={`visitinfo-nav-item ${\n                  activeSection === \"amenities\" ? \"active\" : \"\"\n                }`}\n              >\n                <button\n                  onClick={() => scrollToSection(\"amenities\")}\n                  className=\"visitinfo-nav-button\"\n                >\n                  Tiện ích\n                </button>\n                <span className=\"visitinfo-nav-indicator\"></span>\n              </li>\n              <li\n                className={`visitinfo-nav-item ${\n                  activeSection === \"homestay\" ? \"active\" : \"\"\n                }`}\n              >\n                <button\n                  onClick={() => scrollToSection(\"homestay\")}\n                  className=\"visitinfo-nav-button\"\n                >\n                  Lưu trú\n                </button>\n                <span className=\"visitinfo-nav-indicator\"></span>\n              </li>\n              <li\n                className={`visitinfo-nav-item ${\n                  activeSection === \"faq\" ? \"active\" : \"\"\n                }`}\n              >\n                <button\n                  onClick={() => scrollToSection(\"faq\")}\n                  className=\"visitinfo-nav-button\"\n                >\n                  Hỏi đáp\n                </button>\n                <span className=\"visitinfo-nav-indicator\"></span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  // Function to create ripple effect on touch\n  const createRippleEffect = (event) => {\n    const button = event.currentTarget;\n    const ripple = document.createElement(\"span\");\n\n    const rect = button.getBoundingClientRect();\n    const size = Math.max(rect.width, rect.height);\n\n    const x = event.clientX - rect.left - size / 2;\n    const y = event.clientY - rect.top - size / 2;\n\n    ripple.style.width = ripple.style.height = `${size}px`;\n    ripple.style.left = `${x}px`;\n    ripple.style.top = `${y}px`;\n    ripple.className = \"ripple-circle\";\n\n    button.appendChild(ripple);\n\n    setTimeout(() => {\n      ripple.remove();\n    }, 800);\n  };\n\n  // Render Amenities Section\n  const renderAmenitiesSection = () => (\n    <section\n      className=\"amenities-section\"\n      id=\"amenities\"\n      ref={sectionRefs.amenities}\n    >\n      {/* Decorative elements */}\n      <div className=\"decorative-lines\"></div>\n      <div className=\"decorative-circle large\"></div>\n      <div className=\"decorative-circle medium\"></div>\n      <div className=\"decorative-dots-pattern\"></div>\n\n      <div className=\"section-tag\">TIỆN ÍCH</div>\n\n      <div className=\"visitinfo-section-container\">\n        <div className=\"visitinfo-section-header\">\n          <h2 className=\"visitinfo-section-title\">\n            <span>Tiện nghi và thoải mái</span>\n            <span className=\"title-underline\"></span>\n          </h2>\n          <p className=\"visitinfo-section-description\">\n              Bảo tàng cung cấp nhiều dịch vụ để đảm bảo điều kiện tham quan tốt\n              nhất. Nhân viên luôn sẵn sàng trong bảo tàng để cung cấp thông tin\n              cập nhật về bảo tàng và các hoạt động.\n          </p>\n        </div>\n\n        <div className=\"amenities-container\">\n          {amenitiesData.map((amenity, index) => (\n            <div\n              className={`amenity-card desktop-enhanced ${\n                index % 3 === 0 ? \"wide\" : \"\"\n              }`}\n              key={amenity.id}\n              style={{\n                animationDelay: `${index * 0.1}s`,\n                background: `linear-gradient(135deg, ${\n                  index % 4 === 0\n                    ? \"#1E2A3B, #152231\"\n                    : index % 4 === 1\n                    ? \"#2A1E3B, #231522\"\n                    : index % 4 === 2\n                    ? \"#3B1E2A, #311522\"\n                    : \"#1E3B2A, #152315\"\n                })`,\n                borderLeft: `3px solid ${\n                  index % 4 === 0\n                    ? \"#00d1b2\"\n                    : index % 4 === 1\n                    ? \"#7c4dff\"\n                    : index % 4 === 2\n                    ? \"#ff4081\"\n                    : \"#00e676\"\n                }`,\n              }}\n              onClick={createRippleEffect}\n            >\n              <div className=\"amenity-content-wrapper\">\n                <div className=\"amenity-icon-container\">\n                  <div\n                    className=\"amenity-icon\"\n                    style={{\n                      color:\n                        index % 4 === 0\n                          ? \"#00d1b2\"\n                          : index % 4 === 1\n                          ? \"#7c4dff\"\n                          : index % 4 === 2\n                          ? \"#ff4081\"\n                          : \"#00e676\",\n                    }}\n                  >\n                    {renderIcon(amenity.icon)}\n                  </div>\n                  <div className=\"amenity-icon-backdrop\"></div>\n                </div>\n                <div className=\"amenity-card-content\">\n                  <h3 className=\"amenity-title\">{amenity.title}</h3>\n                  <p className=\"amenity-description\">{amenity.description}</p>\n                  <div className=\"amenity-card-details\">{amenity.details}</div>\n                </div>\n              </div>\n              <div className=\"amenity-card-decorations\">\n                <div className=\"decoration-circle\"></div>\n                <div className=\"decoration-line\"></div>\n                <div className=\"decoration-dots\"></div>\n              </div>\n              <div className=\"amenity-card-shine\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n\n  // Format price to VND\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\",\n    }).format(price);\n  };\n\n  // Render Homestay Section\n  const renderHomestaySection = () => (\n    <section\n      className=\"homestay-section\"\n      id=\"homestay\"\n      ref={sectionRefs.homestay}\n    >\n      <div className=\"section-tag\">LƯU TRÚ</div>\n\n      {/* Decorative elements */}\n      <div className=\"decorative-circle large\"></div>\n      <div className=\"decorative-circle medium\"></div>\n      <div className=\"decorative-square\"></div>\n      <div className=\"decorative-dot\"></div>\n\n      <div className=\"visitinfo-section-container\">\n        <div className=\"visitinfo-section-header\">\n          <h2 className=\"visitinfo-section-title modern\">\n            <span>Trải nghiệm cuộc sống địa phương gần bảo tàng</span>\n            <span className=\"title-accent\"></span>\n          </h2>\n          <p className=\"visitinfo-section-description\">\n              Hòa mình vào văn hóa địa phương với các lựa chọn lưu trú được chọn\n            lọc kỹ càng gần bảo tàng. Trải nghiệm sự hiếu khách đích thực trong\n            những không gian được thiết kế nghệ thuật.\n          </p>\n        </div>\n\n        <div className=\"homestay-categories-wrapper\">\n          <div\n            className=\"homestay-categories\"\n            style={{\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              gap: \"15px\",\n              marginBottom: \"50px\",\n              justifyContent: \"flex-start\",\n            }}\n          >\n            <div\n              className={`homestay-category ${\n                activeCategory === \"all\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"all\")}\n            >\n              Tất cả lựa chọn\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"popular\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"popular\")}\n            >\n              Phổ biến\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"top-rated\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"top-rated\")}\n            >\n              Đánh giá cao\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"recommended\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"recommended\")}\n            >\n              Đề xuất\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"budget-friendly\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"budget-friendly\")}\n            >\n              Giá tốt\n            </div>\n          </div>\n        </div>\n\n        <div className=\"homestay-grid modern\">\n          {filteredHomestays.map((homestay) => (\n            <div className=\"homestay-card modern\" key={homestay.id}>\n              <div className=\"homestay-card-image\">\n                <img src={getImageUrl(homestay.image)} alt={homestay.title} />\n                {homestay.tags.map(\n                  (tag, index) =>\n                    index < 1 && (\n                      <div className=\"homestay-card-tag\" key={index}>\n                        {tag}\n                      </div>\n                    )\n                )}\n              </div>\n              <div className=\"homestay-card-content\">\n                <h3 className=\"homestay-card-title\">{homestay.title}</h3>\n                <p className=\"homestay-card-description\">\n                  {homestay.description}\n                </p>\n                <div className=\"homestay-card-location\">\n                  <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n                    <path\n                      d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                      fill=\"currentColor\"\n                    />\n                  </svg>\n                  <span>{homestay.location}</span>\n                </div>\n                <div className=\"homestay-card-footer\">\n                  <div className=\"homestay-card-price\">\n                    <span className=\"price-value\">\n                      {formatPrice(homestay.price)}\n                    </span>\n                    <span className=\"price-unit\">mỗi đêm</span>\n                  </div>\n                  <div className=\"homestay-card-actions\">\n                    <button\n                      className=\"btn-view\"\n                      onClick={() => openDetailsSidebar(homestay)}\n                    >\n                      Xem chi tiết\n                    </button>\n                    <button\n                      className=\"btn-book\"\n                      onClick={() => openBookingSidebar(homestay)}\n                    >\n                      Đặt ngay\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n\n  // Render FAQ Section\n  const renderFAQSection = () => (\n    <section className=\"faq-section\" id=\"faq\" ref={sectionRefs.faq}>\n      <div className=\"decorative-circle large\"></div>\n      <div className=\"decorative-circle medium\"></div>\n\n      <div className=\"faq-container\">\n        <div className=\"faq-header\">\n          <h2\n            className=\"faq-title\"\n            style={{\n              fontFamily:\n                \"'Mythical-Prince', 'LouvreSerif', Georgia, 'Times New Roman', serif\",\n            }}\n          >\n            <span>Câu hỏi thường gặp</span>\n          </h2>\n          <p className=\"faq-subtitle\">Câu trả lời từ Bảo tàng Du Pin.</p>\n        </div>\n\n        <div className=\"faq-list\">\n          {faqData.map((faq, index) => (\n            <div\n              className={`faq-item ${activeFaq === index ? \"active\" : \"\"}`}\n              key={index}\n              style={{ \"--animation-order\": index }}\n            >\n              <div className=\"faq-highlight\"></div>\n              <div className=\"faq-question\" onClick={() => toggleFaq(index)}>\n                <span>{faq.question}</span>\n              </div>\n              <div className=\"faq-answer\">\n                <p>{faq.answer}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"faq-footer\">\n          <h3 className=\"faq-footer-title\">Didn't find your answer?</h3>\n          <p className=\"faq-footer-text\">\n              Contact our support team for more information.\n          </p>\n          <button className=\"contact-btn\">\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n              <path\n                fill=\"currentColor\"\n                d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"\n              />\n            </svg>\n            Contact Us\n          </button>\n        </div>\n      </div>\n\n      {renderMobileScrollTop()}\n    </section>\n  );\n\n  // Render Homestay Details Sidebar\n  const renderHomestayDetailsSidebar = () => {\n    if (!selectedHomestay || !showDetailsSidebar) return null;\n\n    const gallery = selectedHomestay.gallery || [];\n\n    return (\n      <div\n        className={`homestay-details-sidebar ${\n          showDetailsSidebar ? \"open\" : \"\"\n        }`}\n        ref={detailsSidebarRef}\n      >\n        <div className=\"details-sidebar-header\">\n          <button className=\"close-sidebar\" onClick={closeDetailsSidebar}>\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path\n                d=\"M6 18L18 6M6 6l12 12\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n          <h2>{selectedHomestay.title}</h2>\n          <div style={{ width: \"32px\" }}></div>\n        </div>\n\n        <div className=\"details-sidebar-content\">\n          <div className=\"homestay-gallery\">\n            <div className=\"gallery-main\" onClick={() => openGalleryModal(0)}>\n              <img\n                src={getImageUrl(gallery[0] || selectedHomestay.image)}\n                alt={selectedHomestay.title}\n              />\n              <div className=\"gallery-zoom-icon\">\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n                  <path\n                    d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n              </div>\n            </div>\n            <div className=\"gallery-thumbnails\">\n              {gallery.map((img, index) => (\n                <div\n                  className={`gallery-thumbnail ${\n                    activeImageIndex === index ? \"active\" : \"\"\n                  }`}\n                  key={index}\n                  onClick={() => {\n                    setActiveImageIndex(index);\n                    openGalleryModal(index);\n                  }}\n                >\n                  <img\n                    src={getImageUrl(img)}\n                    alt={`${selectedHomestay.title} - hình ${index + 1}`}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"homestay-details-info\">\n            <h3 className=\"homestay-details-subtitle\">\n              {selectedHomestay.roomType}\n            </h3>\n\n            <p className=\"homestay-details-description\">\n              {selectedHomestay.description}\n            </p>\n\n            <div className=\"homestay-details-location\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>{selectedHomestay.location}</span>\n            </div>\n\n            <div className=\"homestay-details-host\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>Chủ sở hữu: {selectedHomestay.host}</span>\n            </div>\n\n            <div className=\"homestay-details-beds\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M20 12c0-1.1-.9-2-2-2V7c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3c-1.1 0-2 .9-2 2v5h1.33L6 19h1l.67-2h8.67l.66 2h1l.67-2H20v-5zm-4-2H8V7h8v3z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>{selectedHomestay.beds}</span>\n            </div>\n\n            <div className=\"homestay-details-section\">\n              <h3>Tiện nghi</h3>\n              <ul className=\"amenities-list\">\n                {selectedHomestay.amenities.map((amenity, index) => (\n                  <li key={index}>\n                    <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n                      <path\n                        d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n                        fill=\"currentColor\"\n                      />\n                    </svg>\n                    {amenity}\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"homestay-details-section\">\n              <h3>Nội quy</h3>\n              <ul className=\"rules-list\">\n                {selectedHomestay.rules.map((rule, index) => (\n                  <li key={index}>{rule}</li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"homestay-details-section\">\n              <h3>Chính sách hủy phòng</h3>\n              <p>{selectedHomestay.cancellation}</p>\n            </div>\n          </div>\n\n          <div className=\"homestay-booking-card\">\n            <div className=\"booking-card-price\">\n              <span className=\"price-value\">\n                {formatPrice(selectedHomestay.price)}\n              </span>\n              <span className=\"price-unit\">mỗi đêm</span>\n            </div>\n            <button\n              className=\"btn-book-now\"\n              onClick={() => openBookingSidebar(selectedHomestay)}\n            >\n              Đặt ngay\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Render Booking Sidebar\n  const renderBookingSidebar = () => {\n    if (!selectedHomestay) return null;\n\n    return (\n      <div\n        className={`booking-sidebar ${showBookingSidebar ? \"open\" : \"\"}`}\n        ref={bookingSidebarRef}\n      >\n        <div className=\"booking-sidebar-header modern\">\n          <button className=\"close-sidebar\" onClick={closeBookingSidebar}>\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n              <path\n                d=\"M6 18L18 6M6 6l12 12\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n          <h2>Đặt phòng</h2>\n          <div></div>\n        </div>\n\n        <div className=\"booking-sidebar-content\">\n          {isSubmitting && (\n            <div\n              className=\"sending-status\"\n              role=\"progressbar\"\n              aria-label=\"Đang gửi thông tin đặt phòng\"\n            ></div>\n          )}\n\n          <div className=\"booking-homestay-info modern\">\n            <img\n              src={getImageUrl(selectedHomestay.image)}\n              alt={selectedHomestay.title}\n            />\n            <div>\n              <h3>{selectedHomestay.title}</h3>\n              <div className=\"booking-homestay-location\">\n                <svg viewBox=\"0 0 24 24\" width=\"14\" height=\"14\">\n                  <path\n                    d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                    fill=\"currentColor\"\n                  />\n                </svg>\n                <span>{selectedHomestay.location}</span>\n              </div>\n              <div className=\"booking-homestay-price\">\n                <span className=\"price-value\">\n                  {formatPrice(selectedHomestay.price)}\n                </span>\n                <span className=\"price-unit\">mỗi đêm</span>\n              </div>\n            </div>\n          </div>\n\n          <form className=\"booking-form modern\" onSubmit={handleBookingSubmit}>\n            {updateBookingForm()}\n\n            <div className={`form-group ${formErrors.name ? \"has-error\" : \"\"}`}>\n              <label htmlFor=\"name\">Họ và tên</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={bookingFormData.name}\n                onChange={handleBookingInputChange}\n                placeholder=\"Nhập họ và tên của bạn\"\n              />\n              {formErrors.name && (\n                <div className=\"error-message\">{formErrors.name}</div>\n              )}\n            </div>\n\n            <div\n              className={`form-group ${formErrors.email ? \"has-error\" : \"\"}`}\n            >\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={bookingFormData.email}\n                onChange={handleBookingInputChange}\n                placeholder=\"Nhập địa chỉ email của bạn\"\n              />\n              {formErrors.email && (\n                <div className=\"error-message\">{formErrors.email}</div>\n              )}\n            </div>\n\n            <div\n              className={`form-group ${formErrors.phone ? \"has-error\" : \"\"}`}\n            >\n              <label htmlFor=\"phone\">Số điện thoại</label>\n              <input\n                type=\"tel\"\n                id=\"phone\"\n                name=\"phone\"\n                value={bookingFormData.phone}\n                onChange={handleBookingInputChange}\n                placeholder=\"Nhận số điện thoại của bạn\"\n              />\n              {formErrors.phone && (\n                <div className=\"error-message\">{formErrors.phone}</div>\n              )}\n            </div>\n\n            <div\n              className={`form-group ${formErrors.guests ? \"has-error\" : \"\"}`}\n            >\n              <label htmlFor=\"guests\">Số lượng khách</label>\n              <input\n                type=\"number\"\n                id=\"guests\"\n                name=\"guests\"\n                value={bookingFormData.guests}\n                onChange={handleBookingInputChange}\n                min=\"1\"\n                max=\"10\"\n              />\n              {formErrors.guests && (\n                <div className=\"error-message\">{formErrors.guests}</div>\n              )}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"specialRequests\">Yêu cầu</label>\n              <textarea\n                id=\"specialRequests\"\n                name=\"specialRequests\"\n                value={bookingFormData.specialRequests}\n                onChange={handleBookingInputChange}\n                placeholder=\"Bạn có yêu cầu hoặc yêu cầu đặc biệt nào không?\"\n                rows=\"3\"\n              ></textarea>\n            </div>\n\n            <div className=\"booking-summary modern\">\n              <div className=\"summary-row\">\n                <span>Giá mỗi đêm</span>\n                <span>{formatPrice(selectedHomestay.price)}</span>\n              </div>\n\n              {bookingFormData.checkIn && bookingFormData.checkOut && (\n                <>\n                  <div className=\"summary-row\">\n                    <span>Số đêm</span>\n                    <span>\n                      {Math.max(\n                        1,\n                        Math.ceil(\n                          (new Date(bookingFormData.checkOut) -\n                            new Date(bookingFormData.checkIn)) /\n                            (1000 * 60 * 60 * 24)\n                        )\n                      )}\n                    </span>\n                  </div>\n\n                  <div className=\"summary-row total\">\n                    <span>Tổng cộng</span>\n                    <span>\n                      {formatPrice(\n                        selectedHomestay.price *\n                          Math.max(\n                            1,\n                            Math.ceil(\n                              (new Date(bookingFormData.checkOut) -\n                                new Date(bookingFormData.checkIn)) /\n                                (1000 * 60 * 60 * 24)\n                            )\n                          )\n                      )}\n                    </span>\n                  </div>\n                </>\n              )}\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"btn-submit-booking modern\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? (\n                <>\n                  <div className=\"spinner\"></div>\n                  <span>Đang xử lý...</span>\n                </>\n              ) : (\n                \"Hoàn tất đặt phòng\"\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  // Render Success Modal\n  const renderSuccessModal = () => {\n    if (!successBookingData || !showSuccessModal) return null;\n\n    // Use the saved data from successBookingData instead of recalculating\n    const totalPrice = successBookingData.totalPrice || 0;\n\n    return (\n      <div\n        className={`booking-success-modal ${showSuccessModal ? \"open\" : \"\"}`}\n      >\n        <div className=\"success-modal-content\">\n          <div className=\"success-icon\">\n            <svg viewBox=\"0 0 24 24\" width=\"40\" height=\"40\">\n              <path\n                d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n                fill=\"#fff\"\n              />\n            </svg>\n          </div>\n\n          <h2 className=\"success-title\">Đặt phòng thành công!</h2>\n\n          <div className=\"success-animation\">\n            {[...Array(10)].map((_, i) => (\n              <div\n                key={i}\n                className=\"confetti-piece\"\n                style={{\n                  width: `${Math.random() * 20 + 10}px`,\n                  height: `${Math.random() * 10 + 6}px`,\n                  background: `${\n                    [\"#1e3a8a\", \"#2563eb\", \"#3b82f6\", \"#bfdbfe\", \"#f8fafc\"][\n                      Math.floor(Math.random() * 5)\n                    ]\n                  }`,\n                  top: `${Math.random() * 100}%`,\n                  left: `${Math.random() * 100}%`,\n                  opacity: Math.random(),\n                  animation: `fall ${Math.random() * 3 + 2}s linear infinite`,\n                  transform: `rotate(${Math.random() * 360}deg)`,\n                }}\n              ></div>\n            ))}\n          </div>\n\n          <p className=\"success-message\">\n              Cảm ơn bạn đã đặt phòng. Chúng tôi đã gửi xác nhận đến email của\n            bạn. Bộ phận chăm sóc khách hàng sẽ sớm liên hệ với bạn để cung cấp\n            thêm thông tin chi tiết.\n          </p>\n\n          <div className=\"success-details\">\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>Chủ sỡ hữu: {successBookingData.host}</span>\n            </div>\n\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>{successBookingData.location}</span>\n            </div>\n\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7v-5z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>\n                {new Date(successBookingData.checkIn).toLocaleDateString()} -{\" \"}\n                {new Date(successBookingData.checkOut).toLocaleDateString()}\n                <span className=\"booking-nights\">\n                  ({successBookingData.nights} đêm)\n                </span>\n              </span>\n            </div>\n\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>\n                Tổng: <span className=\"total-price\">${totalPrice}</span>\n              </span>\n            </div>\n          </div>\n\n          <button className=\"btn-close-success\" onClick={closeSuccessModal}>\n            Đóng\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  // Render mobile scroll to top button\n  const renderMobileScrollTop = () => {\n    if (!isMobile) return null;\n\n    return (\n      <button\n        className=\"mobile-scroll-top\"\n        onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\n        aria-label=\"Cuộn lên đầu trang\"\n      >\n        <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n          <path\n            d=\"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n            fill=\"currentColor\"\n          />\n        </svg>\n      </button>\n    );\n  };\n\n  // Helper function to render icons\n  const renderIcon = (icon) => {\n    const commonAttributes = {\n      width: isMobile ? \"30\" : \"32\",\n      height: isMobile ? \"30\" : \"32\",\n      fill: \"none\",\n      stroke: \"#00d1b2\",\n      strokeWidth: \"1.5\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n    };\n\n    switch (icon) {\n      case \"info\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n            <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\n            <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\n          </svg>\n        );\n      case \"hanger\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <path d=\"M12 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\"></path>\n            <path d=\"M12 8v3l-8 9h16l-8-9V8\"></path>\n          </svg>\n        );\n      case \"stroller\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <circle cx=\"8\" cy=\"18\" r=\"2\"></circle>\n            <circle cx=\"16\" cy=\"18\" r=\"2\"></circle>\n            <path d=\"M8 18h8l4-12H8\"></path>\n            <path d=\"M6 10h12\"></path>\n          </svg>\n        );\n      case \"wifi\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <path d=\"M5 12.55a11 11 0 0 1 14.08 0\"></path>\n            <path d=\"M1.42 9a16 16 0 0 1 21.16 0\"></path>\n            <path d=\"M8.53 16.11a6 6 0 0 1 6.95 0\"></path>\n            <line x1=\"12\" y1=\"20\" x2=\"12.01\" y2=\"20\"></line>\n          </svg>\n        );\n      case \"toilet\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <path d=\"M6 4h12v4H6z\"></path>\n            <path d=\"M6 8h12v8a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8z\"></path>\n            <path d=\"M10 8v8\"></path>\n            <path d=\"M14 8v8\"></path>\n          </svg>\n        );\n      case \"parking\":\n        return <FaCar size={isMobile ? 28 : 32} color=\"currentColor\" />;\n      case \"help\":\n        return <FaSearch size={isMobile ? 28 : 32} color=\"currentColor\" />;\n      case \"baby\":\n        return <FaBaby size={isMobile ? 28 : 32} color=\"currentColor\" />;\n      case \"amenities\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          >\n            <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n            <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n          </svg>\n        );\n      case \"homestay\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          >\n            <path d=\"M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9\" />\n            <path d=\"M9 22V12h6v10M2 10.6L12 2l10 8.6\" />\n          </svg>\n        );\n      case \"faq\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n            <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"></path>\n            <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n          </svg>\n        );\n      default:\n        return null;\n    }\n  };\n\n  // Add keyframes for animations\n  useEffect(() => {\n    // Create style element for animations\n    const styleEl = document.createElement(\"style\");\n\n    // Add keyframes\n    styleEl.innerHTML = `\n      @keyframes modalFadeIn {\n        from { opacity: 0; transform: translateY(20px); }\n        to { opacity: 1; transform: translateY(0); }\n      }\n      \n      @keyframes fall {\n        0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }\n        100% { transform: translateY(1000px) rotate(360deg); opacity: 0; }\n      }\n      \n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `;\n\n    document.head.appendChild(styleEl);\n\n    return () => {\n      styleEl.remove();\n    };\n  }, []);\n\n  // Toggle FAQ item\n  const toggleFaq = (index) => {\n    setActiveFaq(activeFaq === index ? null : index);\n  };\n\n  // Open gallery modal\n  const openGalleryModal = (index) => {\n    setActiveImageIndex(index);\n    setShowGalleryModal(true);\n  };\n\n  // Update booking form\n  const updateBookingForm = () => {\n    return (\n      <div className=\"booking-form-fields\">\n        <div className=\"form-group\">\n          <label htmlFor=\"checkIn\">Ngày nhận phòng</label>\n          <input\n            type=\"date\"\n            id=\"checkIn\"\n            name=\"checkIn\"\n            value={bookingFormData.checkIn}\n            onChange={handleBookingInputChange}\n            min={new Date().toISOString().split(\"T\")[0]}\n          />\n          {formErrors.checkIn && (\n            <div className=\"error-message\">{formErrors.checkIn}</div>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"checkOut\">Ngày trả phòng</label>\n          <input\n            type=\"date\"\n            id=\"checkOut\"\n            name=\"checkOut\"\n            value={bookingFormData.checkOut}\n            onChange={handleBookingInputChange}\n            min={\n              bookingFormData.checkIn || new Date().toISOString().split(\"T\")[0]\n            }\n          />\n          {formErrors.checkOut && (\n            <div className=\"error-message\">{formErrors.checkOut}</div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  // Render Gallery Modal\n  const renderGalleryModal = () => {\n    if (!showGalleryModal || !selectedHomestay) return null;\n\n    const gallery = selectedHomestay.gallery || [];\n\n    const handlePrevImage = () => {\n      setActiveImageIndex((prev) =>\n        prev === 0 ? gallery.length - 1 : prev - 1\n      );\n    };\n\n    const handleNextImage = () => {\n      setActiveImageIndex((prev) =>\n        prev === gallery.length - 1 ? 0 : prev + 1\n      );\n    };\n\n    return (\n      <div className={`gallery-modal ${showGalleryModal ? \"open\" : \"\"}`}>\n        <button\n          className=\"gallery-close-btn\"\n          onClick={() => setShowGalleryModal(false)}\n        >\n          <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n            <path\n              d=\"M6 18L18 6M6 6l12 12\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n        </button>\n\n        <div className=\"gallery-image-container\">\n          <button className=\"gallery-nav-btn prev\" onClick={handlePrevImage}>\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path\n                d=\"M15 18l-6-6 6-6\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n\n          <img\n            src={getImageUrl(gallery[activeImageIndex])}\n            alt={`${selectedHomestay.title} - hình ${activeImageIndex + 1}`}\n          />\n\n          <button className=\"gallery-nav-btn next\" onClick={handleNextImage}>\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path\n                d=\"M9 18l6-6-6-6\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"gallery-thumbnails-row\">\n          {gallery.map((img, index) => (\n            <div\n              key={index}\n              className={`gallery-thumbnail ${\n                activeImageIndex === index ? \"active\" : \"\"\n              }`}\n              onClick={() => setActiveImageIndex(index)}\n            >\n              <img\n                src={getImageUrl(img)}\n                alt={`${selectedHomestay.title} - thumbnail ${index + 1}`}\n              />\n            </div>\n          ))}\n        </div>\n\n        <div className=\"gallery-counter\">\n          {activeImageIndex + 1} / {gallery.length}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"visitinfo-container\">\n      {renderHero()}\n      {renderNavigationBar()}\n      {renderAmenitiesSection()}\n      {renderHomestaySection()}\n      {renderFAQSection()}\n      {renderHomestayDetailsSidebar()}\n      {renderBookingSidebar()}\n      {renderSuccessModal()}\n      {renderGalleryModal()}\n    </div>\n  );\n};\n\nexport default VisitInfo;\n",
      "start": 1748859736850,
      "end": 1748859737017,
      "sourcemaps": null
    },
    {
      "name": "vite:react-babel",
      "start": 1748859737018,
      "end": 1748859737018,
      "order": "pre"
    },
    {
      "name": "vite:esbuild",
      "result": "import { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { getImageUrl } from \"../../../utils/cloudinary\";\nimport \"./VisitInfo.css\";\nimport { FaBaby, FaCar, FaSearch } from \"react-icons/fa\";\nconst VisitInfo = () => {\n  const location = useLocation();\n  const [activeSection, setActiveSection] = useState(\"amenities\");\n  const [isNavSticky, setIsNavSticky] = useState(false);\n  const [isMobile] = useState(false);\n  const [navScrolled, setNavScrolled] = useState(false);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const lastScrollTop = useRef(0);\n  const scrollTimeout = useRef(null);\n  const [activeCategory, setActiveCategory] = useState(\"all\");\n  const [filteredHomestays, setFilteredHomestays] = useState([]);\n  const [showDetailsSidebar, setShowDetailsSidebar] = useState(false);\n  const [showBookingSidebar, setShowBookingSidebar] = useState(false);\n  const [selectedHomestay, setSelectedHomestay] = useState(null);\n  const [bookingFormData, setBookingFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    checkIn: \"\",\n    checkOut: \"\",\n    guests: 1,\n    specialRequests: \"\"\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [successBookingData, setSuccessBookingData] = useState(null);\n  const [showGalleryModal, setShowGalleryModal] = useState(false);\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n  const [selectedTime, setSelectedTime] = useState(null);\n  const [activeFaq, setActiveFaq] = useState(null);\n  const sectionRefs = {\n    amenities: useRef(null),\n    homestay: useRef(null),\n    faq: useRef(null)\n  };\n  const navRef = useRef(null);\n  const heroRef = useRef(null);\n  const horizontalNavRef = useRef(null);\n  const detailsSidebarRef = useRef(null);\n  const bookingSidebarRef = useRef(null);\n  useEffect(() => {\n    const hash = location.hash.replace(\"#\", \"\");\n    if (hash && sectionRefs[hash]) {\n      setActiveSection(hash);\n      setTimeout(() => {\n        sectionRefs[hash].current?.scrollIntoView({ behavior: \"smooth\" });\n      }, 300);\n    }\n  }, [location]);\n  const handleScroll = useCallback(() => {\n    const st = window.pageYOffset || document.documentElement.scrollTop;\n    lastScrollTop.current = st <= 0 ? 0 : st;\n    if (heroRef.current && navRef.current) {\n      const heroBottom = heroRef.current.getBoundingClientRect().bottom;\n      const navHeight = navRef.current.offsetHeight;\n      if (heroBottom <= navHeight) {\n        setIsNavSticky(true);\n      } else {\n        setIsNavSticky(false);\n      }\n    }\n    if (scrollTimeout.current) {\n      clearTimeout(scrollTimeout.current);\n    }\n    scrollTimeout.current = setTimeout(() => {\n    }, 150);\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    handleScroll();\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n    };\n  }, [handleScroll]);\n  useEffect(() => {\n    filterHomestays(activeCategory);\n  }, [activeCategory]);\n  const filterHomestays = (category) => {\n    if (category === \"all\") {\n      setFilteredHomestays(homestayData);\n    } else {\n      const filtered = homestayData.filter(\n        (homestay) => homestay.category.includes(category)\n      );\n      setFilteredHomestays(filtered);\n    }\n  };\n  const handleCategoryChange = (category) => {\n    setActiveCategory(category);\n  };\n  const scrollToSection = (sectionId) => {\n    const section = sectionRefs[sectionId];\n    if (section && section.current) {\n      section.current.scrollIntoView({ behavior: \"smooth\" });\n      window.history.pushState(null, \"\", `#${sectionId}`);\n    }\n  };\n  const handleNavTouchStart = (e) => {\n    setTouchStartX(e.touches[0].clientX);\n  };\n  const handleNavTouchMove = (e) => {\n    if (!horizontalNavRef.current) return;\n    const touchX = e.touches[0].clientX;\n    const diff = touchStartX - touchX;\n    const scrollLeft = horizontalNavRef.current.scrollLeft;\n    if (diff > 5) {\n      setNavScrolled(true);\n    } else if (diff < -5 && scrollLeft === 0) {\n      setNavScrolled(false);\n    }\n  };\n  const openDetailsSidebar = (homestay) => {\n    setSelectedHomestay(homestay);\n    setShowDetailsSidebar(true);\n    setShowBookingSidebar(false);\n    document.body.style.overflow = \"hidden\";\n    setTimeout(() => {\n      if (detailsSidebarRef.current) {\n        detailsSidebarRef.current.scrollTop = 0;\n      }\n    }, 100);\n  };\n  const closeDetailsSidebar = () => {\n    setShowDetailsSidebar(false);\n    document.body.style.overflow = \"auto\";\n  };\n  const openBookingSidebar = (homestay) => {\n    setSelectedHomestay(homestay);\n    setShowBookingSidebar(true);\n    setShowDetailsSidebar(false);\n    document.body.style.overflow = \"hidden\";\n  };\n  const closeBookingSidebar = () => {\n    setShowBookingSidebar(false);\n    document.body.style.overflow = \"auto\";\n  };\n  const handleBookingInputChange = (e) => {\n    const { name, value } = e.target;\n    setBookingFormData({\n      ...bookingFormData,\n      [name]: value\n    });\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: null\n      });\n    }\n  };\n  const validateForm = () => {\n    const errors = {};\n    if (!bookingFormData.name.trim()) {\n      errors.name = \"Vui lòng nhập họ và tên\";\n    }\n    if (!bookingFormData.email.trim()) {\n      errors.email = \"Vui lòng nhập địa chỉ email\";\n    } else if (!/\\S+@\\S+\\.\\S+/.test(bookingFormData.email)) {\n      errors.email = \"Địa chỉ email không hợp lệ\";\n    }\n    if (!bookingFormData.phone.trim()) {\n      errors.phone = \"Vui lòng nhập số điện thoại\";\n    }\n    if (!bookingFormData.checkIn) {\n      errors.checkIn = \"Vui lòng chọn ngày nhận phòng\";\n    }\n    if (!bookingFormData.checkOut) {\n      errors.checkOut = \"Vui lòng chọn ngày trả phòng\";\n    } else if (bookingFormData.checkIn && new Date(bookingFormData.checkOut) <= new Date(bookingFormData.checkIn)) {\n      errors.checkOut = \"Ngày trả phòng phải sau ngày nhận phòng\";\n    }\n    if (!bookingFormData.guests || bookingFormData.guests < 1) {\n      errors.guests = \"Vui lòng chọn ít nhất 1 khách\";\n    }\n    return errors;\n  };\n  const handleBookingSubmit = async (e) => {\n    e.preventDefault();\n    const errors = validateForm();\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const formattedData = {\n        homestay: selectedHomestay?.title,\n        price: selectedHomestay?.price,\n        location: selectedHomestay?.location,\n        host: selectedHomestay?.host,\n        checkIn: bookingFormData.checkIn,\n        checkOut: bookingFormData.checkOut,\n        selectedTime,\n        nights: Math.max(\n          1,\n          Math.ceil(\n            (new Date(bookingFormData.checkOut) - new Date(bookingFormData.checkIn)) / (1e3 * 60 * 60 * 24)\n          )\n        ),\n        totalPrice: selectedHomestay?.price * Math.max(\n          1,\n          Math.ceil(\n            (new Date(bookingFormData.checkOut) - new Date(bookingFormData.checkIn)) / (1e3 * 60 * 60 * 24)\n          )\n        ),\n        ...bookingFormData,\n        date: (/* @__PURE__ */ new Date()).toISOString()\n      };\n      setSuccessBookingData(formattedData);\n      try {\n        const bookingServerUrl = \"https://mussedupin.onrender.com/api/bookings\";\n        const serverResponse = await fetch(bookingServerUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(formattedData)\n        });\n        if (!serverResponse.ok) {\n          throw new Error(\"Không thể lưu đặt phòng lên máy chủ\");\n        }\n        console.log(\n          \"Đã lưu đặt phòng lên máy chủ:\",\n          await serverResponse.json()\n        );\n      } catch (serverError) {\n        console.error(\"Không thể lưu lên máy chủ đặt phòng:\", serverError);\n      }\n      setShowBookingSidebar(false);\n      setShowSuccessModal(true);\n      setBookingFormData({\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        checkIn: \"\",\n        checkOut: \"\",\n        guests: 1,\n        specialRequests: \"\"\n      });\n      setSelectedTime(null);\n    } catch (error) {\n      console.error(\"Lỗi khi gửi đặt phòng:\", error);\n      alert(\"Đã xảy ra lỗi khi gửi đặt phòng. Vui lòng thử lại.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const closeSuccessModal = () => {\n    setShowSuccessModal(false);\n    document.body.style.overflow = \"auto\";\n  };\n  const amenitiesData = [\n    {\n      id: \"information-desk\",\n      title: \"Quầy thông tin\",\n      description: \"Hai quầy thông tin, nơi du khách có thể hỏi đáp với nhân viên và nhận bản đồ bảo tàng. Tài liệu hướng dẫn bằng 8 ngôn ngữ có sẵn dưới Tháp.\",\n      image: \"room1.jpg\",\n      icon: \"info\",\n      details: \"Nhân viên đa ngôn ngữ làm việc từ 9:00 đến 19:00 hàng ngày.\"\n    },\n    {\n      id: \"cloakroom\",\n      title: \"Phòng gửi đồ\",\n      description: \"Tủ khóa tự phục vụ miễn phí dưới Tháp. Khách tham quan nên sử dụng tủ khóa tại lối vào. Tất cả các vật dụng gửi trong tủ khóa phải được lấy lại trong cùng ngày.\",\n      image: \"room2.jpg\",\n      icon: \"hanger\",\n      details: \"Gửi miễn phí cho túi có kích thước tối đa 55×35×20 cm. Không nhận vật dụng lớn hơn.\"\n    },\n    {\n      id: \"equipment\",\n      title: \"Cho mượn thiết bị\",\n      description: \"Gậy chống, ghế xếp, xe đẩy trẻ em, địu em bé, ghế đa năng có bánh xe và xe lăn được cung cấp miễn phí tại khu vực tiếp đón khách dưới Tháp.\",\n      image: \"room3.jpg\",\n      icon: \"stroller\",\n      details: \"Liên hệ quầy hỗ trợ để biết thêm thông tin\"\n    },\n    {\n      id: \"wifi\",\n      title: \"Wi-Fi Miễn phí\",\n      description: \"Mạng 'Musée Du Pin' có sẵn dưới Tháp và trong các phòng trưng bày. Kết nối Wi-Fi miễn phí có giới hạn một giờ và có thể được gia hạn nhiều lần theo nhu cầu.\",\n      image: \"room4.jpg\",\n      icon: \"wifi\",\n      details: \"Tốc độ kết nối: 50 Mbps\"\n    },\n    {\n      id: \"toilets\",\n      title: \"Nhà vệ sinh\",\n      description: \"Nhà vệ sinh có thể được tìm thấy tại khu vực đón tiếp dưới Tháp và khắp bảo tàng. Có bàn thay tã cho em bé.\",\n      image: \"room5.jpg\",\n      icon: \"toilet\",\n      details: \"Tất cả nhà vệ sinh đều tiếp cận được cho người khuyết tật\"\n    },\n    {\n      id: \"car-park\",\n      title: \"Bãi đậu xe\",\n      description: \"Bãi đậu xe ngầm nằm tại số 1 Đại lộ Général Lemonnier, từ đó bạn có thể vào bảo tàng qua lối vào Carrousel. Mở cửa 7 ngày một tuần từ 7:00 đến 23:00.\",\n      image: \"room6.jpg\",\n      icon: \"parking\",\n      details: \"Khách tham quan khuyết tật được hưởng giá đậu xe ưu đãi. Giá này có thể được thương lượng tại quầy thanh toán trước khi trả tiền.\"\n    },\n    {\n      id: \"lost-found\",\n      title: \"Đồ thất lạc\",\n      description: \"Bị mất đồ? Nếu bạn vẫn còn trong bảo tàng, hãy đến Quầy Hỗ trợ dưới Tháp và nhân viên sẽ giúp bạn.\",\n      image: \"room7.jpg\",\n      icon: \"help\",\n      details: \"Đối với đồ vật tìm thấy sau chuyến thăm, hãy điền vào mẫu báo cáo trên trang web của chúng tôi\"\n    },\n    {\n      id: \"baby-space\",\n      title: \"Khu vực cho em bé\",\n      description: \"Studio – khu vực đặc biệt được thiết kế dành cho gia đình, nằm ở tầng trệt của cánh Richelieu – có khu vực dành cho em bé được trang bị máy hâm sữa, lò vi sóng và ghế cho con bú.\",\n      image: \"room8.jpg\",\n      icon: \"baby\",\n      details: \"Mọi thứ bạn cần cho sự thoải mái và chăm sóc em bé\"\n    }\n  ];\n  const homestayData = [\n    {\n      id: \"traditional\",\n      title: \"The ChildHood\",\n      description: \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\n      image: \"thechillhood.jpg\",\n      price: 28e5,\n      rating: 4.8,\n      tags: [\"Đề xuất\", \"Truyền thống\", \"Bao gồm bữa sáng\"],\n      category: [\"popular\", \"recommended\"],\n      location: \"Cách bảo tàng 5 phút đi bộ\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong nhà truyền thống\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Bao gồm bữa sáng\",\n        \"Điều hòa nhiệt độ\",\n        \"Vườn\",\n        \"Phòng tắm riêng\"\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Không tổ chức tiệc\"],\n      cancellation: \"Hủy miễn phí đến 48 giờ trước khi nhận phòng\",\n      gallery: [\n        \"whitebauhinia.jpg\",\n        \"thechill1.jpg\",\n        \"thechill2.jpg\",\n        \"thememory.jpg\"\n      ],\n      reviews: [\n        {\n          author: \"Jean-Pierre\",\n          rating: 5,\n          comment: \"Trải nghiệm truyền thống tuyệt vời với bữa sáng ngon!\"\n        },\n        {\n          author: \"Sarah\",\n          rating: 4.5,\n          comment: \"Ngôi nhà đẹp và chủ nhà rất thân thiện. Rất đáng để ở.\"\n        }\n      ]\n    },\n    {\n      id: \"modern\",\n      title: \"White Bauhunia\",\n      description: \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\n      image: \"whitebauhinia.jpg\",\n      price: 42e5,\n      rating: 4.9,\n      tags: [\"Đánh giá cao\", \"Sang trọng\", \"Vị trí trung tâm\"],\n      category: [\"popular\", \"top-rated\"],\n      location: \"Cách bảo tàng 10 phút đi bộ\",\n      host: \"Musée Du Pin\",\n      roomType: \"Toàn bộ căn hộ\",\n      beds: \"1 giường king, 1 giường sofa\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Bếp đầy đủ\",\n        \"Máy giặt/sấy\",\n        \"TV thông minh\",\n        \"Thang máy\",\n        \"View thành phố\"\n      ],\n      rules: [\"Không hút thuốc\", \"Cho phép thú cưng\", \"Không tổ chức tiệc\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechill1.jpg\",\n        \"thechill2.jpg\"\n      ],\n      reviews: [\n        {\n          author: \"Lisa\",\n          rating: 5,\n          comment: \"Căn hộ đẹp với view tuyệt vời! Rất sạch sẽ và hiện đại.\"\n        },\n        {\n          author: \"David\",\n          rating: 4.8,\n          comment: \"Vị trí tuyệt vời và trang bị đầy đủ. Sẽ quay lại!\"\n        }\n      ]\n    },\n    {\n      id: \"luxury\",\n      title: \"The chill 1\",\n      description: \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\n      image: \"thechill1.jpg\",\n      price: 82e5,\n      rating: 5,\n      tags: [\"Cao cấp\", \"Riêng tư\", \"Dịch vụ đầy đủ\"],\n      category: [\"top-rated\", \"luxury\"],\n      location: \"Cách bảo tàng 15 phút lái xe\",\n      host: \"Musée Du Pin\",\n      roomType: \"Toàn bộ biệt thự\",\n      beds: \"2 giường king, 1 giường queen\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Hồ bơi\",\n        \"Bếp đầy đủ\",\n        \"Vườn\",\n        \"Bãi đậu xe\",\n        \"Dịch vụ dọn phòng hàng ngày\",\n        \"Lễ tân\"\n      ],\n      rules: [\n        \"Không hút thuốc trong nhà\",\n        \"Không thú cưng\",\n        \"Cho phép tổ chức sự kiện với sự đồng ý trước\"\n      ],\n      cancellation: \"Hủy miễn phí đến 7 ngày trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\"\n      ],\n      reviews: [\n        {\n          author: \"James\",\n          rating: 5,\n          comment: \"Sang trọng tuyệt đối! Biệt thự vượt quá mong đợi.\"\n        },\n        {\n          author: \"Sophia\",\n          rating: 5,\n          comment: \"Dịch vụ xuất sắc và cơ sở vật chất tuyệt vời. Xứng đáng với giá tiền!\"\n        }\n      ]\n    },\n    {\n      id: \"budget\",\n      title: \"The Chill 2\",\n      description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thechill2.jpg\",\n      price: 175e4,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\"\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\"\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\"\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment: \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\"\n        }\n      ]\n    },\n    {\n      id: \"budget\",\n      title: \"The Memory\",\n      description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thememory.jpg\",\n      price: 175e4,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\"\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"whitebauhinia.jpg\"\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\"\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment: \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\"\n        }\n      ]\n    },\n    {\n      id: \"budget\",\n      title: \"The Sunset\",\n      description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thesunset.jpg\",\n      price: 175e4,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\"\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thechill1.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\"\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\"\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment: \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\"\n        }\n      ]\n    },\n    {\n      id: \"budget\",\n      title: \"The Train\",\n      description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thetrain.jpg\",\n      price: 175e4,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\"\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thechill2.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\"\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\"\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment: \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\"\n        }\n      ]\n    }\n  ];\n  const faqData = [\n    {\n      question: \"Tôi có thể tham quan bảo tàng miễn phí không? Tôi có cần đặt vé không?\",\n      answer: \"Bảo tàng miễn phí vé vào cửa cho một số đối tượng bao gồm người dưới 18 tuổi, cư dân EU dưới 26 tuổi và khách tham quan khuyết tật cùng người đi kèm. Vào cửa miễn phí cũng được áp dụng cho tất cả mọi người vào thứ Sáu đầu tiên của mỗi tháng từ 18:00 (trừ tháng 7 và tháng 8). Chúng tôi khuyến nghị đặt khung giờ trước, kể cả đối với khách được miễn phí vé, đặc biệt là trong mùa cao điểm.\"\n    },\n    {\n      question: \"Làm thế nào để mua vé ưu đãi?\",\n      answer: \"Vé ưu đãi dành cho thanh niên từ 18-25 tuổi đến từ các nước ngoài EU, người có Thẻ Giáo dục, và thành viên của các tổ chức đối tác. Bạn phải xuất trình CMND/CCCD hợp lệ hoặc thẻ thành viên tại cổng vào. Vé ưu đãi có thể được mua trực tuyến hoặc tại quầy vé.\"\n    },\n    {\n      question: \"Tôi có thể được hoàn tiền không?\",\n      answer: \"Vé không được hoàn tiền sau khi mua. Tuy nhiên, trong trường hợp bảo tàng đóng cửa vì lý do đặc biệt, chúng tôi sẽ hoàn tiền hoặc đổi ngày khác. Đối với các trường hợp đặc biệt, vui lòng liên hệ dịch vụ khách tham quan tại visitor@museedupin.com kèm mã đặt chỗ và lý do yêu cầu hoàn tiền.\"\n    },\n    {\n      question: \"Tôi sử dụng lối vào nào nếu đã mua vé trực tuyến?\",\n      answer: \"Khách có vé điện tử có thể vào qua lối vào Tháp (lối vào chính) hoặc lối vào Porte des Lions. Lối vào Carrousel dành cho các đoàn và người có thẻ bảo tàng. Vé điện tử của bạn có mã QR sẽ được quét tại lối vào. Chúng tôi khuyến nghị đến trước 15 phút so với khung giờ đã đặt.\"\n    },\n    {\n      question: \"Có cho phép xe đẩy em bé vào bảo tàng không?\",\n      answer: \"Có, xe đẩy và nôi em bé được phép vào bảo tàng. Tuy nhiên, trong thời điểm đông khách, bạn có thể được yêu cầu gửi xe đẩy lớn tại phòng gửi đồ và sử dụng địu em bé thay thế, được cung cấp miễn phí. Tất cả các phòng trưng bày và không gian triển lãm đều có thể tiếp cận bằng xe đẩy thông qua thang máy.\"\n    },\n    {\n      question: \"Những vật dụng nào không được phép mang vào bảo tàng?\",\n      answer: \"Các vật dụng không được phép mang vào bảo tàng bao gồm túi xách và vali lớn (kích thước lớn hơn 55×35×20 cm), giá ba chân, gậy selfie, thiết bị chụp ảnh có đèn flash, đồ ăn thức uống (trừ chai nước), và các vật sắc nhọn. Những vật dụng này phải được gửi tại phòng gửi đồ. Chúng tôi cũng cấm chạm vào tác phẩm nghệ thuật, hút thuốc, và sử dụng điện thoại di động trong phòng trưng bày.\"\n    }\n  ];\n  const renderHero = () => /* @__PURE__ */ jsx(\"div\", { className: \"visitinfo-hero\", ref: heroRef, children: /* @__PURE__ */ jsx(\"div\", { className: \"visitinfo-hero-image-container\", children: /* @__PURE__ */ jsx(\n    \"img\",\n    {\n      src: getImageUrl(\"luutrunghethuat.jpg\", {\n        width: 1920,\n        height: 1080,\n        crop: \"fill\"\n      }),\n      alt: \"Nội thất bảo tàng\",\n      className: \"visitinfo-hero-image\"\n    }\n  ) }) });\n  const renderNavigationBar = () => {\n    if (isMobile) return null;\n    return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: `visitinfo-nav-container ${isNavSticky ? \"sticky\" : \"\"} ${navScrolled ? \"scrolled-right\" : \"\"}`,\n        ref: (el) => {\n          navRef.current = el;\n          horizontalNavRef.current = el;\n        },\n        onTouchStart: handleNavTouchStart,\n        onTouchMove: handleNavTouchMove,\n        children: /* @__PURE__ */ jsx(\"div\", { className: \"visitinfo-nav\", children: /* @__PURE__ */ jsxs(\"ul\", { className: \"visitinfo-nav-list\", children: [\n          /* @__PURE__ */ jsxs(\n            \"li\",\n            {\n              className: `visitinfo-nav-item ${activeSection === \"amenities\" ? \"active\" : \"\"}`,\n              children: [\n                /* @__PURE__ */ jsx(\n                  \"button\",\n                  {\n                    onClick: () => scrollToSection(\"amenities\"),\n                    className: \"visitinfo-nav-button\",\n                    children: \"Tiện ích\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\"span\", { className: \"visitinfo-nav-indicator\" })\n              ]\n            }\n          ),\n          /* @__PURE__ */ jsxs(\n            \"li\",\n            {\n              className: `visitinfo-nav-item ${activeSection === \"homestay\" ? \"active\" : \"\"}`,\n              children: [\n                /* @__PURE__ */ jsx(\n                  \"button\",\n                  {\n                    onClick: () => scrollToSection(\"homestay\"),\n                    className: \"visitinfo-nav-button\",\n                    children: \"Lưu trú\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\"span\", { className: \"visitinfo-nav-indicator\" })\n              ]\n            }\n          ),\n          /* @__PURE__ */ jsxs(\n            \"li\",\n            {\n              className: `visitinfo-nav-item ${activeSection === \"faq\" ? \"active\" : \"\"}`,\n              children: [\n                /* @__PURE__ */ jsx(\n                  \"button\",\n                  {\n                    onClick: () => scrollToSection(\"faq\"),\n                    className: \"visitinfo-nav-button\",\n                    children: \"Hỏi đáp\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\"span\", { className: \"visitinfo-nav-indicator\" })\n              ]\n            }\n          )\n        ] }) })\n      }\n    ) });\n  };\n  const createRippleEffect = (event) => {\n    const button = event.currentTarget;\n    const ripple = document.createElement(\"span\");\n    const rect = button.getBoundingClientRect();\n    const size = Math.max(rect.width, rect.height);\n    const x = event.clientX - rect.left - size / 2;\n    const y = event.clientY - rect.top - size / 2;\n    ripple.style.width = ripple.style.height = `${size}px`;\n    ripple.style.left = `${x}px`;\n    ripple.style.top = `${y}px`;\n    ripple.className = \"ripple-circle\";\n    button.appendChild(ripple);\n    setTimeout(() => {\n      ripple.remove();\n    }, 800);\n  };\n  const renderAmenitiesSection = () => /* @__PURE__ */ jsxs(\n    \"section\",\n    {\n      className: \"amenities-section\",\n      id: \"amenities\",\n      ref: sectionRefs.amenities,\n      children: [\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-lines\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-circle large\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-circle medium\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-dots-pattern\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"section-tag\", children: \"TIỆN ÍCH\" }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"visitinfo-section-container\", children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"visitinfo-section-header\", children: [\n            /* @__PURE__ */ jsxs(\"h2\", { className: \"visitinfo-section-title\", children: [\n              /* @__PURE__ */ jsx(\"span\", { children: \"Tiện nghi và thoải mái\" }),\n              /* @__PURE__ */ jsx(\"span\", { className: \"title-underline\" })\n            ] }),\n            /* @__PURE__ */ jsx(\"p\", { className: \"visitinfo-section-description\", children: \"Bảo tàng cung cấp nhiều dịch vụ để đảm bảo điều kiện tham quan tốt nhất. Nhân viên luôn sẵn sàng trong bảo tàng để cung cấp thông tin cập nhật về bảo tàng và các hoạt động.\" })\n          ] }),\n          /* @__PURE__ */ jsx(\"div\", { className: \"amenities-container\", children: amenitiesData.map((amenity, index) => /* @__PURE__ */ jsxs(\n            \"div\",\n            {\n              className: `amenity-card desktop-enhanced ${index % 3 === 0 ? \"wide\" : \"\"}`,\n              style: {\n                animationDelay: `${index * 0.1}s`,\n                background: `linear-gradient(135deg, ${index % 4 === 0 ? \"#1E2A3B, #152231\" : index % 4 === 1 ? \"#2A1E3B, #231522\" : index % 4 === 2 ? \"#3B1E2A, #311522\" : \"#1E3B2A, #152315\"})`,\n                borderLeft: `3px solid ${index % 4 === 0 ? \"#00d1b2\" : index % 4 === 1 ? \"#7c4dff\" : index % 4 === 2 ? \"#ff4081\" : \"#00e676\"}`\n              },\n              onClick: createRippleEffect,\n              children: [\n                /* @__PURE__ */ jsxs(\"div\", { className: \"amenity-content-wrapper\", children: [\n                  /* @__PURE__ */ jsxs(\"div\", { className: \"amenity-icon-container\", children: [\n                    /* @__PURE__ */ jsx(\n                      \"div\",\n                      {\n                        className: \"amenity-icon\",\n                        style: {\n                          color: index % 4 === 0 ? \"#00d1b2\" : index % 4 === 1 ? \"#7c4dff\" : index % 4 === 2 ? \"#ff4081\" : \"#00e676\"\n                        },\n                        children: renderIcon(amenity.icon)\n                      }\n                    ),\n                    /* @__PURE__ */ jsx(\"div\", { className: \"amenity-icon-backdrop\" })\n                  ] }),\n                  /* @__PURE__ */ jsxs(\"div\", { className: \"amenity-card-content\", children: [\n                    /* @__PURE__ */ jsx(\"h3\", { className: \"amenity-title\", children: amenity.title }),\n                    /* @__PURE__ */ jsx(\"p\", { className: \"amenity-description\", children: amenity.description }),\n                    /* @__PURE__ */ jsx(\"div\", { className: \"amenity-card-details\", children: amenity.details })\n                  ] })\n                ] }),\n                /* @__PURE__ */ jsxs(\"div\", { className: \"amenity-card-decorations\", children: [\n                  /* @__PURE__ */ jsx(\"div\", { className: \"decoration-circle\" }),\n                  /* @__PURE__ */ jsx(\"div\", { className: \"decoration-line\" }),\n                  /* @__PURE__ */ jsx(\"div\", { className: \"decoration-dots\" })\n                ] }),\n                /* @__PURE__ */ jsx(\"div\", { className: \"amenity-card-shine\" })\n              ]\n            },\n            amenity.id\n          )) })\n        ] })\n      ]\n    }\n  );\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\"\n    }).format(price);\n  };\n  const renderHomestaySection = () => /* @__PURE__ */ jsxs(\n    \"section\",\n    {\n      className: \"homestay-section\",\n      id: \"homestay\",\n      ref: sectionRefs.homestay,\n      children: [\n        /* @__PURE__ */ jsx(\"div\", { className: \"section-tag\", children: \"LƯU TRÚ\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-circle large\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-circle medium\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-square\" }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"decorative-dot\" }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"visitinfo-section-container\", children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"visitinfo-section-header\", children: [\n            /* @__PURE__ */ jsxs(\"h2\", { className: \"visitinfo-section-title modern\", children: [\n              /* @__PURE__ */ jsx(\"span\", { children: \"Trải nghiệm cuộc sống địa phương gần bảo tàng\" }),\n              /* @__PURE__ */ jsx(\"span\", { className: \"title-accent\" })\n            ] }),\n            /* @__PURE__ */ jsx(\"p\", { className: \"visitinfo-section-description\", children: \"Hòa mình vào văn hóa địa phương với các lựa chọn lưu trú được chọn lọc kỹ càng gần bảo tàng. Trải nghiệm sự hiếu khách đích thực trong những không gian được thiết kế nghệ thuật.\" })\n          ] }),\n          /* @__PURE__ */ jsx(\"div\", { className: \"homestay-categories-wrapper\", children: /* @__PURE__ */ jsxs(\n            \"div\",\n            {\n              className: \"homestay-categories\",\n              style: {\n                display: \"flex\",\n                flexWrap: \"wrap\",\n                gap: \"15px\",\n                marginBottom: \"50px\",\n                justifyContent: \"flex-start\"\n              },\n              children: [\n                /* @__PURE__ */ jsx(\n                  \"div\",\n                  {\n                    className: `homestay-category ${activeCategory === \"all\" ? \"active\" : \"\"}`,\n                    onClick: () => handleCategoryChange(\"all\"),\n                    children: \"Tất cả lựa chọn\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\n                  \"div\",\n                  {\n                    className: `homestay-category ${activeCategory === \"popular\" ? \"active\" : \"\"}`,\n                    onClick: () => handleCategoryChange(\"popular\"),\n                    children: \"Phổ biến\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\n                  \"div\",\n                  {\n                    className: `homestay-category ${activeCategory === \"top-rated\" ? \"active\" : \"\"}`,\n                    onClick: () => handleCategoryChange(\"top-rated\"),\n                    children: \"Đánh giá cao\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\n                  \"div\",\n                  {\n                    className: `homestay-category ${activeCategory === \"recommended\" ? \"active\" : \"\"}`,\n                    onClick: () => handleCategoryChange(\"recommended\"),\n                    children: \"Đề xuất\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\n                  \"div\",\n                  {\n                    className: `homestay-category ${activeCategory === \"budget-friendly\" ? \"active\" : \"\"}`,\n                    onClick: () => handleCategoryChange(\"budget-friendly\"),\n                    children: \"Giá tốt\"\n                  }\n                )\n              ]\n            }\n          ) }),\n          /* @__PURE__ */ jsx(\"div\", { className: \"homestay-grid modern\", children: filteredHomestays.map((homestay) => /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-card modern\", children: [\n            /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-card-image\", children: [\n              /* @__PURE__ */ jsx(\"img\", { src: getImageUrl(homestay.image), alt: homestay.title }),\n              homestay.tags.map(\n                (tag, index) => index < 1 && /* @__PURE__ */ jsx(\"div\", { className: \"homestay-card-tag\", children: tag }, index)\n              )\n            ] }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-card-content\", children: [\n              /* @__PURE__ */ jsx(\"h3\", { className: \"homestay-card-title\", children: homestay.title }),\n              /* @__PURE__ */ jsx(\"p\", { className: \"homestay-card-description\", children: homestay.description }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-card-location\", children: [\n                /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", children: /* @__PURE__ */ jsx(\n                  \"path\",\n                  {\n                    d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\",\n                    fill: \"currentColor\"\n                  }\n                ) }),\n                /* @__PURE__ */ jsx(\"span\", { children: homestay.location })\n              ] }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-card-footer\", children: [\n                /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-card-price\", children: [\n                  /* @__PURE__ */ jsx(\"span\", { className: \"price-value\", children: formatPrice(homestay.price) }),\n                  /* @__PURE__ */ jsx(\"span\", { className: \"price-unit\", children: \"mỗi đêm\" })\n                ] }),\n                /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-card-actions\", children: [\n                  /* @__PURE__ */ jsx(\n                    \"button\",\n                    {\n                      className: \"btn-view\",\n                      onClick: () => openDetailsSidebar(homestay),\n                      children: \"Xem chi tiết\"\n                    }\n                  ),\n                  /* @__PURE__ */ jsx(\n                    \"button\",\n                    {\n                      className: \"btn-book\",\n                      onClick: () => openBookingSidebar(homestay),\n                      children: \"Đặt ngay\"\n                    }\n                  )\n                ] })\n              ] })\n            ] })\n          ] }, homestay.id)) })\n        ] })\n      ]\n    }\n  );\n  const renderFAQSection = () => /* @__PURE__ */ jsxs(\"section\", { className: \"faq-section\", id: \"faq\", ref: sectionRefs.faq, children: [\n    /* @__PURE__ */ jsx(\"div\", { className: \"decorative-circle large\" }),\n    /* @__PURE__ */ jsx(\"div\", { className: \"decorative-circle medium\" }),\n    /* @__PURE__ */ jsxs(\"div\", { className: \"faq-container\", children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"faq-header\", children: [\n        /* @__PURE__ */ jsx(\n          \"h2\",\n          {\n            className: \"faq-title\",\n            style: {\n              fontFamily: \"'Mythical-Prince', 'LouvreSerif', Georgia, 'Times New Roman', serif\"\n            },\n            children: /* @__PURE__ */ jsx(\"span\", { children: \"Câu hỏi thường gặp\" })\n          }\n        ),\n        /* @__PURE__ */ jsx(\"p\", { className: \"faq-subtitle\", children: \"Câu trả lời từ Bảo tàng Du Pin.\" })\n      ] }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"faq-list\", children: faqData.map((faq, index) => /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: `faq-item ${activeFaq === index ? \"active\" : \"\"}`,\n          style: { \"--animation-order\": index },\n          children: [\n            /* @__PURE__ */ jsx(\"div\", { className: \"faq-highlight\" }),\n            /* @__PURE__ */ jsx(\"div\", { className: \"faq-question\", onClick: () => toggleFaq(index), children: /* @__PURE__ */ jsx(\"span\", { children: faq.question }) }),\n            /* @__PURE__ */ jsx(\"div\", { className: \"faq-answer\", children: /* @__PURE__ */ jsx(\"p\", { children: faq.answer }) })\n          ]\n        },\n        index\n      )) }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"faq-footer\", children: [\n        /* @__PURE__ */ jsx(\"h3\", { className: \"faq-footer-title\", children: \"Didn't find your answer?\" }),\n        /* @__PURE__ */ jsx(\"p\", { className: \"faq-footer-text\", children: \"Contact our support team for more information.\" }),\n        /* @__PURE__ */ jsxs(\"button\", { className: \"contact-btn\", children: [\n          /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n            \"path\",\n            {\n              fill: \"currentColor\",\n              d: \"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"\n            }\n          ) }),\n          \"Contact Us\"\n        ] })\n      ] })\n    ] }),\n    renderMobileScrollTop()\n  ] });\n  const renderHomestayDetailsSidebar = () => {\n    if (!selectedHomestay || !showDetailsSidebar) return null;\n    const gallery = selectedHomestay.gallery || [];\n    return /* @__PURE__ */ jsxs(\n      \"div\",\n      {\n        className: `homestay-details-sidebar ${showDetailsSidebar ? \"open\" : \"\"}`,\n        ref: detailsSidebarRef,\n        children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"details-sidebar-header\", children: [\n            /* @__PURE__ */ jsx(\"button\", { className: \"close-sidebar\", onClick: closeDetailsSidebar, children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", children: /* @__PURE__ */ jsx(\n              \"path\",\n              {\n                d: \"M6 18L18 6M6 6l12 12\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\"\n              }\n            ) }) }),\n            /* @__PURE__ */ jsx(\"h2\", { children: selectedHomestay.title }),\n            /* @__PURE__ */ jsx(\"div\", { style: { width: \"32px\" } })\n          ] }),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"details-sidebar-content\", children: [\n            /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-gallery\", children: [\n              /* @__PURE__ */ jsxs(\"div\", { className: \"gallery-main\", onClick: () => openGalleryModal(0), children: [\n                /* @__PURE__ */ jsx(\n                  \"img\",\n                  {\n                    src: getImageUrl(gallery[0] || selectedHomestay.image),\n                    alt: selectedHomestay.title\n                  }\n                ),\n                /* @__PURE__ */ jsx(\"div\", { className: \"gallery-zoom-icon\", children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"20\", height: \"20\", children: /* @__PURE__ */ jsx(\n                  \"path\",\n                  {\n                    d: \"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\"\n                  }\n                ) }) })\n              ] }),\n              /* @__PURE__ */ jsx(\"div\", { className: \"gallery-thumbnails\", children: gallery.map((img, index) => /* @__PURE__ */ jsx(\n                \"div\",\n                {\n                  className: `gallery-thumbnail ${activeImageIndex === index ? \"active\" : \"\"}`,\n                  onClick: () => {\n                    setActiveImageIndex(index);\n                    openGalleryModal(index);\n                  },\n                  children: /* @__PURE__ */ jsx(\n                    \"img\",\n                    {\n                      src: getImageUrl(img),\n                      alt: `${selectedHomestay.title} - hình ${index + 1}`\n                    }\n                  )\n                },\n                index\n              )) })\n            ] }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-details-info\", children: [\n              /* @__PURE__ */ jsx(\"h3\", { className: \"homestay-details-subtitle\", children: selectedHomestay.roomType }),\n              /* @__PURE__ */ jsx(\"p\", { className: \"homestay-details-description\", children: selectedHomestay.description }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-details-location\", children: [\n                /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n                  \"path\",\n                  {\n                    d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\",\n                    fill: \"currentColor\"\n                  }\n                ) }),\n                /* @__PURE__ */ jsx(\"span\", { children: selectedHomestay.location })\n              ] }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-details-host\", children: [\n                /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n                  \"path\",\n                  {\n                    d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\",\n                    fill: \"currentColor\"\n                  }\n                ) }),\n                /* @__PURE__ */ jsxs(\"span\", { children: [\n                  \"Chủ sở hữu: \",\n                  selectedHomestay.host\n                ] })\n              ] }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-details-beds\", children: [\n                /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n                  \"path\",\n                  {\n                    d: \"M20 12c0-1.1-.9-2-2-2V7c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3c-1.1 0-2 .9-2 2v5h1.33L6 19h1l.67-2h8.67l.66 2h1l.67-2H20v-5zm-4-2H8V7h8v3z\",\n                    fill: \"currentColor\"\n                  }\n                ) }),\n                /* @__PURE__ */ jsx(\"span\", { children: selectedHomestay.beds })\n              ] }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-details-section\", children: [\n                /* @__PURE__ */ jsx(\"h3\", { children: \"Tiện nghi\" }),\n                /* @__PURE__ */ jsx(\"ul\", { className: \"amenities-list\", children: selectedHomestay.amenities.map((amenity, index) => /* @__PURE__ */ jsxs(\"li\", { children: [\n                  /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"16\", height: \"16\", children: /* @__PURE__ */ jsx(\n                    \"path\",\n                    {\n                      d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\",\n                      fill: \"currentColor\"\n                    }\n                  ) }),\n                  amenity\n                ] }, index)) })\n              ] }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-details-section\", children: [\n                /* @__PURE__ */ jsx(\"h3\", { children: \"Nội quy\" }),\n                /* @__PURE__ */ jsx(\"ul\", { className: \"rules-list\", children: selectedHomestay.rules.map((rule, index) => /* @__PURE__ */ jsx(\"li\", { children: rule }, index)) })\n              ] }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-details-section\", children: [\n                /* @__PURE__ */ jsx(\"h3\", { children: \"Chính sách hủy phòng\" }),\n                /* @__PURE__ */ jsx(\"p\", { children: selectedHomestay.cancellation })\n              ] })\n            ] }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"homestay-booking-card\", children: [\n              /* @__PURE__ */ jsxs(\"div\", { className: \"booking-card-price\", children: [\n                /* @__PURE__ */ jsx(\"span\", { className: \"price-value\", children: formatPrice(selectedHomestay.price) }),\n                /* @__PURE__ */ jsx(\"span\", { className: \"price-unit\", children: \"mỗi đêm\" })\n              ] }),\n              /* @__PURE__ */ jsx(\n                \"button\",\n                {\n                  className: \"btn-book-now\",\n                  onClick: () => openBookingSidebar(selectedHomestay),\n                  children: \"Đặt ngay\"\n                }\n              )\n            ] })\n          ] })\n        ]\n      }\n    );\n  };\n  const renderBookingSidebar = () => {\n    if (!selectedHomestay) return null;\n    return /* @__PURE__ */ jsxs(\n      \"div\",\n      {\n        className: `booking-sidebar ${showBookingSidebar ? \"open\" : \"\"}`,\n        ref: bookingSidebarRef,\n        children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"booking-sidebar-header modern\", children: [\n            /* @__PURE__ */ jsx(\"button\", { className: \"close-sidebar\", onClick: closeBookingSidebar, children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n              \"path\",\n              {\n                d: \"M6 18L18 6M6 6l12 12\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\"\n              }\n            ) }) }),\n            /* @__PURE__ */ jsx(\"h2\", { children: \"Đặt phòng\" }),\n            /* @__PURE__ */ jsx(\"div\", {})\n          ] }),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"booking-sidebar-content\", children: [\n            isSubmitting && /* @__PURE__ */ jsx(\n              \"div\",\n              {\n                className: \"sending-status\",\n                role: \"progressbar\",\n                \"aria-label\": \"Đang gửi thông tin đặt phòng\"\n              }\n            ),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"booking-homestay-info modern\", children: [\n              /* @__PURE__ */ jsx(\n                \"img\",\n                {\n                  src: getImageUrl(selectedHomestay.image),\n                  alt: selectedHomestay.title\n                }\n              ),\n              /* @__PURE__ */ jsxs(\"div\", { children: [\n                /* @__PURE__ */ jsx(\"h3\", { children: selectedHomestay.title }),\n                /* @__PURE__ */ jsxs(\"div\", { className: \"booking-homestay-location\", children: [\n                  /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"14\", height: \"14\", children: /* @__PURE__ */ jsx(\n                    \"path\",\n                    {\n                      d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\",\n                      fill: \"currentColor\"\n                    }\n                  ) }),\n                  /* @__PURE__ */ jsx(\"span\", { children: selectedHomestay.location })\n                ] }),\n                /* @__PURE__ */ jsxs(\"div\", { className: \"booking-homestay-price\", children: [\n                  /* @__PURE__ */ jsx(\"span\", { className: \"price-value\", children: formatPrice(selectedHomestay.price) }),\n                  /* @__PURE__ */ jsx(\"span\", { className: \"price-unit\", children: \"mỗi đêm\" })\n                ] })\n              ] })\n            ] }),\n            /* @__PURE__ */ jsxs(\"form\", { className: \"booking-form modern\", onSubmit: handleBookingSubmit, children: [\n              updateBookingForm(),\n              /* @__PURE__ */ jsxs(\"div\", { className: `form-group ${formErrors.name ? \"has-error\" : \"\"}`, children: [\n                /* @__PURE__ */ jsx(\"label\", { htmlFor: \"name\", children: \"Họ và tên\" }),\n                /* @__PURE__ */ jsx(\n                  \"input\",\n                  {\n                    type: \"text\",\n                    id: \"name\",\n                    name: \"name\",\n                    value: bookingFormData.name,\n                    onChange: handleBookingInputChange,\n                    placeholder: \"Nhập họ và tên của bạn\"\n                  }\n                ),\n                formErrors.name && /* @__PURE__ */ jsx(\"div\", { className: \"error-message\", children: formErrors.name })\n              ] }),\n              /* @__PURE__ */ jsxs(\n                \"div\",\n                {\n                  className: `form-group ${formErrors.email ? \"has-error\" : \"\"}`,\n                  children: [\n                    /* @__PURE__ */ jsx(\"label\", { htmlFor: \"email\", children: \"Email\" }),\n                    /* @__PURE__ */ jsx(\n                      \"input\",\n                      {\n                        type: \"email\",\n                        id: \"email\",\n                        name: \"email\",\n                        value: bookingFormData.email,\n                        onChange: handleBookingInputChange,\n                        placeholder: \"Nhập địa chỉ email của bạn\"\n                      }\n                    ),\n                    formErrors.email && /* @__PURE__ */ jsx(\"div\", { className: \"error-message\", children: formErrors.email })\n                  ]\n                }\n              ),\n              /* @__PURE__ */ jsxs(\n                \"div\",\n                {\n                  className: `form-group ${formErrors.phone ? \"has-error\" : \"\"}`,\n                  children: [\n                    /* @__PURE__ */ jsx(\"label\", { htmlFor: \"phone\", children: \"Số điện thoại\" }),\n                    /* @__PURE__ */ jsx(\n                      \"input\",\n                      {\n                        type: \"tel\",\n                        id: \"phone\",\n                        name: \"phone\",\n                        value: bookingFormData.phone,\n                        onChange: handleBookingInputChange,\n                        placeholder: \"Nhận số điện thoại của bạn\"\n                      }\n                    ),\n                    formErrors.phone && /* @__PURE__ */ jsx(\"div\", { className: \"error-message\", children: formErrors.phone })\n                  ]\n                }\n              ),\n              /* @__PURE__ */ jsxs(\n                \"div\",\n                {\n                  className: `form-group ${formErrors.guests ? \"has-error\" : \"\"}`,\n                  children: [\n                    /* @__PURE__ */ jsx(\"label\", { htmlFor: \"guests\", children: \"Số lượng khách\" }),\n                    /* @__PURE__ */ jsx(\n                      \"input\",\n                      {\n                        type: \"number\",\n                        id: \"guests\",\n                        name: \"guests\",\n                        value: bookingFormData.guests,\n                        onChange: handleBookingInputChange,\n                        min: \"1\",\n                        max: \"10\"\n                      }\n                    ),\n                    formErrors.guests && /* @__PURE__ */ jsx(\"div\", { className: \"error-message\", children: formErrors.guests })\n                  ]\n                }\n              ),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"form-group\", children: [\n                /* @__PURE__ */ jsx(\"label\", { htmlFor: \"specialRequests\", children: \"Yêu cầu\" }),\n                /* @__PURE__ */ jsx(\n                  \"textarea\",\n                  {\n                    id: \"specialRequests\",\n                    name: \"specialRequests\",\n                    value: bookingFormData.specialRequests,\n                    onChange: handleBookingInputChange,\n                    placeholder: \"Bạn có yêu cầu hoặc yêu cầu đặc biệt nào không?\",\n                    rows: \"3\"\n                  }\n                )\n              ] }),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"booking-summary modern\", children: [\n                /* @__PURE__ */ jsxs(\"div\", { className: \"summary-row\", children: [\n                  /* @__PURE__ */ jsx(\"span\", { children: \"Giá mỗi đêm\" }),\n                  /* @__PURE__ */ jsx(\"span\", { children: formatPrice(selectedHomestay.price) })\n                ] }),\n                bookingFormData.checkIn && bookingFormData.checkOut && /* @__PURE__ */ jsxs(Fragment, { children: [\n                  /* @__PURE__ */ jsxs(\"div\", { className: \"summary-row\", children: [\n                    /* @__PURE__ */ jsx(\"span\", { children: \"Số đêm\" }),\n                    /* @__PURE__ */ jsx(\"span\", { children: Math.max(\n                      1,\n                      Math.ceil(\n                        (new Date(bookingFormData.checkOut) - new Date(bookingFormData.checkIn)) / (1e3 * 60 * 60 * 24)\n                      )\n                    ) })\n                  ] }),\n                  /* @__PURE__ */ jsxs(\"div\", { className: \"summary-row total\", children: [\n                    /* @__PURE__ */ jsx(\"span\", { children: \"Tổng cộng\" }),\n                    /* @__PURE__ */ jsx(\"span\", { children: formatPrice(\n                      selectedHomestay.price * Math.max(\n                        1,\n                        Math.ceil(\n                          (new Date(bookingFormData.checkOut) - new Date(bookingFormData.checkIn)) / (1e3 * 60 * 60 * 24)\n                        )\n                      )\n                    ) })\n                  ] })\n                ] })\n              ] }),\n              /* @__PURE__ */ jsx(\n                \"button\",\n                {\n                  type: \"submit\",\n                  className: \"btn-submit-booking modern\",\n                  disabled: isSubmitting,\n                  children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [\n                    /* @__PURE__ */ jsx(\"div\", { className: \"spinner\" }),\n                    /* @__PURE__ */ jsx(\"span\", { children: \"Đang xử lý...\" })\n                  ] }) : \"Hoàn tất đặt phòng\"\n                }\n              )\n            ] })\n          ] })\n        ]\n      }\n    );\n  };\n  const renderSuccessModal = () => {\n    if (!successBookingData || !showSuccessModal) return null;\n    const totalPrice = successBookingData.totalPrice || 0;\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: `booking-success-modal ${showSuccessModal ? \"open\" : \"\"}`,\n        children: /* @__PURE__ */ jsxs(\"div\", { className: \"success-modal-content\", children: [\n          /* @__PURE__ */ jsx(\"div\", { className: \"success-icon\", children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"40\", height: \"40\", children: /* @__PURE__ */ jsx(\n            \"path\",\n            {\n              d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\",\n              fill: \"#fff\"\n            }\n          ) }) }),\n          /* @__PURE__ */ jsx(\"h2\", { className: \"success-title\", children: \"Đặt phòng thành công!\" }),\n          /* @__PURE__ */ jsx(\"div\", { className: \"success-animation\", children: [...Array(10)].map((_, i) => /* @__PURE__ */ jsx(\n            \"div\",\n            {\n              className: \"confetti-piece\",\n              style: {\n                width: `${Math.random() * 20 + 10}px`,\n                height: `${Math.random() * 10 + 6}px`,\n                background: `${[\"#1e3a8a\", \"#2563eb\", \"#3b82f6\", \"#bfdbfe\", \"#f8fafc\"][Math.floor(Math.random() * 5)]}`,\n                top: `${Math.random() * 100}%`,\n                left: `${Math.random() * 100}%`,\n                opacity: Math.random(),\n                animation: `fall ${Math.random() * 3 + 2}s linear infinite`,\n                transform: `rotate(${Math.random() * 360}deg)`\n              }\n            },\n            i\n          )) }),\n          /* @__PURE__ */ jsx(\"p\", { className: \"success-message\", children: \"Cảm ơn bạn đã đặt phòng. Chúng tôi đã gửi xác nhận đến email của bạn. Bộ phận chăm sóc khách hàng sẽ sớm liên hệ với bạn để cung cấp thêm thông tin chi tiết.\" }),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"success-details\", children: [\n            /* @__PURE__ */ jsxs(\"div\", { className: \"success-detail-item\", children: [\n              /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n                \"path\",\n                {\n                  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\",\n                  fill: \"currentColor\"\n                }\n              ) }),\n              /* @__PURE__ */ jsxs(\"span\", { children: [\n                \"Chủ sỡ hữu: \",\n                successBookingData.host\n              ] })\n            ] }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"success-detail-item\", children: [\n              /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n                \"path\",\n                {\n                  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\",\n                  fill: \"currentColor\"\n                }\n              ) }),\n              /* @__PURE__ */ jsx(\"span\", { children: successBookingData.location })\n            ] }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"success-detail-item\", children: [\n              /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n                \"path\",\n                {\n                  d: \"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7v-5z\",\n                  fill: \"currentColor\"\n                }\n              ) }),\n              /* @__PURE__ */ jsxs(\"span\", { children: [\n                new Date(successBookingData.checkIn).toLocaleDateString(),\n                \" -\",\n                \" \",\n                new Date(successBookingData.checkOut).toLocaleDateString(),\n                /* @__PURE__ */ jsxs(\"span\", { className: \"booking-nights\", children: [\n                  \"(\",\n                  successBookingData.nights,\n                  \" đêm)\"\n                ] })\n              ] })\n            ] }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"success-detail-item\", children: [\n              /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"18\", height: \"18\", children: /* @__PURE__ */ jsx(\n                \"path\",\n                {\n                  d: \"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\",\n                  fill: \"currentColor\"\n                }\n              ) }),\n              /* @__PURE__ */ jsxs(\"span\", { children: [\n                \"Tổng: \",\n                /* @__PURE__ */ jsxs(\"span\", { className: \"total-price\", children: [\n                  \"$\",\n                  totalPrice\n                ] })\n              ] })\n            ] })\n          ] }),\n          /* @__PURE__ */ jsx(\"button\", { className: \"btn-close-success\", onClick: closeSuccessModal, children: \"Đóng\" })\n        ] })\n      }\n    );\n  };\n  const renderMobileScrollTop = () => {\n    if (!isMobile) return null;\n    return /* @__PURE__ */ jsx(\n      \"button\",\n      {\n        className: \"mobile-scroll-top\",\n        onClick: () => window.scrollTo({ top: 0, behavior: \"smooth\" }),\n        \"aria-label\": \"Cuộn lên đầu trang\",\n        children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", children: /* @__PURE__ */ jsx(\n          \"path\",\n          {\n            d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\",\n            fill: \"currentColor\"\n          }\n        ) })\n      }\n    );\n  };\n  const renderIcon = (icon) => {\n    const commonAttributes = {\n      width: isMobile ? \"30\" : \"32\",\n      height: isMobile ? \"30\" : \"32\",\n      fill: \"none\",\n      stroke: \"#00d1b2\",\n      strokeWidth: \"1.5\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    };\n    switch (icon) {\n      case \"info\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            ...commonAttributes,\n            children: [\n              /* @__PURE__ */ jsx(\"circle\", { cx: \"12\", cy: \"12\", r: \"10\" }),\n              /* @__PURE__ */ jsx(\"line\", { x1: \"12\", y1: \"16\", x2: \"12\", y2: \"12\" }),\n              /* @__PURE__ */ jsx(\"line\", { x1: \"12\", y1: \"8\", x2: \"12.01\", y2: \"8\" })\n            ]\n          }\n        );\n      case \"hanger\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            ...commonAttributes,\n            children: [\n              /* @__PURE__ */ jsx(\"path\", { d: \"M12 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M12 8v3l-8 9h16l-8-9V8\" })\n            ]\n          }\n        );\n      case \"stroller\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            ...commonAttributes,\n            children: [\n              /* @__PURE__ */ jsx(\"circle\", { cx: \"8\", cy: \"18\", r: \"2\" }),\n              /* @__PURE__ */ jsx(\"circle\", { cx: \"16\", cy: \"18\", r: \"2\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M8 18h8l4-12H8\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M6 10h12\" })\n            ]\n          }\n        );\n      case \"wifi\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            ...commonAttributes,\n            children: [\n              /* @__PURE__ */ jsx(\"path\", { d: \"M5 12.55a11 11 0 0 1 14.08 0\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M1.42 9a16 16 0 0 1 21.16 0\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M8.53 16.11a6 6 0 0 1 6.95 0\" }),\n              /* @__PURE__ */ jsx(\"line\", { x1: \"12\", y1: \"20\", x2: \"12.01\", y2: \"20\" })\n            ]\n          }\n        );\n      case \"toilet\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            ...commonAttributes,\n            children: [\n              /* @__PURE__ */ jsx(\"path\", { d: \"M6 4h12v4H6z\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M6 8h12v8a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8z\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M10 8v8\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M14 8v8\" })\n            ]\n          }\n        );\n      case \"parking\":\n        return /* @__PURE__ */ jsx(FaCar, { size: isMobile ? 28 : 32, color: \"currentColor\" });\n      case \"help\":\n        return /* @__PURE__ */ jsx(FaSearch, { size: isMobile ? 28 : 32, color: \"currentColor\" });\n      case \"baby\":\n        return /* @__PURE__ */ jsx(FaBaby, { size: isMobile ? 28 : 32, color: \"currentColor\" });\n      case \"amenities\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [\n              /* @__PURE__ */ jsx(\"path\", { d: \"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\" }),\n              /* @__PURE__ */ jsx(\"polyline\", { points: \"9 22 9 12 15 12 15 22\" })\n            ]\n          }\n        );\n      case \"homestay\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [\n              /* @__PURE__ */ jsx(\"path\", { d: \"M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M9 22V12h6v10M2 10.6L12 2l10 8.6\" })\n            ]\n          }\n        );\n      case \"faq\":\n        return /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [\n              /* @__PURE__ */ jsx(\"circle\", { cx: \"12\", cy: \"12\", r: \"10\" }),\n              /* @__PURE__ */ jsx(\"path\", { d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\" }),\n              /* @__PURE__ */ jsx(\"line\", { x1: \"12\", y1: \"17\", x2: \"12.01\", y2: \"17\" })\n            ]\n          }\n        );\n      default:\n        return null;\n    }\n  };\n  useEffect(() => {\n    const styleEl = document.createElement(\"style\");\n    styleEl.innerHTML = `\n      @keyframes modalFadeIn {\n        from { opacity: 0; transform: translateY(20px); }\n        to { opacity: 1; transform: translateY(0); }\n      }\n      \n      @keyframes fall {\n        0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }\n        100% { transform: translateY(1000px) rotate(360deg); opacity: 0; }\n      }\n      \n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `;\n    document.head.appendChild(styleEl);\n    return () => {\n      styleEl.remove();\n    };\n  }, []);\n  const toggleFaq = (index) => {\n    setActiveFaq(activeFaq === index ? null : index);\n  };\n  const openGalleryModal = (index) => {\n    setActiveImageIndex(index);\n    setShowGalleryModal(true);\n  };\n  const updateBookingForm = () => {\n    return /* @__PURE__ */ jsxs(\"div\", { className: \"booking-form-fields\", children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"form-group\", children: [\n        /* @__PURE__ */ jsx(\"label\", { htmlFor: \"checkIn\", children: \"Ngày nhận phòng\" }),\n        /* @__PURE__ */ jsx(\n          \"input\",\n          {\n            type: \"date\",\n            id: \"checkIn\",\n            name: \"checkIn\",\n            value: bookingFormData.checkIn,\n            onChange: handleBookingInputChange,\n            min: (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0]\n          }\n        ),\n        formErrors.checkIn && /* @__PURE__ */ jsx(\"div\", { className: \"error-message\", children: formErrors.checkIn })\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"form-group\", children: [\n        /* @__PURE__ */ jsx(\"label\", { htmlFor: \"checkOut\", children: \"Ngày trả phòng\" }),\n        /* @__PURE__ */ jsx(\n          \"input\",\n          {\n            type: \"date\",\n            id: \"checkOut\",\n            name: \"checkOut\",\n            value: bookingFormData.checkOut,\n            onChange: handleBookingInputChange,\n            min: bookingFormData.checkIn || (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0]\n          }\n        ),\n        formErrors.checkOut && /* @__PURE__ */ jsx(\"div\", { className: \"error-message\", children: formErrors.checkOut })\n      ] })\n    ] });\n  };\n  const renderGalleryModal = () => {\n    if (!showGalleryModal || !selectedHomestay) return null;\n    const gallery = selectedHomestay.gallery || [];\n    const handlePrevImage = () => {\n      setActiveImageIndex(\n        (prev) => prev === 0 ? gallery.length - 1 : prev - 1\n      );\n    };\n    const handleNextImage = () => {\n      setActiveImageIndex(\n        (prev) => prev === gallery.length - 1 ? 0 : prev + 1\n      );\n    };\n    return /* @__PURE__ */ jsxs(\"div\", { className: `gallery-modal ${showGalleryModal ? \"open\" : \"\"}`, children: [\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          className: \"gallery-close-btn\",\n          onClick: () => setShowGalleryModal(false),\n          children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", children: /* @__PURE__ */ jsx(\n            \"path\",\n            {\n              d: \"M6 18L18 6M6 6l12 12\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\"\n            }\n          ) })\n        }\n      ),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"gallery-image-container\", children: [\n        /* @__PURE__ */ jsx(\"button\", { className: \"gallery-nav-btn prev\", onClick: handlePrevImage, children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", children: /* @__PURE__ */ jsx(\n          \"path\",\n          {\n            d: \"M15 18l-6-6 6-6\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n          }\n        ) }) }),\n        /* @__PURE__ */ jsx(\n          \"img\",\n          {\n            src: getImageUrl(gallery[activeImageIndex]),\n            alt: `${selectedHomestay.title} - hình ${activeImageIndex + 1}`\n          }\n        ),\n        /* @__PURE__ */ jsx(\"button\", { className: \"gallery-nav-btn next\", onClick: handleNextImage, children: /* @__PURE__ */ jsx(\"svg\", { viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", children: /* @__PURE__ */ jsx(\n          \"path\",\n          {\n            d: \"M9 18l6-6-6-6\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n          }\n        ) }) })\n      ] }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"gallery-thumbnails-row\", children: gallery.map((img, index) => /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          className: `gallery-thumbnail ${activeImageIndex === index ? \"active\" : \"\"}`,\n          onClick: () => setActiveImageIndex(index),\n          children: /* @__PURE__ */ jsx(\n            \"img\",\n            {\n              src: getImageUrl(img),\n              alt: `${selectedHomestay.title} - thumbnail ${index + 1}`\n            }\n          )\n        },\n        index\n      )) }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"gallery-counter\", children: [\n        activeImageIndex + 1,\n        \" / \",\n        gallery.length\n      ] })\n    ] });\n  };\n  return /* @__PURE__ */ jsxs(\"div\", { className: \"visitinfo-container\", children: [\n    renderHero(),\n    renderNavigationBar(),\n    renderAmenitiesSection(),\n    renderHomestaySection(),\n    renderFAQSection(),\n    renderHomestayDetailsSidebar(),\n    renderBookingSidebar(),\n    renderSuccessModal(),\n    renderGalleryModal()\n  ] });\n};\nexport default VisitInfo;\n",
      "start": 1748859737018,
      "end": 1748859737104,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "C:/Users/.Freelancer/baotangnghethuat/src/components/VisitPage/Visit/VisitInfo.jsx"
        ],
        "sourcesContent": [
          "import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { getImageUrl } from \"../../../utils/cloudinary\";\nimport \"./VisitInfo.css\";\n\nimport { FaBaby, FaCar, FaSearch } from \"react-icons/fa\";\n\nconst VisitInfo = () => {\n  const location = useLocation();\n  const [activeSection, setActiveSection] = useState(\"amenities\");\n  const [isNavSticky, setIsNavSticky] = useState(false);\n  const [isMobile] = useState(false);\n  const [navScrolled, setNavScrolled] = useState(false);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const lastScrollTop = useRef(0);\n  const scrollTimeout = useRef(null);\n\n  // Homestay filter and detail states\n  const [activeCategory, setActiveCategory] = useState(\"all\");\n  const [filteredHomestays, setFilteredHomestays] = useState([]);\n  const [showDetailsSidebar, setShowDetailsSidebar] = useState(false);\n  const [showBookingSidebar, setShowBookingSidebar] = useState(false);\n  const [selectedHomestay, setSelectedHomestay] = useState(null);\n  const [bookingFormData, setBookingFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    checkIn: \"\",\n    checkOut: \"\",\n    guests: 1,\n    specialRequests: \"\",\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [successBookingData, setSuccessBookingData] = useState(null);\n  const [showGalleryModal, setShowGalleryModal] = useState(false);\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n  const [selectedTime, setSelectedTime] = useState(null);\n  const [activeFaq, setActiveFaq] = useState(null);\n\n  const sectionRefs = {\n    amenities: useRef(null),\n    homestay: useRef(null),\n    faq: useRef(null),\n  };\n\n  const navRef = useRef(null);\n  const heroRef = useRef(null);\n  const horizontalNavRef = useRef(null);\n  const detailsSidebarRef = useRef(null);\n  const bookingSidebarRef = useRef(null);\n\n  // Handle hash links when component mounts\n  useEffect(() => {\n    // Get the hash from the URL\n    const hash = location.hash.replace(\"#\", \"\");\n\n    // If there's a hash and it corresponds to one of our sections, set it as active\n    if (hash && sectionRefs[hash]) {\n      setActiveSection(hash);\n\n      // Add a small delay to ensure DOM is fully loaded\n      setTimeout(() => {\n        // Scroll to the section\n        sectionRefs[hash].current?.scrollIntoView({ behavior: \"smooth\" });\n      }, 300);\n    }\n  }, [location]);\n\n  // Enhanced handleScroll to track scroll direction for hiding navbar\n  const handleScroll = useCallback(() => {\n    const st = window.pageYOffset || document.documentElement.scrollTop;\n    lastScrollTop.current = st <= 0 ? 0 : st;\n\n    // Original scroll handling logic\n    if (heroRef.current && navRef.current) {\n      const heroBottom = heroRef.current.getBoundingClientRect().bottom;\n      const navHeight = navRef.current.offsetHeight;\n\n      if (heroBottom <= navHeight) {\n        setIsNavSticky(true);\n      } else {\n        setIsNavSticky(false);\n      }\n    }\n\n    if (scrollTimeout.current) {\n      clearTimeout(scrollTimeout.current);\n    }\n    scrollTimeout.current = setTimeout(() => {\n      // Handle scroll end\n    }, 150);\n  }, []);\n\n  // Update useEffect to use our enhanced scroll handler\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n\n    // Initial check\n    handleScroll();\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n    };\n  }, [handleScroll]);\n\n  // Filter homestays when category changes\n  useEffect(() => {\n    filterHomestays(activeCategory);\n  }, [activeCategory]);\n\n  // Filter homestays based on selected category\n  const filterHomestays = (category) => {\n    if (category === \"all\") {\n      setFilteredHomestays(homestayData);\n    } else {\n      const filtered = homestayData.filter((homestay) =>\n        homestay.category.includes(category)\n      );\n      setFilteredHomestays(filtered);\n    }\n  };\n\n  // Handle category selection\n  const handleCategoryChange = (category) => {\n    setActiveCategory(category);\n  };\n\n  // Scroll to section with URL hash update\n  const scrollToSection = (sectionId) => {\n    const section = sectionRefs[sectionId];\n    if (section && section.current) {\n      section.current.scrollIntoView({ behavior: \"smooth\" });\n      window.history.pushState(null, \"\", `#${sectionId}`);\n    }\n  };\n\n  // Handle touch events for horizontal nav scrolling on mobile\n  const handleNavTouchStart = (e) => {\n    setTouchStartX(e.touches[0].clientX);\n  };\n\n  const handleNavTouchMove = (e) => {\n    if (!horizontalNavRef.current) return;\n\n    const touchX = e.touches[0].clientX;\n    const diff = touchStartX - touchX;\n    const scrollLeft = horizontalNavRef.current.scrollLeft;\n\n    if (diff > 5) {\n      // Scrolling right\n      setNavScrolled(true);\n    } else if (diff < -5 && scrollLeft === 0) {\n      // Scrolling left and at the beginning\n      setNavScrolled(false);\n    }\n  };\n\n  // Open details sidebar for a homestay\n  const openDetailsSidebar = (homestay) => {\n    setSelectedHomestay(homestay);\n    setShowDetailsSidebar(true);\n\n    // Make sure booking sidebar is closed\n    setShowBookingSidebar(false);\n\n    // Prevent background scrolling\n    document.body.style.overflow = \"hidden\";\n\n    // Add a small delay to ensure the sidebar is rendered with the selected homestay\n    setTimeout(() => {\n      if (detailsSidebarRef.current) {\n        detailsSidebarRef.current.scrollTop = 0;\n      }\n    }, 100);\n  };\n\n  // Close details sidebar\n  const closeDetailsSidebar = () => {\n    setShowDetailsSidebar(false);\n    document.body.style.overflow = \"auto\";\n  };\n\n  // Open booking sidebar for a homestay\n  const openBookingSidebar = (homestay) => {\n    setSelectedHomestay(homestay);\n    setShowBookingSidebar(true);\n    setShowDetailsSidebar(false);\n    document.body.style.overflow = \"hidden\";\n  };\n\n  // Close booking sidebar\n  const closeBookingSidebar = () => {\n    setShowBookingSidebar(false);\n    document.body.style.overflow = \"auto\";\n  };\n\n  // Handle booking form input changes\n  const handleBookingInputChange = (e) => {\n    const { name, value } = e.target;\n    setBookingFormData({\n      ...bookingFormData,\n      [name]: value,\n    });\n\n    // Clear error for this field if it exists\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: null,\n      });\n    }\n  };\n\n  // Validate booking form\n  const validateForm = () => {\n    const errors = {};\n\n    if (!bookingFormData.name.trim()) {\n      errors.name = \"Vui lòng nhập họ và tên\";\n    }\n\n    if (!bookingFormData.email.trim()) {\n      errors.email = \"Vui lòng nhập địa chỉ email\";\n    } else if (!/\\S+@\\S+\\.\\S+/.test(bookingFormData.email)) {\n      errors.email = \"Địa chỉ email không hợp lệ\";\n    }\n\n    if (!bookingFormData.phone.trim()) {\n      errors.phone = \"Vui lòng nhập số điện thoại\";\n    }\n\n    if (!bookingFormData.checkIn) {\n      errors.checkIn = \"Vui lòng chọn ngày nhận phòng\";\n    }\n\n    if (!bookingFormData.checkOut) {\n      errors.checkOut = \"Vui lòng chọn ngày trả phòng\";\n    } else if (\n      bookingFormData.checkIn &&\n      new Date(bookingFormData.checkOut) <= new Date(bookingFormData.checkIn)\n    ) {\n      errors.checkOut = \"Ngày trả phòng phải sau ngày nhận phòng\";\n    }\n\n    if (!bookingFormData.guests || bookingFormData.guests < 1) {\n      errors.guests = \"Vui lòng chọn ít nhất 1 khách\";\n    }\n\n    return errors;\n  };\n\n  // Handle booking form submission\n  const handleBookingSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validate the form\n    const errors = validateForm();\n\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Format data for submission\n      const formattedData = {\n        homestay: selectedHomestay?.title,\n        price: selectedHomestay?.price,\n        location: selectedHomestay?.location,\n        host: selectedHomestay?.host,\n        checkIn: bookingFormData.checkIn,\n        checkOut: bookingFormData.checkOut,\n        selectedTime: selectedTime,\n        nights: Math.max(\n          1,\n          Math.ceil(\n            (new Date(bookingFormData.checkOut) -\n              new Date(bookingFormData.checkIn)) /\n              (1000 * 60 * 60 * 24)\n          )\n        ),\n        totalPrice:\n          selectedHomestay?.price *\n          Math.max(\n            1,\n            Math.ceil(\n              (new Date(bookingFormData.checkOut) -\n                new Date(bookingFormData.checkIn)) /\n                (1000 * 60 * 60 * 24)\n            )\n          ),\n        ...bookingFormData,\n        date: new Date().toISOString(),\n      };\n\n      // Save the booking data before reset\n      setSuccessBookingData(formattedData);\n\n      // Try to save to booking server\n      try {\n        const bookingServerUrl = \"https://mussedupin.onrender.com/api/bookings\";\n        const serverResponse = await fetch(bookingServerUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(formattedData),\n        });\n\n        if (!serverResponse.ok) {\n          throw new Error(\"Không thể lưu đặt phòng lên máy chủ\");\n        }\n\n        console.log(\n          \"Đã lưu đặt phòng lên máy chủ:\",\n          await serverResponse.json()\n        );\n      } catch (serverError) {\n        console.error(\"Không thể lưu lên máy chủ đặt phòng:\", serverError);\n      }\n\n      // Show success modal even if server call fails (for demonstration purposes)\n      setShowBookingSidebar(false);\n      setShowSuccessModal(true);\n\n      // Reset form data\n      setBookingFormData({\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        checkIn: \"\",\n        checkOut: \"\",\n        guests: 1,\n        specialRequests: \"\",\n      });\n      setSelectedTime(null);\n    } catch (error) {\n      console.error(\"Lỗi khi gửi đặt phòng:\", error);\n      alert(\"Đã xảy ra lỗi khi gửi đặt phòng. Vui lòng thử lại.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Close success modal\n  const closeSuccessModal = () => {\n    setShowSuccessModal(false);\n    document.body.style.overflow = \"auto\";\n  };\n\n  // Amenities data\n  const amenitiesData = [\n    {\n      id: \"information-desk\",\n      title: \"Quầy thông tin\",\n      description:\n        \"Hai quầy thông tin, nơi du khách có thể hỏi đáp với nhân viên và nhận bản đồ bảo tàng. Tài liệu hướng dẫn bằng 8 ngôn ngữ có sẵn dưới Tháp.\",\n      image: \"room1.jpg\",\n      icon: \"info\",\n      details: \"Nhân viên đa ngôn ngữ làm việc từ 9:00 đến 19:00 hàng ngày.\",\n    },\n    {\n      id: \"cloakroom\",\n      title: \"Phòng gửi đồ\",\n      description:\n        \"Tủ khóa tự phục vụ miễn phí dưới Tháp. Khách tham quan nên sử dụng tủ khóa tại lối vào. Tất cả các vật dụng gửi trong tủ khóa phải được lấy lại trong cùng ngày.\",\n      image: \"room2.jpg\",\n      icon: \"hanger\",\n      details:\n        \"Gửi miễn phí cho túi có kích thước tối đa 55×35×20 cm. Không nhận vật dụng lớn hơn.\",\n    },\n    {\n      id: \"equipment\",\n      title: \"Cho mượn thiết bị\",\n      description:\n        \"Gậy chống, ghế xếp, xe đẩy trẻ em, địu em bé, ghế đa năng có bánh xe và xe lăn được cung cấp miễn phí tại khu vực tiếp đón khách dưới Tháp.\",\n      image: \"room3.jpg\",\n      icon: \"stroller\",\n      details: \"Liên hệ quầy hỗ trợ để biết thêm thông tin\",\n    },\n    {\n      id: \"wifi\",\n      title: \"Wi-Fi Miễn phí\",\n      description:\n        \"Mạng 'Musée Du Pin' có sẵn dưới Tháp và trong các phòng trưng bày. Kết nối Wi-Fi miễn phí có giới hạn một giờ và có thể được gia hạn nhiều lần theo nhu cầu.\",\n      image: \"room4.jpg\",\n      icon: \"wifi\",\n      details: \"Tốc độ kết nối: 50 Mbps\",\n    },\n    {\n      id: \"toilets\",\n      title: \"Nhà vệ sinh\",\n      description:\n        \"Nhà vệ sinh có thể được tìm thấy tại khu vực đón tiếp dưới Tháp và khắp bảo tàng. Có bàn thay tã cho em bé.\",\n      image: \"room5.jpg\",\n      icon: \"toilet\",\n      details: \"Tất cả nhà vệ sinh đều tiếp cận được cho người khuyết tật\",\n    },\n    {\n      id: \"car-park\",\n      title: \"Bãi đậu xe\",\n      description:\n        \"Bãi đậu xe ngầm nằm tại số 1 Đại lộ Général Lemonnier, từ đó bạn có thể vào bảo tàng qua lối vào Carrousel. Mở cửa 7 ngày một tuần từ 7:00 đến 23:00.\",\n      image: \"room6.jpg\",\n      icon: \"parking\",\n      details:\n        \"Khách tham quan khuyết tật được hưởng giá đậu xe ưu đãi. Giá này có thể được thương lượng tại quầy thanh toán trước khi trả tiền.\",\n    },\n    {\n      id: \"lost-found\",\n      title: \"Đồ thất lạc\",\n      description:\n        \"Bị mất đồ? Nếu bạn vẫn còn trong bảo tàng, hãy đến Quầy Hỗ trợ dưới Tháp và nhân viên sẽ giúp bạn.\",\n      image: \"room7.jpg\",\n      icon: \"help\",\n      details:\n        \"Đối với đồ vật tìm thấy sau chuyến thăm, hãy điền vào mẫu báo cáo trên trang web của chúng tôi\",\n    },\n    {\n      id: \"baby-space\",\n      title: \"Khu vực cho em bé\",\n      description:\n        \"Studio – khu vực đặc biệt được thiết kế dành cho gia đình, nằm ở tầng trệt của cánh Richelieu – có khu vực dành cho em bé được trang bị máy hâm sữa, lò vi sóng và ghế cho con bú.\",\n      image: \"room8.jpg\",\n      icon: \"baby\",\n      details: \"Mọi thứ bạn cần cho sự thoải mái và chăm sóc em bé\",\n    },\n  ];\n\n  // Homestay data with expanded information for detailed view\n  const homestayData = [\n    {\n      id: \"traditional\",\n      title: \"The ChildHood\",\n      description:\n        \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\n      image: \"thechillhood.jpg\",\n      price: 2800000,\n      rating: 4.8,\n      tags: [\"Đề xuất\", \"Truyền thống\", \"Bao gồm bữa sáng\"],\n      category: [\"popular\", \"recommended\"],\n      location: \"Cách bảo tàng 5 phút đi bộ\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong nhà truyền thống\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Bao gồm bữa sáng\",\n        \"Điều hòa nhiệt độ\",\n        \"Vườn\",\n        \"Phòng tắm riêng\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Không tổ chức tiệc\"],\n      cancellation: \"Hủy miễn phí đến 48 giờ trước khi nhận phòng\",\n      gallery: [\n        \"whitebauhinia.jpg\",\n        \"thechill1.jpg\",\n        \"thechill2.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Jean-Pierre\",\n          rating: 5,\n          comment: \"Trải nghiệm truyền thống tuyệt vời với bữa sáng ngon!\",\n        },\n        {\n          author: \"Sarah\",\n          rating: 4.5,\n          comment: \"Ngôi nhà đẹp và chủ nhà rất thân thiện. Rất đáng để ở.\",\n        },\n      ],\n    },\n    {\n      id: \"modern\",\n      title: \"White Bauhunia\",\n      description:\n        \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\n      image: \"whitebauhinia.jpg\",\n      price: 4200000,\n      rating: 4.9,\n      tags: [\"Đánh giá cao\", \"Sang trọng\", \"Vị trí trung tâm\"],\n      category: [\"popular\", \"top-rated\"],\n      location: \"Cách bảo tàng 10 phút đi bộ\",\n      host: \"Musée Du Pin\",\n      roomType: \"Toàn bộ căn hộ\",\n      beds: \"1 giường king, 1 giường sofa\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Bếp đầy đủ\",\n        \"Máy giặt/sấy\",\n        \"TV thông minh\",\n        \"Thang máy\",\n        \"View thành phố\",\n      ],\n      rules: [\"Không hút thuốc\", \"Cho phép thú cưng\", \"Không tổ chức tiệc\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechill1.jpg\",\n        \"thechill2.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Lisa\",\n          rating: 5,\n          comment: \"Căn hộ đẹp với view tuyệt vời! Rất sạch sẽ và hiện đại.\",\n        },\n        {\n          author: \"David\",\n          rating: 4.8,\n          comment: \"Vị trí tuyệt vời và trang bị đầy đủ. Sẽ quay lại!\",\n        },\n      ],\n    },\n    {\n      id: \"luxury\",\n      title: \"The chill 1\",\n      description:\n        \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\n      image: \"thechill1.jpg\",\n      price: 8200000,\n      rating: 5.0,\n      tags: [\"Cao cấp\", \"Riêng tư\", \"Dịch vụ đầy đủ\"],\n      category: [\"top-rated\", \"luxury\"],\n      location: \"Cách bảo tàng 15 phút lái xe\",\n      host: \"Musée Du Pin\",\n      roomType: \"Toàn bộ biệt thự\",\n      beds: \"2 giường king, 1 giường queen\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Hồ bơi\",\n        \"Bếp đầy đủ\",\n        \"Vườn\",\n        \"Bãi đậu xe\",\n        \"Dịch vụ dọn phòng hàng ngày\",\n        \"Lễ tân\",\n      ],\n      rules: [\n        \"Không hút thuốc trong nhà\",\n        \"Không thú cưng\",\n        \"Cho phép tổ chức sự kiện với sự đồng ý trước\",\n      ],\n      cancellation: \"Hủy miễn phí đến 7 ngày trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"James\",\n          rating: 5,\n          comment: \"Sang trọng tuyệt đối! Biệt thự vượt quá mong đợi.\",\n        },\n        {\n          author: \"Sophia\",\n          rating: 5,\n          comment:\n            \"Dịch vụ xuất sắc và cơ sở vật chất tuyệt vời. Xứng đáng với giá tiền!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Chill 2\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thechill2.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Memory\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thememory.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"whitebauhinia.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Sunset\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thesunset.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thechill1.jpg\",\n        \"thetrain.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n    {\n      id: \"budget\",\n      title: \"The Train\",\n      description:\n        \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n      image: \"thetrain.jpg\",\n      price: 1750000,\n      rating: 4.5,\n      tags: [\"Giá tốt\", \"Thuận tiện\", \"Đáng giá\"],\n      category: [\"recommended\", \"budget-friendly\"],\n      location: \"Cách bảo tàng 20 phút đi tàu điện ngầm\",\n      host: \"Musée Du Pin\",\n      roomType: \"Phòng riêng trong căn hộ chung\",\n      beds: \"1 giường đôi\",\n      amenities: [\n        \"Wi-Fi miễn phí\",\n        \"Phòng tắm chung\",\n        \"Bếp chung\",\n        \"Máy giặt\",\n        \"Gần ga tàu điện ngầm\",\n      ],\n      rules: [\"Không hút thuốc\", \"Không thú cưng\", \"Yên tĩnh sau 22:00\"],\n      cancellation: \"Hủy miễn phí đến 24 giờ trước khi nhận phòng\",\n      gallery: [\n        \"thesunset.jpg\",\n        \"thechill2.jpg\",\n        \"thechillhood.jpg\",\n        \"thememory.jpg\",\n      ],\n      reviews: [\n        {\n          author: \"Michael\",\n          rating: 4.3,\n          comment: \"Giá trị tuyệt vời và vị trí thuận tiện gần tàu điện ngầm.\",\n        },\n        {\n          author: \"Anna\",\n          rating: 4.7,\n          comment:\n            \"Phòng sạch sẽ và thoải mái. Claire là một chủ nhà rất nhiệt tình!\",\n        },\n      ],\n    },\n  ];\n\n  // FAQ data with more detailed answers\n  const faqData = [\n    {\n      question:\n        \"Tôi có thể tham quan bảo tàng miễn phí không? Tôi có cần đặt vé không?\",\n      answer:\n        \"Bảo tàng miễn phí vé vào cửa cho một số đối tượng bao gồm người dưới 18 tuổi, cư dân EU dưới 26 tuổi và khách tham quan khuyết tật cùng người đi kèm. Vào cửa miễn phí cũng được áp dụng cho tất cả mọi người vào thứ Sáu đầu tiên của mỗi tháng từ 18:00 (trừ tháng 7 và tháng 8). Chúng tôi khuyến nghị đặt khung giờ trước, kể cả đối với khách được miễn phí vé, đặc biệt là trong mùa cao điểm.\",\n    },\n    {\n      question: \"Làm thế nào để mua vé ưu đãi?\",\n      answer:\n        \"Vé ưu đãi dành cho thanh niên từ 18-25 tuổi đến từ các nước ngoài EU, người có Thẻ Giáo dục, và thành viên của các tổ chức đối tác. Bạn phải xuất trình CMND/CCCD hợp lệ hoặc thẻ thành viên tại cổng vào. Vé ưu đãi có thể được mua trực tuyến hoặc tại quầy vé.\",\n    },\n    {\n      question: \"Tôi có thể được hoàn tiền không?\",\n      answer:\n        \"Vé không được hoàn tiền sau khi mua. Tuy nhiên, trong trường hợp bảo tàng đóng cửa vì lý do đặc biệt, chúng tôi sẽ hoàn tiền hoặc đổi ngày khác. Đối với các trường hợp đặc biệt, vui lòng liên hệ dịch vụ khách tham quan tại visitor@museedupin.com kèm mã đặt chỗ và lý do yêu cầu hoàn tiền.\",\n    },\n    {\n      question: \"Tôi sử dụng lối vào nào nếu đã mua vé trực tuyến?\",\n      answer:\n        \"Khách có vé điện tử có thể vào qua lối vào Tháp (lối vào chính) hoặc lối vào Porte des Lions. Lối vào Carrousel dành cho các đoàn và người có thẻ bảo tàng. Vé điện tử của bạn có mã QR sẽ được quét tại lối vào. Chúng tôi khuyến nghị đến trước 15 phút so với khung giờ đã đặt.\",\n    },\n    {\n      question: \"Có cho phép xe đẩy em bé vào bảo tàng không?\",\n      answer:\n        \"Có, xe đẩy và nôi em bé được phép vào bảo tàng. Tuy nhiên, trong thời điểm đông khách, bạn có thể được yêu cầu gửi xe đẩy lớn tại phòng gửi đồ và sử dụng địu em bé thay thế, được cung cấp miễn phí. Tất cả các phòng trưng bày và không gian triển lãm đều có thể tiếp cận bằng xe đẩy thông qua thang máy.\",\n    },\n    {\n      question: \"Những vật dụng nào không được phép mang vào bảo tàng?\",\n      answer:\n        \"Các vật dụng không được phép mang vào bảo tàng bao gồm túi xách và vali lớn (kích thước lớn hơn 55×35×20 cm), giá ba chân, gậy selfie, thiết bị chụp ảnh có đèn flash, đồ ăn thức uống (trừ chai nước), và các vật sắc nhọn. Những vật dụng này phải được gửi tại phòng gửi đồ. Chúng tôi cũng cấm chạm vào tác phẩm nghệ thuật, hút thuốc, và sử dụng điện thoại di động trong phòng trưng bày.\",\n    },\n  ];\n\n  // Render Hero Section\n  const renderHero = () => (\n    <div className=\"visitinfo-hero\" ref={heroRef}>\n      <div className=\"visitinfo-hero-image-container\">\n        <img\n          src={getImageUrl(\"luutrunghethuat.jpg\", {\n            width: 1920,\n            height: 1080,\n            crop: \"fill\",\n          })}\n          alt=\"Nội thất bảo tàng\"\n          className=\"visitinfo-hero-image\"\n        />\n      </div>\n      {/* <div className=\"visitinfo-hero-overlay\"></div> */}\n      {/* <div className=\"visitinfo-hero-content\">\n        <h1 className=\"visitinfo-hero-title\">\n          LƯU TRÚ TRONG CÁC CĂN PHÒNG NGHỆ THUẬT\n        </h1>\n        <p className=\"visitinfo-hero-subtitle\">\n            Mọi thứ bạn cần cho một chuyến tham quan thoải mái\n        </p>\n      </div> */}\n    </div>\n  );\n\n  // Render Navigation Bar\n  const renderNavigationBar = () => {\n    // Don't render the navigation bar on mobile\n    if (isMobile) return null;\n\n    return (\n      <>\n        <div\n          className={`visitinfo-nav-container ${isNavSticky ? \"sticky\" : \"\"} ${\n            navScrolled ? \"scrolled-right\" : \"\"\n          }`}\n          ref={(el) => {\n            navRef.current = el;\n            horizontalNavRef.current = el;\n          }}\n          onTouchStart={handleNavTouchStart}\n          onTouchMove={handleNavTouchMove}\n        >\n          <div className=\"visitinfo-nav\">\n            <ul className=\"visitinfo-nav-list\">\n              <li\n                className={`visitinfo-nav-item ${\n                  activeSection === \"amenities\" ? \"active\" : \"\"\n                }`}\n              >\n                <button\n                  onClick={() => scrollToSection(\"amenities\")}\n                  className=\"visitinfo-nav-button\"\n                >\n                  Tiện ích\n                </button>\n                <span className=\"visitinfo-nav-indicator\"></span>\n              </li>\n              <li\n                className={`visitinfo-nav-item ${\n                  activeSection === \"homestay\" ? \"active\" : \"\"\n                }`}\n              >\n                <button\n                  onClick={() => scrollToSection(\"homestay\")}\n                  className=\"visitinfo-nav-button\"\n                >\n                  Lưu trú\n                </button>\n                <span className=\"visitinfo-nav-indicator\"></span>\n              </li>\n              <li\n                className={`visitinfo-nav-item ${\n                  activeSection === \"faq\" ? \"active\" : \"\"\n                }`}\n              >\n                <button\n                  onClick={() => scrollToSection(\"faq\")}\n                  className=\"visitinfo-nav-button\"\n                >\n                  Hỏi đáp\n                </button>\n                <span className=\"visitinfo-nav-indicator\"></span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  // Function to create ripple effect on touch\n  const createRippleEffect = (event) => {\n    const button = event.currentTarget;\n    const ripple = document.createElement(\"span\");\n\n    const rect = button.getBoundingClientRect();\n    const size = Math.max(rect.width, rect.height);\n\n    const x = event.clientX - rect.left - size / 2;\n    const y = event.clientY - rect.top - size / 2;\n\n    ripple.style.width = ripple.style.height = `${size}px`;\n    ripple.style.left = `${x}px`;\n    ripple.style.top = `${y}px`;\n    ripple.className = \"ripple-circle\";\n\n    button.appendChild(ripple);\n\n    setTimeout(() => {\n      ripple.remove();\n    }, 800);\n  };\n\n  // Render Amenities Section\n  const renderAmenitiesSection = () => (\n    <section\n      className=\"amenities-section\"\n      id=\"amenities\"\n      ref={sectionRefs.amenities}\n    >\n      {/* Decorative elements */}\n      <div className=\"decorative-lines\"></div>\n      <div className=\"decorative-circle large\"></div>\n      <div className=\"decorative-circle medium\"></div>\n      <div className=\"decorative-dots-pattern\"></div>\n\n      <div className=\"section-tag\">TIỆN ÍCH</div>\n\n      <div className=\"visitinfo-section-container\">\n        <div className=\"visitinfo-section-header\">\n          <h2 className=\"visitinfo-section-title\">\n            <span>Tiện nghi và thoải mái</span>\n            <span className=\"title-underline\"></span>\n          </h2>\n          <p className=\"visitinfo-section-description\">\n              Bảo tàng cung cấp nhiều dịch vụ để đảm bảo điều kiện tham quan tốt\n              nhất. Nhân viên luôn sẵn sàng trong bảo tàng để cung cấp thông tin\n              cập nhật về bảo tàng và các hoạt động.\n          </p>\n        </div>\n\n        <div className=\"amenities-container\">\n          {amenitiesData.map((amenity, index) => (\n            <div\n              className={`amenity-card desktop-enhanced ${\n                index % 3 === 0 ? \"wide\" : \"\"\n              }`}\n              key={amenity.id}\n              style={{\n                animationDelay: `${index * 0.1}s`,\n                background: `linear-gradient(135deg, ${\n                  index % 4 === 0\n                    ? \"#1E2A3B, #152231\"\n                    : index % 4 === 1\n                    ? \"#2A1E3B, #231522\"\n                    : index % 4 === 2\n                    ? \"#3B1E2A, #311522\"\n                    : \"#1E3B2A, #152315\"\n                })`,\n                borderLeft: `3px solid ${\n                  index % 4 === 0\n                    ? \"#00d1b2\"\n                    : index % 4 === 1\n                    ? \"#7c4dff\"\n                    : index % 4 === 2\n                    ? \"#ff4081\"\n                    : \"#00e676\"\n                }`,\n              }}\n              onClick={createRippleEffect}\n            >\n              <div className=\"amenity-content-wrapper\">\n                <div className=\"amenity-icon-container\">\n                  <div\n                    className=\"amenity-icon\"\n                    style={{\n                      color:\n                        index % 4 === 0\n                          ? \"#00d1b2\"\n                          : index % 4 === 1\n                          ? \"#7c4dff\"\n                          : index % 4 === 2\n                          ? \"#ff4081\"\n                          : \"#00e676\",\n                    }}\n                  >\n                    {renderIcon(amenity.icon)}\n                  </div>\n                  <div className=\"amenity-icon-backdrop\"></div>\n                </div>\n                <div className=\"amenity-card-content\">\n                  <h3 className=\"amenity-title\">{amenity.title}</h3>\n                  <p className=\"amenity-description\">{amenity.description}</p>\n                  <div className=\"amenity-card-details\">{amenity.details}</div>\n                </div>\n              </div>\n              <div className=\"amenity-card-decorations\">\n                <div className=\"decoration-circle\"></div>\n                <div className=\"decoration-line\"></div>\n                <div className=\"decoration-dots\"></div>\n              </div>\n              <div className=\"amenity-card-shine\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n\n  // Format price to VND\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\",\n    }).format(price);\n  };\n\n  // Render Homestay Section\n  const renderHomestaySection = () => (\n    <section\n      className=\"homestay-section\"\n      id=\"homestay\"\n      ref={sectionRefs.homestay}\n    >\n      <div className=\"section-tag\">LƯU TRÚ</div>\n\n      {/* Decorative elements */}\n      <div className=\"decorative-circle large\"></div>\n      <div className=\"decorative-circle medium\"></div>\n      <div className=\"decorative-square\"></div>\n      <div className=\"decorative-dot\"></div>\n\n      <div className=\"visitinfo-section-container\">\n        <div className=\"visitinfo-section-header\">\n          <h2 className=\"visitinfo-section-title modern\">\n            <span>Trải nghiệm cuộc sống địa phương gần bảo tàng</span>\n            <span className=\"title-accent\"></span>\n          </h2>\n          <p className=\"visitinfo-section-description\">\n              Hòa mình vào văn hóa địa phương với các lựa chọn lưu trú được chọn\n            lọc kỹ càng gần bảo tàng. Trải nghiệm sự hiếu khách đích thực trong\n            những không gian được thiết kế nghệ thuật.\n          </p>\n        </div>\n\n        <div className=\"homestay-categories-wrapper\">\n          <div\n            className=\"homestay-categories\"\n            style={{\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              gap: \"15px\",\n              marginBottom: \"50px\",\n              justifyContent: \"flex-start\",\n            }}\n          >\n            <div\n              className={`homestay-category ${\n                activeCategory === \"all\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"all\")}\n            >\n              Tất cả lựa chọn\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"popular\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"popular\")}\n            >\n              Phổ biến\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"top-rated\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"top-rated\")}\n            >\n              Đánh giá cao\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"recommended\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"recommended\")}\n            >\n              Đề xuất\n            </div>\n            <div\n              className={`homestay-category ${\n                activeCategory === \"budget-friendly\" ? \"active\" : \"\"\n              }`}\n              onClick={() => handleCategoryChange(\"budget-friendly\")}\n            >\n              Giá tốt\n            </div>\n          </div>\n        </div>\n\n        <div className=\"homestay-grid modern\">\n          {filteredHomestays.map((homestay) => (\n            <div className=\"homestay-card modern\" key={homestay.id}>\n              <div className=\"homestay-card-image\">\n                <img src={getImageUrl(homestay.image)} alt={homestay.title} />\n                {homestay.tags.map(\n                  (tag, index) =>\n                    index < 1 && (\n                      <div className=\"homestay-card-tag\" key={index}>\n                        {tag}\n                      </div>\n                    )\n                )}\n              </div>\n              <div className=\"homestay-card-content\">\n                <h3 className=\"homestay-card-title\">{homestay.title}</h3>\n                <p className=\"homestay-card-description\">\n                  {homestay.description}\n                </p>\n                <div className=\"homestay-card-location\">\n                  <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n                    <path\n                      d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                      fill=\"currentColor\"\n                    />\n                  </svg>\n                  <span>{homestay.location}</span>\n                </div>\n                <div className=\"homestay-card-footer\">\n                  <div className=\"homestay-card-price\">\n                    <span className=\"price-value\">\n                      {formatPrice(homestay.price)}\n                    </span>\n                    <span className=\"price-unit\">mỗi đêm</span>\n                  </div>\n                  <div className=\"homestay-card-actions\">\n                    <button\n                      className=\"btn-view\"\n                      onClick={() => openDetailsSidebar(homestay)}\n                    >\n                      Xem chi tiết\n                    </button>\n                    <button\n                      className=\"btn-book\"\n                      onClick={() => openBookingSidebar(homestay)}\n                    >\n                      Đặt ngay\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n\n  // Render FAQ Section\n  const renderFAQSection = () => (\n    <section className=\"faq-section\" id=\"faq\" ref={sectionRefs.faq}>\n      <div className=\"decorative-circle large\"></div>\n      <div className=\"decorative-circle medium\"></div>\n\n      <div className=\"faq-container\">\n        <div className=\"faq-header\">\n          <h2\n            className=\"faq-title\"\n            style={{\n              fontFamily:\n                \"'Mythical-Prince', 'LouvreSerif', Georgia, 'Times New Roman', serif\",\n            }}\n          >\n            <span>Câu hỏi thường gặp</span>\n          </h2>\n          <p className=\"faq-subtitle\">Câu trả lời từ Bảo tàng Du Pin.</p>\n        </div>\n\n        <div className=\"faq-list\">\n          {faqData.map((faq, index) => (\n            <div\n              className={`faq-item ${activeFaq === index ? \"active\" : \"\"}`}\n              key={index}\n              style={{ \"--animation-order\": index }}\n            >\n              <div className=\"faq-highlight\"></div>\n              <div className=\"faq-question\" onClick={() => toggleFaq(index)}>\n                <span>{faq.question}</span>\n              </div>\n              <div className=\"faq-answer\">\n                <p>{faq.answer}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"faq-footer\">\n          <h3 className=\"faq-footer-title\">Didn't find your answer?</h3>\n          <p className=\"faq-footer-text\">\n              Contact our support team for more information.\n          </p>\n          <button className=\"contact-btn\">\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n              <path\n                fill=\"currentColor\"\n                d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"\n              />\n            </svg>\n            Contact Us\n          </button>\n        </div>\n      </div>\n\n      {renderMobileScrollTop()}\n    </section>\n  );\n\n  // Render Homestay Details Sidebar\n  const renderHomestayDetailsSidebar = () => {\n    if (!selectedHomestay || !showDetailsSidebar) return null;\n\n    const gallery = selectedHomestay.gallery || [];\n\n    return (\n      <div\n        className={`homestay-details-sidebar ${\n          showDetailsSidebar ? \"open\" : \"\"\n        }`}\n        ref={detailsSidebarRef}\n      >\n        <div className=\"details-sidebar-header\">\n          <button className=\"close-sidebar\" onClick={closeDetailsSidebar}>\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path\n                d=\"M6 18L18 6M6 6l12 12\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n          <h2>{selectedHomestay.title}</h2>\n          <div style={{ width: \"32px\" }}></div>\n        </div>\n\n        <div className=\"details-sidebar-content\">\n          <div className=\"homestay-gallery\">\n            <div className=\"gallery-main\" onClick={() => openGalleryModal(0)}>\n              <img\n                src={getImageUrl(gallery[0] || selectedHomestay.image)}\n                alt={selectedHomestay.title}\n              />\n              <div className=\"gallery-zoom-icon\">\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n                  <path\n                    d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n              </div>\n            </div>\n            <div className=\"gallery-thumbnails\">\n              {gallery.map((img, index) => (\n                <div\n                  className={`gallery-thumbnail ${\n                    activeImageIndex === index ? \"active\" : \"\"\n                  }`}\n                  key={index}\n                  onClick={() => {\n                    setActiveImageIndex(index);\n                    openGalleryModal(index);\n                  }}\n                >\n                  <img\n                    src={getImageUrl(img)}\n                    alt={`${selectedHomestay.title} - hình ${index + 1}`}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"homestay-details-info\">\n            <h3 className=\"homestay-details-subtitle\">\n              {selectedHomestay.roomType}\n            </h3>\n\n            <p className=\"homestay-details-description\">\n              {selectedHomestay.description}\n            </p>\n\n            <div className=\"homestay-details-location\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>{selectedHomestay.location}</span>\n            </div>\n\n            <div className=\"homestay-details-host\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>Chủ sở hữu: {selectedHomestay.host}</span>\n            </div>\n\n            <div className=\"homestay-details-beds\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M20 12c0-1.1-.9-2-2-2V7c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3c-1.1 0-2 .9-2 2v5h1.33L6 19h1l.67-2h8.67l.66 2h1l.67-2H20v-5zm-4-2H8V7h8v3z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>{selectedHomestay.beds}</span>\n            </div>\n\n            <div className=\"homestay-details-section\">\n              <h3>Tiện nghi</h3>\n              <ul className=\"amenities-list\">\n                {selectedHomestay.amenities.map((amenity, index) => (\n                  <li key={index}>\n                    <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n                      <path\n                        d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n                        fill=\"currentColor\"\n                      />\n                    </svg>\n                    {amenity}\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"homestay-details-section\">\n              <h3>Nội quy</h3>\n              <ul className=\"rules-list\">\n                {selectedHomestay.rules.map((rule, index) => (\n                  <li key={index}>{rule}</li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"homestay-details-section\">\n              <h3>Chính sách hủy phòng</h3>\n              <p>{selectedHomestay.cancellation}</p>\n            </div>\n          </div>\n\n          <div className=\"homestay-booking-card\">\n            <div className=\"booking-card-price\">\n              <span className=\"price-value\">\n                {formatPrice(selectedHomestay.price)}\n              </span>\n              <span className=\"price-unit\">mỗi đêm</span>\n            </div>\n            <button\n              className=\"btn-book-now\"\n              onClick={() => openBookingSidebar(selectedHomestay)}\n            >\n              Đặt ngay\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Render Booking Sidebar\n  const renderBookingSidebar = () => {\n    if (!selectedHomestay) return null;\n\n    return (\n      <div\n        className={`booking-sidebar ${showBookingSidebar ? \"open\" : \"\"}`}\n        ref={bookingSidebarRef}\n      >\n        <div className=\"booking-sidebar-header modern\">\n          <button className=\"close-sidebar\" onClick={closeBookingSidebar}>\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n              <path\n                d=\"M6 18L18 6M6 6l12 12\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n          <h2>Đặt phòng</h2>\n          <div></div>\n        </div>\n\n        <div className=\"booking-sidebar-content\">\n          {isSubmitting && (\n            <div\n              className=\"sending-status\"\n              role=\"progressbar\"\n              aria-label=\"Đang gửi thông tin đặt phòng\"\n            ></div>\n          )}\n\n          <div className=\"booking-homestay-info modern\">\n            <img\n              src={getImageUrl(selectedHomestay.image)}\n              alt={selectedHomestay.title}\n            />\n            <div>\n              <h3>{selectedHomestay.title}</h3>\n              <div className=\"booking-homestay-location\">\n                <svg viewBox=\"0 0 24 24\" width=\"14\" height=\"14\">\n                  <path\n                    d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                    fill=\"currentColor\"\n                  />\n                </svg>\n                <span>{selectedHomestay.location}</span>\n              </div>\n              <div className=\"booking-homestay-price\">\n                <span className=\"price-value\">\n                  {formatPrice(selectedHomestay.price)}\n                </span>\n                <span className=\"price-unit\">mỗi đêm</span>\n              </div>\n            </div>\n          </div>\n\n          <form className=\"booking-form modern\" onSubmit={handleBookingSubmit}>\n            {updateBookingForm()}\n\n            <div className={`form-group ${formErrors.name ? \"has-error\" : \"\"}`}>\n              <label htmlFor=\"name\">Họ và tên</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={bookingFormData.name}\n                onChange={handleBookingInputChange}\n                placeholder=\"Nhập họ và tên của bạn\"\n              />\n              {formErrors.name && (\n                <div className=\"error-message\">{formErrors.name}</div>\n              )}\n            </div>\n\n            <div\n              className={`form-group ${formErrors.email ? \"has-error\" : \"\"}`}\n            >\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={bookingFormData.email}\n                onChange={handleBookingInputChange}\n                placeholder=\"Nhập địa chỉ email của bạn\"\n              />\n              {formErrors.email && (\n                <div className=\"error-message\">{formErrors.email}</div>\n              )}\n            </div>\n\n            <div\n              className={`form-group ${formErrors.phone ? \"has-error\" : \"\"}`}\n            >\n              <label htmlFor=\"phone\">Số điện thoại</label>\n              <input\n                type=\"tel\"\n                id=\"phone\"\n                name=\"phone\"\n                value={bookingFormData.phone}\n                onChange={handleBookingInputChange}\n                placeholder=\"Nhận số điện thoại của bạn\"\n              />\n              {formErrors.phone && (\n                <div className=\"error-message\">{formErrors.phone}</div>\n              )}\n            </div>\n\n            <div\n              className={`form-group ${formErrors.guests ? \"has-error\" : \"\"}`}\n            >\n              <label htmlFor=\"guests\">Số lượng khách</label>\n              <input\n                type=\"number\"\n                id=\"guests\"\n                name=\"guests\"\n                value={bookingFormData.guests}\n                onChange={handleBookingInputChange}\n                min=\"1\"\n                max=\"10\"\n              />\n              {formErrors.guests && (\n                <div className=\"error-message\">{formErrors.guests}</div>\n              )}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"specialRequests\">Yêu cầu</label>\n              <textarea\n                id=\"specialRequests\"\n                name=\"specialRequests\"\n                value={bookingFormData.specialRequests}\n                onChange={handleBookingInputChange}\n                placeholder=\"Bạn có yêu cầu hoặc yêu cầu đặc biệt nào không?\"\n                rows=\"3\"\n              ></textarea>\n            </div>\n\n            <div className=\"booking-summary modern\">\n              <div className=\"summary-row\">\n                <span>Giá mỗi đêm</span>\n                <span>{formatPrice(selectedHomestay.price)}</span>\n              </div>\n\n              {bookingFormData.checkIn && bookingFormData.checkOut && (\n                <>\n                  <div className=\"summary-row\">\n                    <span>Số đêm</span>\n                    <span>\n                      {Math.max(\n                        1,\n                        Math.ceil(\n                          (new Date(bookingFormData.checkOut) -\n                            new Date(bookingFormData.checkIn)) /\n                            (1000 * 60 * 60 * 24)\n                        )\n                      )}\n                    </span>\n                  </div>\n\n                  <div className=\"summary-row total\">\n                    <span>Tổng cộng</span>\n                    <span>\n                      {formatPrice(\n                        selectedHomestay.price *\n                          Math.max(\n                            1,\n                            Math.ceil(\n                              (new Date(bookingFormData.checkOut) -\n                                new Date(bookingFormData.checkIn)) /\n                                (1000 * 60 * 60 * 24)\n                            )\n                          )\n                      )}\n                    </span>\n                  </div>\n                </>\n              )}\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"btn-submit-booking modern\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? (\n                <>\n                  <div className=\"spinner\"></div>\n                  <span>Đang xử lý...</span>\n                </>\n              ) : (\n                \"Hoàn tất đặt phòng\"\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  // Render Success Modal\n  const renderSuccessModal = () => {\n    if (!successBookingData || !showSuccessModal) return null;\n\n    // Use the saved data from successBookingData instead of recalculating\n    const totalPrice = successBookingData.totalPrice || 0;\n\n    return (\n      <div\n        className={`booking-success-modal ${showSuccessModal ? \"open\" : \"\"}`}\n      >\n        <div className=\"success-modal-content\">\n          <div className=\"success-icon\">\n            <svg viewBox=\"0 0 24 24\" width=\"40\" height=\"40\">\n              <path\n                d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n                fill=\"#fff\"\n              />\n            </svg>\n          </div>\n\n          <h2 className=\"success-title\">Đặt phòng thành công!</h2>\n\n          <div className=\"success-animation\">\n            {[...Array(10)].map((_, i) => (\n              <div\n                key={i}\n                className=\"confetti-piece\"\n                style={{\n                  width: `${Math.random() * 20 + 10}px`,\n                  height: `${Math.random() * 10 + 6}px`,\n                  background: `${\n                    [\"#1e3a8a\", \"#2563eb\", \"#3b82f6\", \"#bfdbfe\", \"#f8fafc\"][\n                      Math.floor(Math.random() * 5)\n                    ]\n                  }`,\n                  top: `${Math.random() * 100}%`,\n                  left: `${Math.random() * 100}%`,\n                  opacity: Math.random(),\n                  animation: `fall ${Math.random() * 3 + 2}s linear infinite`,\n                  transform: `rotate(${Math.random() * 360}deg)`,\n                }}\n              ></div>\n            ))}\n          </div>\n\n          <p className=\"success-message\">\n              Cảm ơn bạn đã đặt phòng. Chúng tôi đã gửi xác nhận đến email của\n            bạn. Bộ phận chăm sóc khách hàng sẽ sớm liên hệ với bạn để cung cấp\n            thêm thông tin chi tiết.\n          </p>\n\n          <div className=\"success-details\">\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>Chủ sỡ hữu: {successBookingData.host}</span>\n            </div>\n\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>{successBookingData.location}</span>\n            </div>\n\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7v-5z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>\n                {new Date(successBookingData.checkIn).toLocaleDateString()} -{\" \"}\n                {new Date(successBookingData.checkOut).toLocaleDateString()}\n                <span className=\"booking-nights\">\n                  ({successBookingData.nights} đêm)\n                </span>\n              </span>\n            </div>\n\n            <div className=\"success-detail-item\">\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\">\n                <path\n                  d=\"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\"\n                  fill=\"currentColor\"\n                />\n              </svg>\n              <span>\n                Tổng: <span className=\"total-price\">${totalPrice}</span>\n              </span>\n            </div>\n          </div>\n\n          <button className=\"btn-close-success\" onClick={closeSuccessModal}>\n            Đóng\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  // Render mobile scroll to top button\n  const renderMobileScrollTop = () => {\n    if (!isMobile) return null;\n\n    return (\n      <button\n        className=\"mobile-scroll-top\"\n        onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\n        aria-label=\"Cuộn lên đầu trang\"\n      >\n        <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n          <path\n            d=\"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n            fill=\"currentColor\"\n          />\n        </svg>\n      </button>\n    );\n  };\n\n  // Helper function to render icons\n  const renderIcon = (icon) => {\n    const commonAttributes = {\n      width: isMobile ? \"30\" : \"32\",\n      height: isMobile ? \"30\" : \"32\",\n      fill: \"none\",\n      stroke: \"#00d1b2\",\n      strokeWidth: \"1.5\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n    };\n\n    switch (icon) {\n      case \"info\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n            <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line>\n            <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>\n          </svg>\n        );\n      case \"hanger\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <path d=\"M12 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\"></path>\n            <path d=\"M12 8v3l-8 9h16l-8-9V8\"></path>\n          </svg>\n        );\n      case \"stroller\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <circle cx=\"8\" cy=\"18\" r=\"2\"></circle>\n            <circle cx=\"16\" cy=\"18\" r=\"2\"></circle>\n            <path d=\"M8 18h8l4-12H8\"></path>\n            <path d=\"M6 10h12\"></path>\n          </svg>\n        );\n      case \"wifi\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <path d=\"M5 12.55a11 11 0 0 1 14.08 0\"></path>\n            <path d=\"M1.42 9a16 16 0 0 1 21.16 0\"></path>\n            <path d=\"M8.53 16.11a6 6 0 0 1 6.95 0\"></path>\n            <line x1=\"12\" y1=\"20\" x2=\"12.01\" y2=\"20\"></line>\n          </svg>\n        );\n      case \"toilet\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            {...commonAttributes}\n          >\n            <path d=\"M6 4h12v4H6z\"></path>\n            <path d=\"M6 8h12v8a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8z\"></path>\n            <path d=\"M10 8v8\"></path>\n            <path d=\"M14 8v8\"></path>\n          </svg>\n        );\n      case \"parking\":\n        return <FaCar size={isMobile ? 28 : 32} color=\"currentColor\" />;\n      case \"help\":\n        return <FaSearch size={isMobile ? 28 : 32} color=\"currentColor\" />;\n      case \"baby\":\n        return <FaBaby size={isMobile ? 28 : 32} color=\"currentColor\" />;\n      case \"amenities\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          >\n            <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n            <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n          </svg>\n        );\n      case \"homestay\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          >\n            <path d=\"M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9\" />\n            <path d=\"M9 22V12h6v10M2 10.6L12 2l10 8.6\" />\n          </svg>\n        );\n      case \"faq\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n            <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"></path>\n            <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n          </svg>\n        );\n      default:\n        return null;\n    }\n  };\n\n  // Add keyframes for animations\n  useEffect(() => {\n    // Create style element for animations\n    const styleEl = document.createElement(\"style\");\n\n    // Add keyframes\n    styleEl.innerHTML = `\n      @keyframes modalFadeIn {\n        from { opacity: 0; transform: translateY(20px); }\n        to { opacity: 1; transform: translateY(0); }\n      }\n      \n      @keyframes fall {\n        0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }\n        100% { transform: translateY(1000px) rotate(360deg); opacity: 0; }\n      }\n      \n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `;\n\n    document.head.appendChild(styleEl);\n\n    return () => {\n      styleEl.remove();\n    };\n  }, []);\n\n  // Toggle FAQ item\n  const toggleFaq = (index) => {\n    setActiveFaq(activeFaq === index ? null : index);\n  };\n\n  // Open gallery modal\n  const openGalleryModal = (index) => {\n    setActiveImageIndex(index);\n    setShowGalleryModal(true);\n  };\n\n  // Update booking form\n  const updateBookingForm = () => {\n    return (\n      <div className=\"booking-form-fields\">\n        <div className=\"form-group\">\n          <label htmlFor=\"checkIn\">Ngày nhận phòng</label>\n          <input\n            type=\"date\"\n            id=\"checkIn\"\n            name=\"checkIn\"\n            value={bookingFormData.checkIn}\n            onChange={handleBookingInputChange}\n            min={new Date().toISOString().split(\"T\")[0]}\n          />\n          {formErrors.checkIn && (\n            <div className=\"error-message\">{formErrors.checkIn}</div>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"checkOut\">Ngày trả phòng</label>\n          <input\n            type=\"date\"\n            id=\"checkOut\"\n            name=\"checkOut\"\n            value={bookingFormData.checkOut}\n            onChange={handleBookingInputChange}\n            min={\n              bookingFormData.checkIn || new Date().toISOString().split(\"T\")[0]\n            }\n          />\n          {formErrors.checkOut && (\n            <div className=\"error-message\">{formErrors.checkOut}</div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  // Render Gallery Modal\n  const renderGalleryModal = () => {\n    if (!showGalleryModal || !selectedHomestay) return null;\n\n    const gallery = selectedHomestay.gallery || [];\n\n    const handlePrevImage = () => {\n      setActiveImageIndex((prev) =>\n        prev === 0 ? gallery.length - 1 : prev - 1\n      );\n    };\n\n    const handleNextImage = () => {\n      setActiveImageIndex((prev) =>\n        prev === gallery.length - 1 ? 0 : prev + 1\n      );\n    };\n\n    return (\n      <div className={`gallery-modal ${showGalleryModal ? \"open\" : \"\"}`}>\n        <button\n          className=\"gallery-close-btn\"\n          onClick={() => setShowGalleryModal(false)}\n        >\n          <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n            <path\n              d=\"M6 18L18 6M6 6l12 12\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n        </button>\n\n        <div className=\"gallery-image-container\">\n          <button className=\"gallery-nav-btn prev\" onClick={handlePrevImage}>\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path\n                d=\"M15 18l-6-6 6-6\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n\n          <img\n            src={getImageUrl(gallery[activeImageIndex])}\n            alt={`${selectedHomestay.title} - hình ${activeImageIndex + 1}`}\n          />\n\n          <button className=\"gallery-nav-btn next\" onClick={handleNextImage}>\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path\n                d=\"M9 18l6-6-6-6\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"gallery-thumbnails-row\">\n          {gallery.map((img, index) => (\n            <div\n              key={index}\n              className={`gallery-thumbnail ${\n                activeImageIndex === index ? \"active\" : \"\"\n              }`}\n              onClick={() => setActiveImageIndex(index)}\n            >\n              <img\n                src={getImageUrl(img)}\n                alt={`${selectedHomestay.title} - thumbnail ${index + 1}`}\n              />\n            </div>\n          ))}\n        </div>\n\n        <div className=\"gallery-counter\">\n          {activeImageIndex + 1} / {gallery.length}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"visitinfo-container\">\n      {renderHero()}\n      {renderNavigationBar()}\n      {renderAmenitiesSection()}\n      {renderHomestaySection()}\n      {renderFAQSection()}\n      {renderHomestayDetailsSidebar()}\n      {renderBookingSidebar()}\n      {renderSuccessModal()}\n      {renderGalleryModal()}\n    </div>\n  );\n};\n\nexport default VisitInfo;\n"
        ],
        "mappings": "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",
        "names": []
      }
    },
    {
      "name": "vite:worker",
      "start": 1748859737104,
      "end": 1748859737104,
      "order": "normal-normal"
    },
    {
      "name": "vite:define",
      "start": 1748859737104,
      "end": 1748859737104,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-html",
      "start": 1748859737104,
      "end": 1748859737104,
      "order": "normal-normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1748859737104,
      "end": 1748859737104,
      "order": "normal-normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1748859737104,
      "end": 1748859737105,
      "order": "normal-normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1748859737105,
      "end": 1748859737105,
      "order": "normal-normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1748859737105,
      "end": 1748859737105,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1748859737105,
      "end": 1748859737106,
      "order": "normal-normal"
    },
    {
      "name": "vite:reporter",
      "start": 1748859737106,
      "end": 1748859737106,
      "order": "normal"
    }
  ]
}
