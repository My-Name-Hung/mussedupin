{
  "resolvedId": "C:/Users/.Freelancer/ONLINE/src/components/Navbar/Navbar.jsx",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import gsap from \"gsap\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  FaArrowRight,\r\n  FaBars,\r\n  FaChevronDown,\r\n  FaChevronRight,\r\n  FaChevronUp,\r\n  FaFacebook,\r\n  FaGift,\r\n  FaInstagram,\r\n  FaSearch,\r\n  FaShoppingBag,\r\n  FaTicketAlt,\r\n  FaTimes,\r\n  FaUser,\r\n  FaYoutube,\r\n} from \"react-icons/fa\";\r\nimport { RiShoppingBag4Fill } from \"react-icons/ri\";\r\nimport { SiTiktok } from \"react-icons/si\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport LoginModal from \"../Auth/LoginModal\";\r\nimport \"./Navbar.css\";\r\n\r\nimport { IoIosArrowBack } from \"react-icons/io\";\r\n\r\n// Icon components using react-icons\r\nconst SearchIcon = () => <FaSearch size={16} />;\r\nconst ChevronDown = () => <FaChevronDown size={14} />;\r\nconst ChevronRight = () => <FaChevronRight size={16} />;\r\nconst MenuIcon = () => (\r\n  <div className=\"menu-icon\">\r\n    <div className=\"line\"></div>\r\n    <div className=\"line\"></div>\r\n    <div className=\"line\"></div>\r\n  </div>\r\n);\r\nconst HamburgerIcon = () => <FaBars size={24} />;\r\nconst ArrowRightIcon = () => <FaArrowRight size={20} />;\r\nconst CloseIcon = () => <FaTimes size={24} />;\r\nconst BoutiqueIcon = () => <FaShoppingBag className=\"btn-icon\" />;\r\nconst TicketIcon = () => <FaTicketAlt className=\"btn-icon\" />;\r\nconst CloseDropdownIcon = () => <FaTimes size={24} />;\r\nconst PatronIcon = () => <FaGift size={24} />;\r\n\r\n// Social media icons\r\nconst FacebookIcon = () => <FaFacebook size={18} />;\r\nconst InstagramIcon = () => <FaInstagram size={18} />;\r\nconst TikTokIcon = () => <SiTiktok size={18} />;\r\nconst YoutubeIcon = () => <FaYoutube size={18} />;\r\nconst ChevronUp = () => <FaChevronUp size={14} />;\r\n\r\n// Comprehensive search data - scans all content in the project\r\nconst searchData = [\r\n  // Visit page sections\r\n  {\r\n    id: 1,\r\n    title: \"Giờ mở cửa & vé vào cửa\",\r\n    description: \"Thông tin về giờ mở cửa và vé vào cửa bảo tàng\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visit#hours\",\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"Giá vé\",\r\n    description: \"Thông tin về giá vé và các loại vé\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visit#tickets\",\r\n  },\r\n  {\r\n    id: 3,\r\n    title: \"Thành viên\",\r\n    description: \"Thông tin về chương trình thành viên và đặc quyền\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visit#membership\",\r\n  },\r\n  {\r\n    id: 4,\r\n    title: \"Nội quy tham quan\",\r\n    description: \"Quy định và nội quy khi tham quan bảo tàng\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visitor-rules\",\r\n  },\r\n\r\n  // Exhibitions sections\r\n  {\r\n    id: 5,\r\n    title: \"Triển lãm\",\r\n    description: \"Các triển lãm hiện tại và sắp tới\",\r\n    category: \"Triển lãm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\r\n    path: \"/exhibitions\",\r\n  },\r\n  {\r\n    id: 6,\r\n    title: \"Trải nghiệm có hướng dẫn\",\r\n    description: \"Các tour tham quan có hướng dẫn viên\",\r\n    category: \"Triển lãm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\r\n    path: \"/exhibitions?tab=guided-tours\",\r\n  },\r\n\r\n  // Explore sections\r\n  {\r\n    id: 7,\r\n    title: \"Bộ sưu tập\",\r\n    description: \"Khám phá bộ sưu tập nghệ thuật của bảo tàng\",\r\n    category: \"Khám phá\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/collection\",\r\n  },\r\n  {\r\n    id: 8,\r\n    title: \"Lộ trình tham quan\",\r\n    description: \"Các lộ trình tham quan được đề xuất\",\r\n    category: \"Khám phá\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visitor-trails\",\r\n  },\r\n  {\r\n    id: 9,\r\n    title: \"Vườn\",\r\n    description: \"Khám phá khu vườn của bảo tàng\",\r\n    category: \"Khám phá\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\r\n    path: \"/the-gardens\",\r\n  },\r\n\r\n  // Support sections\r\n  {\r\n    id: 10,\r\n    title: \"Hỗ trợ khách tham quan\",\r\n    description: \"Thông tin hỗ trợ và hướng dẫn cho khách tham quan\",\r\n    category: \"Hỗ trợ\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/support\",\r\n  },\r\n  {\r\n    id: 11,\r\n    title: \"FAQ\",\r\n    description: \"Câu hỏi thường gặp và giải đáp\",\r\n    category: \"Hỗ trợ\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#faq\",\r\n  },\r\n  {\r\n    id: 12,\r\n    title: \"Trở thành Nhà bảo trợ\",\r\n    description: \"Thông tin về chương trình bảo trợ bảo tàng\",\r\n    category: \"Hỗ trợ\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/support#patron\",\r\n  },\r\n\r\n  // Shop sections\r\n  {\r\n    id: 13,\r\n    title: \"Cửa hàng trực tuyến\",\r\n    description: \"Mua sắm các sản phẩm lưu niệm từ bảo tàng\",\r\n    category: \"Mua sắm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"https://online-museeduphin.netlify.app/\",\r\n  },\r\n\r\n  // Add room search data\r\n  {\r\n    id: \"room-traditional\",\r\n    title: \"The ChildHood\",\r\n    description:\r\n      \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-modern\",\r\n    title: \"White Bauhunia\",\r\n    description:\r\n      \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-luxury\",\r\n    title: \"The chill 1\",\r\n    description:\r\n      \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget1\",\r\n    title: \"The Chill 2\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget2\",\r\n    title: \"The Memory\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget3\",\r\n    title: \"The Sunset\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget4\",\r\n    title: \"The Train\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n];\r\n\r\nconst Navbar = () => {\r\n  const [currentLanguage, setCurrentLanguage] = useState(\"vi\");\r\n  const [showLangDropdown, setShowLangDropdown] = useState(false);\r\n  const [showMobileLangDropdown, setShowMobileLangDropdown] = useState(false);\r\n  const [showSearchBox, setShowSearchBox] = useState(false);\r\n  const [showSeeMoreDropdown, setShowSeeMoreDropdown] = useState(false);\r\n  const [showVisitDropdown, setShowVisitDropdown] = useState(false);\r\n  const [showExhibitionsDropdown, setShowExhibitionsDropdown] = useState(false);\r\n  const [showExploreDropdown, setShowExploreDropdown] = useState(false);\r\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [mobileSearchTerm, setMobileSearchTerm] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [showSearchResults, setShowSearchResults] = useState(false);\r\n  const [showLoginModal, setShowLoginModal] = useState(false);\r\n  const [showUserDropdown, setShowUserDropdown] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [cartItemCount, setCartItemCount] = useState(0);\r\n\r\n  // Mobile submenu states - Enable these features\r\n  const [showMobileSubmenu, setShowMobileSubmenu] = useState(false);\r\n  const [currentMobileSubmenu, setCurrentMobileSubmenu] = useState(\"\");\r\n  const [submenuItems, setSubmenuItems] = useState([]);\r\n  const [submenuFeatured, setSubmenuFeatured] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n  const navItemsRef = useRef([]);\r\n  const dropdownRef = useRef(null);\r\n  const mobileLangDropdownRef = useRef(null);\r\n  const seeMoreRef = useRef(null);\r\n  const visitRef = useRef(null);\r\n  const searchInputRef = useRef(null);\r\n  const mobileSubmenuRef = useRef(null);\r\n  const searchResultsRef = useRef(null);\r\n  const userDropdownRef = useRef(null);\r\n\r\n  // Add supported languages\r\n  const supportedLanguages = [\r\n    { code: \"vi\", name: \"Tiếng Việt\" },\r\n    { code: \"en\", name: \"English\" },\r\n  ];\r\n\r\n  // Get current language name\r\n  const getCurrentLanguageName = () => {\r\n    const lang = supportedLanguages.find((l) => l.code === currentLanguage);\r\n    return lang ? lang.name : \"Tiếng Việt\";\r\n  };\r\n\r\n  // Handle language change\r\n  const handleLanguageChange = (langCode) => {\r\n    setCurrentLanguage(langCode);\r\n    setShowMobileLangDropdown(false);\r\n    setShowLangDropdown(false);\r\n  };\r\n\r\n  // Handle search functionality\r\n  const handleSearchInputChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchTerm(value);\r\n\r\n    if (value.trim().length > 1) {\r\n      performSearch(value);\r\n    } else {\r\n      setSearchResults([]);\r\n      setShowSearchResults(false);\r\n    }\r\n  };\r\n\r\n  // Mobile search input change handler\r\n  const handleMobileSearchInputChange = (e) => {\r\n    const value = e.target.value;\r\n    setMobileSearchTerm(value);\r\n\r\n    if (value.trim().length > 1) {\r\n      performSearch(value);\r\n    } else {\r\n      setSearchResults([]);\r\n      setShowSearchResults(false);\r\n    }\r\n  };\r\n\r\n  // Enhanced search to scan all content\r\n  const performSearch = (query) => {\r\n    setIsSearching(true);\r\n    setShowSearchResults(true);\r\n\r\n    // Search in real-time without delay\r\n    const results = searchData.filter((item) => {\r\n      const searchTermLower = query.toLowerCase();\r\n      const titleMatch = item.title.toLowerCase().includes(searchTermLower);\r\n      const descriptionMatch = item.description\r\n        .toLowerCase()\r\n        .includes(searchTermLower);\r\n      const categoryMatch = item.category\r\n        .toLowerCase()\r\n        .includes(searchTermLower);\r\n\r\n      return titleMatch || descriptionMatch || categoryMatch;\r\n    });\r\n\r\n    // Sort results with exact title matches first\r\n    results.sort((a, b) => {\r\n      const aExactMatch = a.title.toLowerCase() === query.toLowerCase();\r\n      const bExactMatch = b.title.toLowerCase() === query.toLowerCase();\r\n\r\n      if (aExactMatch && !bExactMatch) return -1;\r\n      if (!aExactMatch && bExactMatch) return 1;\r\n\r\n      // Sort by category as secondary criteria\r\n      return a.category.localeCompare(b.category);\r\n    });\r\n\r\n    setSearchResults(results);\r\n    setIsSearching(false);\r\n  };\r\n\r\n  // Improved search result navigation with hash-based routing\r\n  const handleSearchResultClick = (path) => {\r\n    setShowSearchBox(false);\r\n    setShowSearchResults(false);\r\n    setSearchTerm(\"\");\r\n    setMobileSearchTerm(\"\");\r\n    setShowMobileMenu(false); // Close mobile menu\r\n\r\n    // Handle external links\r\n    if (path.startsWith(\"http\")) {\r\n      window.open(path, \"_blank\");\r\n      return;\r\n    }\r\n\r\n    // Handle internal navigation with hash fragments\r\n    if (path.includes(\"#\")) {\r\n      const [pagePath, sectionId] = path.split(\"#\");\r\n\r\n      // If we're already on the correct page, just scroll to the section\r\n      if (\r\n        window.location.pathname === pagePath ||\r\n        (pagePath === \"/\" && window.location.pathname === \"\")\r\n      ) {\r\n        setTimeout(() => {\r\n          const element = document.getElementById(sectionId);\r\n          if (element) {\r\n            element.scrollIntoView({ behavior: \"smooth\" });\r\n          }\r\n        }, 100);\r\n      } else {\r\n        // Navigate to the page, then scroll to section\r\n        navigate(path);\r\n      }\r\n    } else {\r\n      // Regular page navigation without hash\r\n      navigate(path);\r\n    }\r\n  };\r\n\r\n  // Handle click outside search results\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      // We're removing this condition so clicking outside won't close the search results\r\n      // Only the X button will close it now\r\n\r\n      // Keep the search input click handler to allow focus/interactions\r\n      if (\r\n        searchInputRef.current &&\r\n        searchInputRef.current.contains(event.target)\r\n      ) {\r\n        // Allow clicks on the search input\r\n        return;\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // Thêm hàm xử lý khi nhấp vào liên kết trong mobile menu\r\n  const handleNavItemClick = (path) => {\r\n    setShowMobileMenu(false);\r\n    navigate(path);\r\n  };\r\n\r\n  // Hàm để mở mobile submenu\r\n  const openMobileSubmenu = (menuType) => {\r\n    setCurrentMobileSubmenu(menuType);\r\n\r\n    let items = [];\r\n    let featured = null;\r\n\r\n    // Thiết lập các mục cho từng loại submenu\r\n    switch (menuType) {\r\n      case \"DANH MỤC\":\r\n        items = [\r\n          { title: \"Xuất bản\", path: \"/category/xuat-ban\" },\r\n          { title: \"Hội thảo nghệ thuật\", path: \"/category/hoi-thao-nghe-thuat\" },\r\n          { title: \"In theo yêu cầu\", path: \"/category/in-theo-yeu-cau\" },\r\n          {\r\n            title: \"Hình ảnh và văn phòng phẩm\",\r\n            path: \"/category/hinh-anh-va-van-phong-pham\",\r\n          },\r\n          { title: \"Thời trang và phụ kiện\", path: \"/category/thoi-trang-va-phu-kien\" },\r\n          { title: \"Đồ trang sức\", path: \"/category/do-trang-suc\" },\r\n          { title: \"Đồ gia dụng\", path: \"/category/do-gia-dung\" },\r\n          { title: \"Trẻ em\", path: \"/category/tre-em\" },\r\n        ];\r\n        featured = {\r\n          title: \"Khám phá cửa hàng trực tuyến\",\r\n          path: \"https://online-museeduphin.netlify.app/\",\r\n          image:\r\n            \"https://boutique.louvre.fr/files/contents/400000/688652-8a3893ca-m/editions.jpg\",\r\n          description: \"Khám phá bộ sưu tập độc đáo của chúng tôi\",\r\n        };\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setSubmenuItems(items);\r\n    setSubmenuFeatured(featured);\r\n    setShowMobileSubmenu(true);\r\n\r\n    // Tạo animation mượt mà\r\n    if (mobileSubmenuRef.current) {\r\n      mobileSubmenuRef.current.classList.remove(\"hide\");\r\n      mobileSubmenuRef.current.classList.add(\"show\");\r\n    }\r\n  };\r\n\r\n  // Hàm để đóng mobile submenu\r\n  const closeMobileSubmenu = () => {\r\n    if (mobileSubmenuRef.current) {\r\n      mobileSubmenuRef.current.classList.remove(\"show\");\r\n      mobileSubmenuRef.current.classList.add(\"hide\");\r\n\r\n      // Đợi animation hoàn thành trước khi ẩn submenu\r\n      setTimeout(() => {\r\n        setShowMobileSubmenu(false);\r\n      }, 300);\r\n    } else {\r\n      setShowMobileSubmenu(false);\r\n    }\r\n  };\r\n\r\n  // Hiệu ứng hover cho các menu items\r\n  useEffect(() => {\r\n    navItemsRef.current.forEach((item) => {\r\n      if (!item) return;\r\n\r\n      const link = item.querySelector(\"a\");\r\n      const underline = item.querySelector(\".underline\");\r\n\r\n      if (!link || !underline) return;\r\n\r\n      const tl = gsap.timeline({ paused: true });\r\n\r\n      // Hiệu ứng underline ngắn chạy từ trong ra ngoài\r\n      tl.fromTo(\r\n        underline,\r\n        {\r\n          width: \"0%\",\r\n        },\r\n        {\r\n          width: \"30%\",\r\n          duration: 0.3,\r\n          ease: \"power2.out\",\r\n        }\r\n      );\r\n\r\n      link.addEventListener(\"mouseenter\", () => tl.play());\r\n      link.addEventListener(\"mouseleave\", () => tl.reverse());\r\n\r\n      return () => {\r\n        link.removeEventListener(\"mouseenter\", () => tl.play());\r\n        link.removeEventListener(\"mouseleave\", () => tl.reverse());\r\n      };\r\n    });\r\n\r\n    // Hiệu ứng cho See More\r\n    if (seeMoreRef.current) {\r\n      const underline = seeMoreRef.current.querySelector(\".underline\");\r\n\r\n      if (underline) {\r\n        const tl = gsap.timeline({ paused: true });\r\n\r\n        tl.fromTo(\r\n          underline,\r\n          {\r\n            width: \"0%\",\r\n          },\r\n          {\r\n            width: \"100%\",\r\n            duration: 0.3,\r\n            ease: \"power2.out\",\r\n          }\r\n        );\r\n\r\n        seeMoreRef.current.addEventListener(\"mouseenter\", () => tl.play());\r\n        seeMoreRef.current.addEventListener(\"mouseleave\", () => {\r\n          if (!showSeeMoreDropdown) {\r\n            tl.reverse();\r\n          }\r\n        });\r\n\r\n        return () => {\r\n          seeMoreRef.current?.removeEventListener(\"mouseenter\", () =>\r\n            tl.play()\r\n          );\r\n          seeMoreRef.current?.removeEventListener(\"mouseleave\", () =>\r\n            tl.reverse()\r\n          );\r\n        };\r\n      }\r\n    }\r\n  }, [showSeeMoreDropdown]);\r\n\r\n  // Focus input khi search box hiển thị\r\n  useEffect(() => {\r\n    if (showSearchBox && searchInputRef.current) {\r\n      searchInputRef.current.focus();\r\n    }\r\n  }, [showSearchBox]);\r\n\r\n  // Xử lý click bên ngoài để đóng dropdown\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      // Only close language dropdowns when clicking outside\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setShowLangDropdown(false);\r\n      }\r\n      if (\r\n        mobileLangDropdownRef.current &&\r\n        !mobileLangDropdownRef.current.contains(event.target)\r\n      ) {\r\n        setShowMobileLangDropdown(false);\r\n      }\r\n\r\n      // Don't automatically close dropdowns when clicking inside them\r\n      // We'll only close them via the X button or Escape key\r\n      // This is specifically for Visit, Exhibitions, and Explore dropdowns\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // Disable scroll khi hiển thị dropdown\r\n  useEffect(() => {\r\n    if (\r\n      showSeeMoreDropdown ||\r\n      showMobileMenu ||\r\n      showVisitDropdown ||\r\n      showExhibitionsDropdown ||\r\n      showExploreDropdown\r\n    ) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"\";\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = \"\";\r\n    };\r\n  }, [\r\n    showSeeMoreDropdown,\r\n    showMobileMenu,\r\n    showVisitDropdown,\r\n    showExhibitionsDropdown,\r\n    showExploreDropdown,\r\n  ]);\r\n\r\n  // Xử lý tìm kiếm\r\n  const handleSearch = (e) => {\r\n    if (e) e.preventDefault();\r\n    if (!searchTerm.trim()) return; // Không thực hiện tìm kiếm nếu input trống\r\n\r\n    performSearch(searchTerm);\r\n  };\r\n\r\n  // Xử lý tìm kiếm từ mobile menu\r\n  const handleMobileSearch = (e) => {\r\n    if (e) e.preventDefault();\r\n    if (!mobileSearchTerm.trim()) return;\r\n\r\n    performSearch(mobileSearchTerm);\r\n  };\r\n\r\n  // Tắt search box khi nhấn phím Escape\r\n  useEffect(() => {\r\n    const handleEscKey = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        if (showSearchBox) {\r\n          setShowSearchBox(false);\r\n        }\r\n        if (showSeeMoreDropdown) {\r\n          setShowSeeMoreDropdown(false);\r\n        }\r\n        if (showMobileMenu) {\r\n          setShowMobileMenu(false);\r\n        }\r\n        if (showVisitDropdown) {\r\n          setShowVisitDropdown(false);\r\n        }\r\n        if (showExhibitionsDropdown) {\r\n          setShowExhibitionsDropdown(false);\r\n        }\r\n        if (showExploreDropdown) {\r\n          setShowExploreDropdown(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscKey);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscKey);\r\n    };\r\n  }, [\r\n    showSearchBox,\r\n    showSeeMoreDropdown,\r\n    showMobileMenu,\r\n    showVisitDropdown,\r\n    showExhibitionsDropdown,\r\n    showExploreDropdown,\r\n  ]);\r\n\r\n  // Load user data on component mount\r\n  useEffect(() => {\r\n    const userData = localStorage.getItem(\"user\");\r\n    if (userData) {\r\n      setCurrentUser(JSON.parse(userData));\r\n    }\r\n  }, []);\r\n\r\n  // Handle logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"rememberMe\");\r\n    setCurrentUser(null);\r\n    setShowUserDropdown(false);\r\n    window.location.reload();\r\n  };\r\n\r\n  // Close user dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (\r\n        userDropdownRef.current &&\r\n        !userDropdownRef.current.contains(event.target)\r\n      ) {\r\n        setShowUserDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // User button component\r\n  const UserButton = () => {\r\n    if (currentUser) {\r\n      return (\r\n        <div className=\"user-dropdown\" ref={userDropdownRef}>\r\n          <button\r\n            className=\"btn btn-outline user-btn\"\r\n            onClick={() => setShowUserDropdown(!showUserDropdown)}\r\n          >\r\n            <FaUser size={16} />\r\n          </button>\r\n          {showUserDropdown && (\r\n            <div className=\"user-dropdown-menu\">\r\n              <div className=\"user-info\">\r\n                <FaUser size={24} className=\"user-icon\" />\r\n                <div className=\"user-details\">\r\n                  <span className=\"user-name\">{currentUser.fullName}</span>\r\n                  <span className=\"user-email\">{currentUser.email}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <button className=\"logout-button\" onClick={handleLogout}>\r\n                Đăng xuất\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-outline\"\r\n        onClick={() => setShowLoginModal(true)}\r\n      >\r\n        <FaUser size={16} />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  // Load cart count\r\n  useEffect(() => {\r\n    const updateCartCount = () => {\r\n      const savedCart = localStorage.getItem(\"cart\");\r\n      if (savedCart) {\r\n        const cartItems = JSON.parse(savedCart);\r\n        const count = cartItems.reduce(\r\n          (total, item) => total + item.quantity,\r\n          0\r\n        );\r\n        setCartItemCount(count);\r\n      } else {\r\n        setCartItemCount(0);\r\n      }\r\n    };\r\n\r\n    // Update initial count\r\n    updateCartCount();\r\n\r\n    // Listen for storage changes\r\n    window.addEventListener(\"storage\", updateCartCount);\r\n\r\n    // Custom event for cart updates\r\n    window.addEventListener(\"cartUpdated\", updateCartCount);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", updateCartCount);\r\n      window.removeEventListener(\"cartUpdated\", updateCartCount);\r\n    };\r\n  }, []);\r\n\r\n  // Render search results\r\n  const renderSearchResults = () => {\r\n    if (!showSearchResults) return null;\r\n\r\n    return (\r\n      <div className=\"search-results-container\" ref={searchResultsRef}>\r\n        <div className=\"search-results-list\">\r\n          <div className=\"search-results-header\">\r\n            {isSearching ? (\r\n              <div className=\"search-loading\"></div>\r\n            ) : (\r\n              <div className=\"search-results-title\">\r\n                <div className=\"search-results-count\">\r\n                  {`${searchResults.length} kết quả tìm kiếm cho \"${\r\n                    searchTerm || mobileSearchTerm\r\n                  }\"`}\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"search-results-close-button\"\r\n                  onClick={() => setShowSearchResults(false)}\r\n                  aria-label=\"Đóng kết quả tìm kiếm\"\r\n                >\r\n                  <CloseIcon />\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {isSearching ? (\r\n            <div className=\"search-loading\"></div>\r\n          ) : searchResults.length > 0 ? (\r\n            <div className=\"search-results-items\">\r\n              {searchResults.map((result) => (\r\n                <div\r\n                  key={result.id}\r\n                  className={`search-result-item ${\r\n                    result.path.includes(\"#\") ? \"section-link\" : \"\"\r\n                  }`}\r\n                  onClick={() => handleSearchResultClick(result.path)}\r\n                >\r\n                  <img\r\n                    src={result.image}\r\n                    alt={result.title}\r\n                    loading=\"lazy\"\r\n                    className=\"search-result-image\"\r\n                  />\r\n                  <div className=\"search-result-content\">\r\n                    <h4 className=\"search-result-title\">{result.title}</h4>\r\n                    <p className=\"search-result-description\">\r\n                      {result.description}\r\n                    </p>\r\n                    <span className=\"search-result-category\">\r\n                      {result.category}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"search-no-results\">\r\n              <h3>Không tìm thấy kết quả</h3>\r\n              <p>\r\n                Chúng tôi không thể tìm thấy kết quả nào cho tìm kiếm của bạn.\r\n                Vui lòng thử từ khóa khác.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Add effect to handle external mobile menu triggers\r\n  useEffect(() => {\r\n    const handleMobileMenuShow = () => {\r\n      setShowMobileMenu(true);\r\n    };\r\n\r\n    const handleMobileMenuHide = () => {\r\n      setShowMobileMenu(false);\r\n    };\r\n\r\n    // Listen for mobile menu class changes\r\n    const mobileMenuOverlay = document.querySelector(\".mobile-menu-overlay\");\r\n    if (mobileMenuOverlay) {\r\n      const observer = new MutationObserver((mutations) => {\r\n        mutations.forEach((mutation) => {\r\n          if (\r\n            mutation.type === \"attributes\" &&\r\n            mutation.attributeName === \"class\"\r\n          ) {\r\n            if (mobileMenuOverlay.classList.contains(\"show\")) {\r\n              handleMobileMenuShow();\r\n            } else {\r\n              handleMobileMenuHide();\r\n            }\r\n          }\r\n        });\r\n      });\r\n\r\n      observer.observe(mobileMenuOverlay, {\r\n        attributes: true,\r\n      });\r\n\r\n      return () => observer.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  // Add event listener for opening dropdowns\r\n  useEffect(() => {\r\n    const handleOpenNavDropdown = (event) => {\r\n      const dropdownType = event.detail.type;\r\n\r\n      // Close all dropdowns first\r\n      setShowVisitDropdown(false);\r\n      setShowExhibitionsDropdown(false);\r\n      setShowExploreDropdown(false);\r\n      setShowSeeMoreDropdown(false);\r\n      setShowMobileMenu(false);\r\n\r\n      // Scroll to top\r\n      window.scrollTo(0, 0);\r\n\r\n      // Open the requested dropdown\r\n      switch (dropdownType) {\r\n        case \"KHÁM PHÁ\":\r\n          setShowExploreDropdown(true);\r\n          break;\r\n        case \"Trải nghiệm\":\r\n          setShowVisitDropdown(true);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"openNavDropdown\", handleOpenNavDropdown);\r\n    return () => {\r\n      window.removeEventListener(\"openNavDropdown\", handleOpenNavDropdown);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"explore-button-container\">\r\n        <a\r\n          href=\"https://museedupin.netlify.app/\"\r\n          className=\"explore-button\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <p>\r\n            <IoIosArrowBack />\r\n            Cùng khám phá chúng tôi\r\n          </p>\r\n        </a>\r\n      </div>\r\n      <header className=\"navbar-container\">\r\n        {/* Desktop Navbar */}\r\n        <div className=\"navbar-top\">\r\n          {/* Left section with search and language */}\r\n          <div className=\"left-section\">\r\n            <div\r\n              className=\"search-container\"\r\n              onClick={() => setShowSearchBox(true)}\r\n            >\r\n              <SearchIcon />\r\n              <span>Tìm kiếm</span>\r\n            </div>\r\n\r\n            <div className=\"language-dropdown\" ref={dropdownRef}>\r\n              <div\r\n                className=\"selected-language\"\r\n                onClick={() => setShowLangDropdown(!showLangDropdown)}\r\n              >\r\n                {getCurrentLanguageName()}\r\n              </div>\r\n\r\n              {showLangDropdown && (\r\n                <div className=\"language-options\">\r\n                  <div className=\"language-header\">Ngôn ngữ</div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Center section with logo */}\r\n          <div className=\"logo-container\">\r\n            <Link to=\"/\">\r\n              <img\r\n                className=\"logo\"\r\n                src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\r\n                alt=\"Museum Logo\"\r\n                loading=\"lazy\"\r\n              />\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Desktop Navbar - Right Section */}\r\n          <div className=\"desktop-right-section\">\r\n            <div className=\"buttons-container\">\r\n              <Link\r\n                to=\"https://online-museeduphin.netlify.app/\"\r\n                className=\"btn btn-outline\"\r\n              >\r\n                <BoutiqueIcon />\r\n              </Link>\r\n              <UserButton />\r\n              <Link to=\"/cart\" className=\"btn btn-outline cart-btn\">\r\n                <RiShoppingBag4Fill size={16} />\r\n                {cartItemCount > 0 && (\r\n                  <span className=\"cart-count\">{cartItemCount}</span>\r\n                )}\r\n              </Link>\r\n              <Link\r\n                to=\"https://online-museeduphin.netlify.app/\"\r\n                className=\"btn btn-filled\"\r\n              >\r\n                <TicketIcon />\r\n              </Link>\r\n            </div>\r\n\r\n            <div\r\n              className=\"menu-toggle\"\r\n              onClick={() => setShowSearchBox(!showSearchBox)}\r\n            >\r\n              <MenuIcon />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Mobile elements */}\r\n          <div className=\"mobile-logo\">\r\n            <div onClick={() => setShowMobileMenu(true)}>\r\n              <img\r\n                src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\r\n                alt=\"Musée Du Pin Logo\"\r\n                className=\"mobile-logo-image\"\r\n                loading=\"lazy\"\r\n              />\r\n            </div>\r\n            <a href=\"/\">\r\n              <span className=\"museum-name-mobile\">Musée Du Pin</span>\r\n            </a>\r\n          </div>\r\n\r\n          <div className=\"right-section\">\r\n            <UserButton />\r\n            <Link to=\"/cart\" className=\"btn btn-outline cart-btn\">\r\n              <RiShoppingBag4Fill size={16} />\r\n              {cartItemCount > 0 && (\r\n                <span className=\"cart-count\">{cartItemCount}</span>\r\n              )}\r\n            </Link>\r\n            <Link\r\n              to=\"https://online-museeduphin.netlify.app/\"\r\n              className=\"btn btn-outline\"\r\n            >\r\n              <TicketIcon />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"divider\"></div>\r\n\r\n        {/* Desktop Navbar Bottom Section */}\r\n        <div className=\"navbar-bottom\">\r\n          <nav className=\"main-nav\">\r\n            <ul>\r\n              <li\r\n                className=\"nav-item\"\r\n                ref={(el) => {\r\n                  navItemsRef.current[0] = el;\r\n                  visitRef.current = el;\r\n                }}\r\n              >\r\n                <Link\r\n                  to=\"/danh-muc\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    openMobileSubmenu(\"DANH MỤC\");\r\n                  }}\r\n                >\r\n                  DANH MỤC\r\n                  <div className=\"underline\"></div>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Search Box as Overlay */}\r\n        {showSearchBox && (\r\n          <div className=\"search-below-navbar\">\r\n            <div className=\"search-box-container\">\r\n              <div className=\"search-box-inner\">\r\n                <div\r\n                  className={`search-input-wrapper ${\r\n                    isFocused || searchTerm ? \"has-value\" : \"\"\r\n                  }`}\r\n                >\r\n                  <SearchIcon />\r\n                  <div className=\"search-input-label\">Tìm kiếm</div>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder={isFocused ? \"\" : \"Tìm kiếm\"}\r\n                    value={searchTerm}\r\n                    onChange={handleSearchInputChange}\r\n                    onFocus={() => setIsFocused(true)}\r\n                    onBlur={() => setIsFocused(false)}\r\n                    ref={searchInputRef}\r\n                    className=\"search-input\"\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className={`search-submit-button ${\r\n                    searchTerm.trim() ? \"active\" : \"\"\r\n                  }`}\r\n                  onClick={handleSearch}\r\n                  aria-label=\"Submit search\"\r\n                  disabled={!searchTerm.trim()}\r\n                >\r\n                  <ArrowRightIcon />\r\n                </button>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"search-close-button\"\r\n                onClick={() => {\r\n                  setShowSearchBox(false);\r\n                  // Don't close search results when closing the search box\r\n                  // Only the X in the search results should close them\r\n                }}\r\n                aria-label=\"Close search\"\r\n              >\r\n                <CloseIcon />\r\n              </button>\r\n              {/* Render search results */}\r\n              {renderSearchResults()}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Mobile Menu Overlay */}\r\n        <div className={`mobile-menu-overlay ${showMobileMenu ? \"show\" : \"\"}`}>\r\n          <div className=\"mobile-menu-header\">\r\n            <button\r\n              className=\"mobile-close-button\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n              aria-label=\"Close menu\"\r\n            >\r\n              <CloseIcon />\r\n            </button>\r\n            <div\r\n              className=\"mobile-lang-selector\"\r\n              onClick={() => setShowMobileLangDropdown(!showMobileLangDropdown)}\r\n              ref={mobileLangDropdownRef}\r\n            >\r\n              {getCurrentLanguageName()}\r\n              {showMobileLangDropdown ? <ChevronUp /> : <ChevronDown />}\r\n              {showMobileLangDropdown && (\r\n                <div className=\"mobile-language-options\">\r\n                  {supportedLanguages.map((lang) => (\r\n                    <div\r\n                      key={lang.code}\r\n                      className={`mobile-language-option ${\r\n                        currentLanguage === lang.code ? \"active\" : \"\"\r\n                      }`}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleLanguageChange(lang.code);\r\n                      }}\r\n                    >\r\n                      {lang.name}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mobile-search\">\r\n            <form onSubmit={handleMobileSearch}>\r\n              <div className=\"mobile-search-input\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Tìm kiếm\"\r\n                  value={mobileSearchTerm}\r\n                  onChange={handleMobileSearchInputChange}\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"mobile-search-button\"\r\n                  disabled={!mobileSearchTerm.trim()}\r\n                >\r\n                  <ArrowRightIcon />\r\n                </button>\r\n              </div>\r\n            </form>\r\n            {/* Render mobile search results */}\r\n            {renderSearchResults()}\r\n          </div>\r\n\r\n          <div className=\"mobile-nav-links\">\r\n            <div\r\n              className=\"mobile-nav-item\"\r\n              onClick={() => openMobileSubmenu(\"DANH MỤC\")}\r\n            >\r\n              DANH MỤC\r\n              <ChevronRight />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mobile-nav-divider\"></div>\r\n\r\n          <div className=\"mobile-secondary-links\">\r\n            <div\r\n              className=\"mobile-secondary-item\"\r\n              onClick={() =>\r\n                handleNavItemClick(\"https://online-museeduphin.netlify.app/\")\r\n              }\r\n            >\r\n              Đặt vé trực tuyến\r\n            </div>\r\n            <div className=\"mobile-secondary-item\">\r\n              <a href=\"https://museedupin.netlify.app/support\" target=\"_blank\">\r\n                Hỗ trợ Musée Du Pin\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mobile-social-icons\">\r\n            <a\r\n              href=\"https://www.facebook.com/BaoTangThongDalat\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"social-icon\"\r\n              aria-label=\"Facebook\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n            >\r\n              <FacebookIcon />\r\n            </a>\r\n            <a\r\n              href=\"https://www.tiktok.com/@baotangthongdalat?_t=ZS-8wcfw9TGrnm&_r=1\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"social-icon\"\r\n              aria-label=\"TikTok\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n            >\r\n              <TikTokIcon />\r\n            </a>\r\n            <a\r\n              href=\"https://www.youtube.com/channel/UCyxLbhgBPZ3KnGD_KeLCo9A\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"social-icon\"\r\n              aria-label=\"YouTube\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n            >\r\n              <YoutubeIcon />\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Submenu */}\r\n        {showMobileSubmenu && (\r\n          <div\r\n            className={`mobile-submenu ${showMobileSubmenu ? \"show\" : \"hide\"}`}\r\n            ref={mobileSubmenuRef}\r\n          >\r\n            <div className=\"submenu-header\">\r\n              <button\r\n                className=\"back-buttonss\"\r\n                onClick={closeMobileSubmenu}\r\n                aria-label=\"Back to main menu\"\r\n              >\r\n                <svg\r\n                  width=\"24\"\r\n                  height=\"24\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <path d=\"M15 18l-6-6 6-6\" />\r\n                </svg>\r\n                Quay lại\r\n              </button>\r\n              <h2 className=\"submenu-title\">{currentMobileSubmenu}</h2>\r\n            </div>\r\n\r\n            <div className=\"submenu-items\">\r\n              {submenuItems.map((item, index) => (\r\n                <Link\r\n                  key={index}\r\n                  to={item.path}\r\n                  className=\"submenu-item\"\r\n                  onClick={() => {\r\n                    setShowMobileSubmenu(false);\r\n                    setShowMobileMenu(false);\r\n                  }}\r\n                >\r\n                  {item.title}\r\n                  <ChevronRight />\r\n                </Link>\r\n              ))}\r\n            </div>\r\n\r\n            {/* {submenuFeatured && (\r\n              <div className=\"submenu-featured\">\r\n                <Link\r\n                  to={submenuFeatured.path}\r\n                  className=\"featured-title\"\r\n                  onClick={() => {\r\n                    setShowMobileSubmenu(false);\r\n                    setShowMobileMenu(false);\r\n                  }}\r\n                >\r\n                  {submenuFeatured.title}\r\n                  <svg\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path d=\"M5 12h14\"></path>\r\n                    <path d=\"M12 5l7 7-7 7\"></path>\r\n                  </svg>\r\n                </Link>\r\n                <img\r\n                  src={submenuFeatured.image}\r\n                  alt={submenuFeatured.title}\r\n                  loading=\"lazy\"\r\n                  className=\"featured-image\"\r\n                />\r\n                <p className=\"featured-description\">\r\n                  {submenuFeatured.description}\r\n                </p>\r\n              </div>\r\n            )} */}\r\n          </div>\r\n        )}\r\n\r\n        {/* Login Modal */}\r\n        <LoginModal\r\n          isOpen={showLoginModal}\r\n          onClose={() => setShowLoginModal(false)}\r\n        />\r\n      </header>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n",
      "start": 1749894710818,
      "end": 1749894710845,
      "sourcemaps": null
    },
    {
      "name": "vite:react-babel",
      "start": 1749894710845,
      "end": 1749894710845,
      "order": "pre"
    },
    {
      "name": "vite:esbuild",
      "result": "import { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport gsap from \"gsap\";\nimport { useEffect, useRef, useState } from \"react\";\nimport {\n  FaArrowRight,\n  FaBars,\n  FaChevronDown,\n  FaChevronRight,\n  FaChevronUp,\n  FaFacebook,\n  FaGift,\n  FaInstagram,\n  FaSearch,\n  FaShoppingBag,\n  FaTicketAlt,\n  FaTimes,\n  FaUser,\n  FaYoutube\n} from \"react-icons/fa\";\nimport { RiShoppingBag4Fill } from \"react-icons/ri\";\nimport { SiTiktok } from \"react-icons/si\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport LoginModal from \"../Auth/LoginModal\";\nimport \"./Navbar.css\";\nimport { IoIosArrowBack } from \"react-icons/io\";\nconst SearchIcon = () => /* @__PURE__ */ jsx(FaSearch, { size: 16 });\nconst ChevronDown = () => /* @__PURE__ */ jsx(FaChevronDown, { size: 14 });\nconst ChevronRight = () => /* @__PURE__ */ jsx(FaChevronRight, { size: 16 });\nconst MenuIcon = () => /* @__PURE__ */ jsxs(\"div\", { className: \"menu-icon\", children: [\n  /* @__PURE__ */ jsx(\"div\", { className: \"line\" }),\n  /* @__PURE__ */ jsx(\"div\", { className: \"line\" }),\n  /* @__PURE__ */ jsx(\"div\", { className: \"line\" })\n] });\nconst HamburgerIcon = () => /* @__PURE__ */ jsx(FaBars, { size: 24 });\nconst ArrowRightIcon = () => /* @__PURE__ */ jsx(FaArrowRight, { size: 20 });\nconst CloseIcon = () => /* @__PURE__ */ jsx(FaTimes, { size: 24 });\nconst BoutiqueIcon = () => /* @__PURE__ */ jsx(FaShoppingBag, { className: \"btn-icon\" });\nconst TicketIcon = () => /* @__PURE__ */ jsx(FaTicketAlt, { className: \"btn-icon\" });\nconst CloseDropdownIcon = () => /* @__PURE__ */ jsx(FaTimes, { size: 24 });\nconst PatronIcon = () => /* @__PURE__ */ jsx(FaGift, { size: 24 });\nconst FacebookIcon = () => /* @__PURE__ */ jsx(FaFacebook, { size: 18 });\nconst InstagramIcon = () => /* @__PURE__ */ jsx(FaInstagram, { size: 18 });\nconst TikTokIcon = () => /* @__PURE__ */ jsx(SiTiktok, { size: 18 });\nconst YoutubeIcon = () => /* @__PURE__ */ jsx(FaYoutube, { size: 18 });\nconst ChevronUp = () => /* @__PURE__ */ jsx(FaChevronUp, { size: 14 });\nconst searchData = [\n  // Visit page sections\n  {\n    id: 1,\n    title: \"Giờ mở cửa & vé vào cửa\",\n    description: \"Thông tin về giờ mở cửa và vé vào cửa bảo tàng\",\n    category: \"Trải nghiệm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visit#hours\"\n  },\n  {\n    id: 2,\n    title: \"Giá vé\",\n    description: \"Thông tin về giá vé và các loại vé\",\n    category: \"Trải nghiệm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visit#tickets\"\n  },\n  {\n    id: 3,\n    title: \"Thành viên\",\n    description: \"Thông tin về chương trình thành viên và đặc quyền\",\n    category: \"Trải nghiệm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visit#membership\"\n  },\n  {\n    id: 4,\n    title: \"Nội quy tham quan\",\n    description: \"Quy định và nội quy khi tham quan bảo tàng\",\n    category: \"Trải nghiệm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visitor-rules\"\n  },\n  // Exhibitions sections\n  {\n    id: 5,\n    title: \"Triển lãm\",\n    description: \"Các triển lãm hiện tại và sắp tới\",\n    category: \"Triển lãm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions\"\n  },\n  {\n    id: 6,\n    title: \"Trải nghiệm có hướng dẫn\",\n    description: \"Các tour tham quan có hướng dẫn viên\",\n    category: \"Triển lãm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions?tab=guided-tours\"\n  },\n  // Explore sections\n  {\n    id: 7,\n    title: \"Bộ sưu tập\",\n    description: \"Khám phá bộ sưu tập nghệ thuật của bảo tàng\",\n    category: \"Khám phá\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/collection\"\n  },\n  {\n    id: 8,\n    title: \"Lộ trình tham quan\",\n    description: \"Các lộ trình tham quan được đề xuất\",\n    category: \"Khám phá\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/visitor-trails\"\n  },\n  {\n    id: 9,\n    title: \"Vườn\",\n    description: \"Khám phá khu vườn của bảo tàng\",\n    category: \"Khám phá\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/the-gardens\"\n  },\n  // Support sections\n  {\n    id: 10,\n    title: \"Hỗ trợ khách tham quan\",\n    description: \"Thông tin hỗ trợ và hướng dẫn cho khách tham quan\",\n    category: \"Hỗ trợ\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support\"\n  },\n  {\n    id: 11,\n    title: \"FAQ\",\n    description: \"Câu hỏi thường gặp và giải đáp\",\n    category: \"Hỗ trợ\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#faq\"\n  },\n  {\n    id: 12,\n    title: \"Trở thành Nhà bảo trợ\",\n    description: \"Thông tin về chương trình bảo trợ bảo tàng\",\n    category: \"Hỗ trợ\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support#patron\"\n  },\n  // Shop sections\n  {\n    id: 13,\n    title: \"Cửa hàng trực tuyến\",\n    description: \"Mua sắm các sản phẩm lưu niệm từ bảo tàng\",\n    category: \"Mua sắm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"https://online-museeduphin.netlify.app/\"\n  },\n  // Add room search data\n  {\n    id: \"room-traditional\",\n    title: \"The ChildHood\",\n    description: \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-modern\",\n    title: \"White Bauhunia\",\n    description: \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-luxury\",\n    title: \"The chill 1\",\n    description: \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget1\",\n    title: \"The Chill 2\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget2\",\n    title: \"The Memory\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget3\",\n    title: \"The Sunset\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget4\",\n    title: \"The Train\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#homestay\"\n  }\n];\nconst Navbar = () => {\n  const [currentLanguage, setCurrentLanguage] = useState(\"vi\");\n  const [showLangDropdown, setShowLangDropdown] = useState(false);\n  const [showMobileLangDropdown, setShowMobileLangDropdown] = useState(false);\n  const [showSearchBox, setShowSearchBox] = useState(false);\n  const [showSeeMoreDropdown, setShowSeeMoreDropdown] = useState(false);\n  const [showVisitDropdown, setShowVisitDropdown] = useState(false);\n  const [showExhibitionsDropdown, setShowExhibitionsDropdown] = useState(false);\n  const [showExploreDropdown, setShowExploreDropdown] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [mobileSearchTerm, setMobileSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [showSearchResults, setShowSearchResults] = useState(false);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [showUserDropdown, setShowUserDropdown] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [cartItemCount, setCartItemCount] = useState(0);\n  const [showMobileSubmenu, setShowMobileSubmenu] = useState(false);\n  const [currentMobileSubmenu, setCurrentMobileSubmenu] = useState(\"\");\n  const [submenuItems, setSubmenuItems] = useState([]);\n  const [submenuFeatured, setSubmenuFeatured] = useState(null);\n  const navigate = useNavigate();\n  const navItemsRef = useRef([]);\n  const dropdownRef = useRef(null);\n  const mobileLangDropdownRef = useRef(null);\n  const seeMoreRef = useRef(null);\n  const visitRef = useRef(null);\n  const searchInputRef = useRef(null);\n  const mobileSubmenuRef = useRef(null);\n  const searchResultsRef = useRef(null);\n  const userDropdownRef = useRef(null);\n  const supportedLanguages = [\n    { code: \"vi\", name: \"Tiếng Việt\" },\n    { code: \"en\", name: \"English\" }\n  ];\n  const getCurrentLanguageName = () => {\n    const lang = supportedLanguages.find((l) => l.code === currentLanguage);\n    return lang ? lang.name : \"Tiếng Việt\";\n  };\n  const handleLanguageChange = (langCode) => {\n    setCurrentLanguage(langCode);\n    setShowMobileLangDropdown(false);\n    setShowLangDropdown(false);\n  };\n  const handleSearchInputChange = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n  const handleMobileSearchInputChange = (e) => {\n    const value = e.target.value;\n    setMobileSearchTerm(value);\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n  const performSearch = (query) => {\n    setIsSearching(true);\n    setShowSearchResults(true);\n    const results = searchData.filter((item) => {\n      const searchTermLower = query.toLowerCase();\n      const titleMatch = item.title.toLowerCase().includes(searchTermLower);\n      const descriptionMatch = item.description.toLowerCase().includes(searchTermLower);\n      const categoryMatch = item.category.toLowerCase().includes(searchTermLower);\n      return titleMatch || descriptionMatch || categoryMatch;\n    });\n    results.sort((a, b) => {\n      const aExactMatch = a.title.toLowerCase() === query.toLowerCase();\n      const bExactMatch = b.title.toLowerCase() === query.toLowerCase();\n      if (aExactMatch && !bExactMatch) return -1;\n      if (!aExactMatch && bExactMatch) return 1;\n      return a.category.localeCompare(b.category);\n    });\n    setSearchResults(results);\n    setIsSearching(false);\n  };\n  const handleSearchResultClick = (path) => {\n    setShowSearchBox(false);\n    setShowSearchResults(false);\n    setSearchTerm(\"\");\n    setMobileSearchTerm(\"\");\n    setShowMobileMenu(false);\n    if (path.startsWith(\"http\")) {\n      window.open(path, \"_blank\");\n      return;\n    }\n    if (path.includes(\"#\")) {\n      const [pagePath, sectionId] = path.split(\"#\");\n      if (window.location.pathname === pagePath || pagePath === \"/\" && window.location.pathname === \"\") {\n        setTimeout(() => {\n          const element = document.getElementById(sectionId);\n          if (element) {\n            element.scrollIntoView({ behavior: \"smooth\" });\n          }\n        }, 100);\n      } else {\n        navigate(path);\n      }\n    } else {\n      navigate(path);\n    }\n  };\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (searchInputRef.current && searchInputRef.current.contains(event.target)) {\n        return;\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n  const handleNavItemClick = (path) => {\n    setShowMobileMenu(false);\n    navigate(path);\n  };\n  const openMobileSubmenu = (menuType) => {\n    setCurrentMobileSubmenu(menuType);\n    let items = [];\n    let featured = null;\n    switch (menuType) {\n      case \"DANH MỤC\":\n        items = [\n          { title: \"Xuất bản\", path: \"/category/xuat-ban\" },\n          { title: \"Hội thảo nghệ thuật\", path: \"/category/hoi-thao-nghe-thuat\" },\n          { title: \"In theo yêu cầu\", path: \"/category/in-theo-yeu-cau\" },\n          {\n            title: \"Hình ảnh và văn phòng phẩm\",\n            path: \"/category/hinh-anh-va-van-phong-pham\"\n          },\n          { title: \"Thời trang và phụ kiện\", path: \"/category/thoi-trang-va-phu-kien\" },\n          { title: \"Đồ trang sức\", path: \"/category/do-trang-suc\" },\n          { title: \"Đồ gia dụng\", path: \"/category/do-gia-dung\" },\n          { title: \"Trẻ em\", path: \"/category/tre-em\" }\n        ];\n        featured = {\n          title: \"Khám phá cửa hàng trực tuyến\",\n          path: \"https://online-museeduphin.netlify.app/\",\n          image: \"https://boutique.louvre.fr/files/contents/400000/688652-8a3893ca-m/editions.jpg\",\n          description: \"Khám phá bộ sưu tập độc đáo của chúng tôi\"\n        };\n        break;\n      default:\n        break;\n    }\n    setSubmenuItems(items);\n    setSubmenuFeatured(featured);\n    setShowMobileSubmenu(true);\n    if (mobileSubmenuRef.current) {\n      mobileSubmenuRef.current.classList.remove(\"hide\");\n      mobileSubmenuRef.current.classList.add(\"show\");\n    }\n  };\n  const closeMobileSubmenu = () => {\n    if (mobileSubmenuRef.current) {\n      mobileSubmenuRef.current.classList.remove(\"show\");\n      mobileSubmenuRef.current.classList.add(\"hide\");\n      setTimeout(() => {\n        setShowMobileSubmenu(false);\n      }, 300);\n    } else {\n      setShowMobileSubmenu(false);\n    }\n  };\n  useEffect(() => {\n    navItemsRef.current.forEach((item) => {\n      if (!item) return;\n      const link = item.querySelector(\"a\");\n      const underline = item.querySelector(\".underline\");\n      if (!link || !underline) return;\n      const tl = gsap.timeline({ paused: true });\n      tl.fromTo(\n        underline,\n        {\n          width: \"0%\"\n        },\n        {\n          width: \"30%\",\n          duration: 0.3,\n          ease: \"power2.out\"\n        }\n      );\n      link.addEventListener(\"mouseenter\", () => tl.play());\n      link.addEventListener(\"mouseleave\", () => tl.reverse());\n      return () => {\n        link.removeEventListener(\"mouseenter\", () => tl.play());\n        link.removeEventListener(\"mouseleave\", () => tl.reverse());\n      };\n    });\n    if (seeMoreRef.current) {\n      const underline = seeMoreRef.current.querySelector(\".underline\");\n      if (underline) {\n        const tl = gsap.timeline({ paused: true });\n        tl.fromTo(\n          underline,\n          {\n            width: \"0%\"\n          },\n          {\n            width: \"100%\",\n            duration: 0.3,\n            ease: \"power2.out\"\n          }\n        );\n        seeMoreRef.current.addEventListener(\"mouseenter\", () => tl.play());\n        seeMoreRef.current.addEventListener(\"mouseleave\", () => {\n          if (!showSeeMoreDropdown) {\n            tl.reverse();\n          }\n        });\n        return () => {\n          seeMoreRef.current?.removeEventListener(\n            \"mouseenter\",\n            () => tl.play()\n          );\n          seeMoreRef.current?.removeEventListener(\n            \"mouseleave\",\n            () => tl.reverse()\n          );\n        };\n      }\n    }\n  }, [showSeeMoreDropdown]);\n  useEffect(() => {\n    if (showSearchBox && searchInputRef.current) {\n      searchInputRef.current.focus();\n    }\n  }, [showSearchBox]);\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowLangDropdown(false);\n      }\n      if (mobileLangDropdownRef.current && !mobileLangDropdownRef.current.contains(event.target)) {\n        setShowMobileLangDropdown(false);\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n  useEffect(() => {\n    if (showSeeMoreDropdown || showMobileMenu || showVisitDropdown || showExhibitionsDropdown || showExploreDropdown) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown\n  ]);\n  const handleSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!searchTerm.trim()) return;\n    performSearch(searchTerm);\n  };\n  const handleMobileSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!mobileSearchTerm.trim()) return;\n    performSearch(mobileSearchTerm);\n  };\n  useEffect(() => {\n    const handleEscKey = (event) => {\n      if (event.key === \"Escape\") {\n        if (showSearchBox) {\n          setShowSearchBox(false);\n        }\n        if (showSeeMoreDropdown) {\n          setShowSeeMoreDropdown(false);\n        }\n        if (showMobileMenu) {\n          setShowMobileMenu(false);\n        }\n        if (showVisitDropdown) {\n          setShowVisitDropdown(false);\n        }\n        if (showExhibitionsDropdown) {\n          setShowExhibitionsDropdown(false);\n        }\n        if (showExploreDropdown) {\n          setShowExploreDropdown(false);\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscKey);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscKey);\n    };\n  }, [\n    showSearchBox,\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown\n  ]);\n  useEffect(() => {\n    const userData = localStorage.getItem(\"user\");\n    if (userData) {\n      setCurrentUser(JSON.parse(userData));\n    }\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"rememberMe\");\n    setCurrentUser(null);\n    setShowUserDropdown(false);\n    window.location.reload();\n  };\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (userDropdownRef.current && !userDropdownRef.current.contains(event.target)) {\n        setShowUserDropdown(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n  const UserButton = () => {\n    if (currentUser) {\n      return /* @__PURE__ */ jsxs(\"div\", { className: \"user-dropdown\", ref: userDropdownRef, children: [\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            className: \"btn btn-outline user-btn\",\n            onClick: () => setShowUserDropdown(!showUserDropdown),\n            children: /* @__PURE__ */ jsx(FaUser, { size: 16 })\n          }\n        ),\n        showUserDropdown && /* @__PURE__ */ jsxs(\"div\", { className: \"user-dropdown-menu\", children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"user-info\", children: [\n            /* @__PURE__ */ jsx(FaUser, { size: 24, className: \"user-icon\" }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"user-details\", children: [\n              /* @__PURE__ */ jsx(\"span\", { className: \"user-name\", children: currentUser.fullName }),\n              /* @__PURE__ */ jsx(\"span\", { className: \"user-email\", children: currentUser.email })\n            ] })\n          ] }),\n          /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-divider\" }),\n          /* @__PURE__ */ jsx(\"button\", { className: \"logout-button\", onClick: handleLogout, children: \"Đăng xuất\" })\n        ] })\n      ] });\n    }\n    return /* @__PURE__ */ jsx(\n      \"button\",\n      {\n        className: \"btn btn-outline\",\n        onClick: () => setShowLoginModal(true),\n        children: /* @__PURE__ */ jsx(FaUser, { size: 16 })\n      }\n    );\n  };\n  useEffect(() => {\n    const updateCartCount = () => {\n      const savedCart = localStorage.getItem(\"cart\");\n      if (savedCart) {\n        const cartItems = JSON.parse(savedCart);\n        const count = cartItems.reduce(\n          (total, item) => total + item.quantity,\n          0\n        );\n        setCartItemCount(count);\n      } else {\n        setCartItemCount(0);\n      }\n    };\n    updateCartCount();\n    window.addEventListener(\"storage\", updateCartCount);\n    window.addEventListener(\"cartUpdated\", updateCartCount);\n    return () => {\n      window.removeEventListener(\"storage\", updateCartCount);\n      window.removeEventListener(\"cartUpdated\", updateCartCount);\n    };\n  }, []);\n  const renderSearchResults = () => {\n    if (!showSearchResults) return null;\n    return /* @__PURE__ */ jsx(\"div\", { className: \"search-results-container\", ref: searchResultsRef, children: /* @__PURE__ */ jsxs(\"div\", { className: \"search-results-list\", children: [\n      /* @__PURE__ */ jsx(\"div\", { className: \"search-results-header\", children: isSearching ? /* @__PURE__ */ jsx(\"div\", { className: \"search-loading\" }) : /* @__PURE__ */ jsxs(\"div\", { className: \"search-results-title\", children: [\n        /* @__PURE__ */ jsx(\"div\", { className: \"search-results-count\", children: `${searchResults.length} kết quả tìm kiếm cho \"${searchTerm || mobileSearchTerm}\"` }),\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            type: \"button\",\n            className: \"search-results-close-button\",\n            onClick: () => setShowSearchResults(false),\n            \"aria-label\": \"Đóng kết quả tìm kiếm\",\n            children: /* @__PURE__ */ jsx(CloseIcon, {})\n          }\n        )\n      ] }) }),\n      isSearching ? /* @__PURE__ */ jsx(\"div\", { className: \"search-loading\" }) : searchResults.length > 0 ? /* @__PURE__ */ jsx(\"div\", { className: \"search-results-items\", children: searchResults.map((result) => /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: `search-result-item ${result.path.includes(\"#\") ? \"section-link\" : \"\"}`,\n          onClick: () => handleSearchResultClick(result.path),\n          children: [\n            /* @__PURE__ */ jsx(\n              \"img\",\n              {\n                src: result.image,\n                alt: result.title,\n                loading: \"lazy\",\n                className: \"search-result-image\"\n              }\n            ),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"search-result-content\", children: [\n              /* @__PURE__ */ jsx(\"h4\", { className: \"search-result-title\", children: result.title }),\n              /* @__PURE__ */ jsx(\"p\", { className: \"search-result-description\", children: result.description }),\n              /* @__PURE__ */ jsx(\"span\", { className: \"search-result-category\", children: result.category })\n            ] })\n          ]\n        },\n        result.id\n      )) }) : /* @__PURE__ */ jsxs(\"div\", { className: \"search-no-results\", children: [\n        /* @__PURE__ */ jsx(\"h3\", { children: \"Không tìm thấy kết quả\" }),\n        /* @__PURE__ */ jsx(\"p\", { children: \"Chúng tôi không thể tìm thấy kết quả nào cho tìm kiếm của bạn. Vui lòng thử từ khóa khác.\" })\n      ] })\n    ] }) });\n  };\n  useEffect(() => {\n    const handleMobileMenuShow = () => {\n      setShowMobileMenu(true);\n    };\n    const handleMobileMenuHide = () => {\n      setShowMobileMenu(false);\n    };\n    const mobileMenuOverlay = document.querySelector(\".mobile-menu-overlay\");\n    if (mobileMenuOverlay) {\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (mutation.type === \"attributes\" && mutation.attributeName === \"class\") {\n            if (mobileMenuOverlay.classList.contains(\"show\")) {\n              handleMobileMenuShow();\n            } else {\n              handleMobileMenuHide();\n            }\n          }\n        });\n      });\n      observer.observe(mobileMenuOverlay, {\n        attributes: true\n      });\n      return () => observer.disconnect();\n    }\n  }, []);\n  useEffect(() => {\n    const handleOpenNavDropdown = (event) => {\n      const dropdownType = event.detail.type;\n      setShowVisitDropdown(false);\n      setShowExhibitionsDropdown(false);\n      setShowExploreDropdown(false);\n      setShowSeeMoreDropdown(false);\n      setShowMobileMenu(false);\n      window.scrollTo(0, 0);\n      switch (dropdownType) {\n        case \"KHÁM PHÁ\":\n          setShowExploreDropdown(true);\n          break;\n        case \"Trải nghiệm\":\n          setShowVisitDropdown(true);\n          break;\n        default:\n          break;\n      }\n    };\n    window.addEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    return () => {\n      window.removeEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    };\n  }, []);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\"div\", { className: \"explore-button-container\", children: /* @__PURE__ */ jsx(\n      \"a\",\n      {\n        href: \"https://museedupin.netlify.app/\",\n        className: \"explore-button\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: /* @__PURE__ */ jsxs(\"p\", { children: [\n          /* @__PURE__ */ jsx(IoIosArrowBack, {}),\n          \"Cùng khám phá chúng tôi\"\n        ] })\n      }\n    ) }),\n    /* @__PURE__ */ jsxs(\"header\", { className: \"navbar-container\", children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"navbar-top\", children: [\n        /* @__PURE__ */ jsxs(\"div\", { className: \"left-section\", children: [\n          /* @__PURE__ */ jsxs(\n            \"div\",\n            {\n              className: \"search-container\",\n              onClick: () => setShowSearchBox(true),\n              children: [\n                /* @__PURE__ */ jsx(SearchIcon, {}),\n                /* @__PURE__ */ jsx(\"span\", { children: \"Tìm kiếm\" })\n              ]\n            }\n          ),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"language-dropdown\", ref: dropdownRef, children: [\n            /* @__PURE__ */ jsx(\n              \"div\",\n              {\n                className: \"selected-language\",\n                onClick: () => setShowLangDropdown(!showLangDropdown),\n                children: getCurrentLanguageName()\n              }\n            ),\n            showLangDropdown && /* @__PURE__ */ jsx(\"div\", { className: \"language-options\", children: /* @__PURE__ */ jsx(\"div\", { className: \"language-header\", children: \"Ngôn ngữ\" }) })\n          ] })\n        ] }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"logo-container\", children: /* @__PURE__ */ jsx(Link, { to: \"/\", children: /* @__PURE__ */ jsx(\n          \"img\",\n          {\n            className: \"logo\",\n            src: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\",\n            alt: \"Museum Logo\",\n            loading: \"lazy\"\n          }\n        ) }) }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"desktop-right-section\", children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"buttons-container\", children: [\n            /* @__PURE__ */ jsx(\n              Link,\n              {\n                to: \"https://online-museeduphin.netlify.app/\",\n                className: \"btn btn-outline\",\n                children: /* @__PURE__ */ jsx(BoutiqueIcon, {})\n              }\n            ),\n            /* @__PURE__ */ jsx(UserButton, {}),\n            /* @__PURE__ */ jsxs(Link, { to: \"/cart\", className: \"btn btn-outline cart-btn\", children: [\n              /* @__PURE__ */ jsx(RiShoppingBag4Fill, { size: 16 }),\n              cartItemCount > 0 && /* @__PURE__ */ jsx(\"span\", { className: \"cart-count\", children: cartItemCount })\n            ] }),\n            /* @__PURE__ */ jsx(\n              Link,\n              {\n                to: \"https://online-museeduphin.netlify.app/\",\n                className: \"btn btn-filled\",\n                children: /* @__PURE__ */ jsx(TicketIcon, {})\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsx(\n            \"div\",\n            {\n              className: \"menu-toggle\",\n              onClick: () => setShowSearchBox(!showSearchBox),\n              children: /* @__PURE__ */ jsx(MenuIcon, {})\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-logo\", children: [\n          /* @__PURE__ */ jsx(\"div\", { onClick: () => setShowMobileMenu(true), children: /* @__PURE__ */ jsx(\n            \"img\",\n            {\n              src: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\",\n              alt: \"Musée Du Pin Logo\",\n              className: \"mobile-logo-image\",\n              loading: \"lazy\"\n            }\n          ) }),\n          /* @__PURE__ */ jsx(\"a\", { href: \"/\", children: /* @__PURE__ */ jsx(\"span\", { className: \"museum-name-mobile\", children: \"Musée Du Pin\" }) })\n        ] }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"right-section\", children: [\n          /* @__PURE__ */ jsx(UserButton, {}),\n          /* @__PURE__ */ jsxs(Link, { to: \"/cart\", className: \"btn btn-outline cart-btn\", children: [\n            /* @__PURE__ */ jsx(RiShoppingBag4Fill, { size: 16 }),\n            cartItemCount > 0 && /* @__PURE__ */ jsx(\"span\", { className: \"cart-count\", children: cartItemCount })\n          ] }),\n          /* @__PURE__ */ jsx(\n            Link,\n            {\n              to: \"https://online-museeduphin.netlify.app/\",\n              className: \"btn btn-outline\",\n              children: /* @__PURE__ */ jsx(TicketIcon, {})\n            }\n          )\n        ] })\n      ] }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"divider\" }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"navbar-bottom\", children: /* @__PURE__ */ jsx(\"nav\", { className: \"main-nav\", children: /* @__PURE__ */ jsx(\"ul\", { children: /* @__PURE__ */ jsx(\n        \"li\",\n        {\n          className: \"nav-item\",\n          ref: (el) => {\n            navItemsRef.current[0] = el;\n            visitRef.current = el;\n          },\n          children: /* @__PURE__ */ jsxs(\n            Link,\n            {\n              to: \"/danh-muc\",\n              onClick: (e) => {\n                e.preventDefault();\n                openMobileSubmenu(\"DANH MỤC\");\n              },\n              children: [\n                \"DANH MỤC\",\n                /* @__PURE__ */ jsx(\"div\", { className: \"underline\" })\n              ]\n            }\n          )\n        }\n      ) }) }) }),\n      showSearchBox && /* @__PURE__ */ jsx(\"div\", { className: \"search-below-navbar\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"search-box-container\", children: [\n        /* @__PURE__ */ jsxs(\"div\", { className: \"search-box-inner\", children: [\n          /* @__PURE__ */ jsxs(\n            \"div\",\n            {\n              className: `search-input-wrapper ${isFocused || searchTerm ? \"has-value\" : \"\"}`,\n              children: [\n                /* @__PURE__ */ jsx(SearchIcon, {}),\n                /* @__PURE__ */ jsx(\"div\", { className: \"search-input-label\", children: \"Tìm kiếm\" }),\n                /* @__PURE__ */ jsx(\n                  \"input\",\n                  {\n                    type: \"text\",\n                    placeholder: isFocused ? \"\" : \"Tìm kiếm\",\n                    value: searchTerm,\n                    onChange: handleSearchInputChange,\n                    onFocus: () => setIsFocused(true),\n                    onBlur: () => setIsFocused(false),\n                    ref: searchInputRef,\n                    className: \"search-input\"\n                  }\n                )\n              ]\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            \"button\",\n            {\n              type: \"button\",\n              className: `search-submit-button ${searchTerm.trim() ? \"active\" : \"\"}`,\n              onClick: handleSearch,\n              \"aria-label\": \"Submit search\",\n              disabled: !searchTerm.trim(),\n              children: /* @__PURE__ */ jsx(ArrowRightIcon, {})\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            type: \"button\",\n            className: \"search-close-button\",\n            onClick: () => {\n              setShowSearchBox(false);\n            },\n            \"aria-label\": \"Close search\",\n            children: /* @__PURE__ */ jsx(CloseIcon, {})\n          }\n        ),\n        renderSearchResults()\n      ] }) }),\n      /* @__PURE__ */ jsxs(\"div\", { className: `mobile-menu-overlay ${showMobileMenu ? \"show\" : \"\"}`, children: [\n        /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-menu-header\", children: [\n          /* @__PURE__ */ jsx(\n            \"button\",\n            {\n              className: \"mobile-close-button\",\n              onClick: () => setShowMobileMenu(false),\n              \"aria-label\": \"Close menu\",\n              children: /* @__PURE__ */ jsx(CloseIcon, {})\n            }\n          ),\n          /* @__PURE__ */ jsxs(\n            \"div\",\n            {\n              className: \"mobile-lang-selector\",\n              onClick: () => setShowMobileLangDropdown(!showMobileLangDropdown),\n              ref: mobileLangDropdownRef,\n              children: [\n                getCurrentLanguageName(),\n                showMobileLangDropdown ? /* @__PURE__ */ jsx(ChevronUp, {}) : /* @__PURE__ */ jsx(ChevronDown, {}),\n                showMobileLangDropdown && /* @__PURE__ */ jsx(\"div\", { className: \"mobile-language-options\", children: supportedLanguages.map((lang) => /* @__PURE__ */ jsx(\n                  \"div\",\n                  {\n                    className: `mobile-language-option ${currentLanguage === lang.code ? \"active\" : \"\"}`,\n                    onClick: (e) => {\n                      e.stopPropagation();\n                      handleLanguageChange(lang.code);\n                    },\n                    children: lang.name\n                  },\n                  lang.code\n                )) })\n              ]\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-search\", children: [\n          /* @__PURE__ */ jsx(\"form\", { onSubmit: handleMobileSearch, children: /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-search-input\", children: [\n            /* @__PURE__ */ jsx(\n              \"input\",\n              {\n                type: \"text\",\n                placeholder: \"Tìm kiếm\",\n                value: mobileSearchTerm,\n                onChange: handleMobileSearchInputChange\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              \"button\",\n              {\n                type: \"submit\",\n                className: \"mobile-search-button\",\n                disabled: !mobileSearchTerm.trim(),\n                children: /* @__PURE__ */ jsx(ArrowRightIcon, {})\n              }\n            )\n          ] }) }),\n          renderSearchResults()\n        ] }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"mobile-nav-links\", children: /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            className: \"mobile-nav-item\",\n            onClick: () => openMobileSubmenu(\"DANH MỤC\"),\n            children: [\n              \"DANH MỤC\",\n              /* @__PURE__ */ jsx(ChevronRight, {})\n            ]\n          }\n        ) }),\n        /* @__PURE__ */ jsx(\"div\", { className: \"mobile-nav-divider\" }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-secondary-links\", children: [\n          /* @__PURE__ */ jsx(\n            \"div\",\n            {\n              className: \"mobile-secondary-item\",\n              onClick: () => handleNavItemClick(\"https://online-museeduphin.netlify.app/\"),\n              children: \"Đặt vé trực tuyến\"\n            }\n          ),\n          /* @__PURE__ */ jsx(\"div\", { className: \"mobile-secondary-item\", children: /* @__PURE__ */ jsx(\"a\", { href: \"https://museedupin.netlify.app/support\", target: \"_blank\", children: \"Hỗ trợ Musée Du Pin\" }) })\n        ] }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-social-icons\", children: [\n          /* @__PURE__ */ jsx(\n            \"a\",\n            {\n              href: \"https://www.facebook.com/BaoTangThongDalat\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"social-icon\",\n              \"aria-label\": \"Facebook\",\n              onClick: () => setShowMobileMenu(false),\n              children: /* @__PURE__ */ jsx(FacebookIcon, {})\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            \"a\",\n            {\n              href: \"https://www.tiktok.com/@baotangthongdalat?_t=ZS-8wcfw9TGrnm&_r=1\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"social-icon\",\n              \"aria-label\": \"TikTok\",\n              onClick: () => setShowMobileMenu(false),\n              children: /* @__PURE__ */ jsx(TikTokIcon, {})\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            \"a\",\n            {\n              href: \"https://www.youtube.com/channel/UCyxLbhgBPZ3KnGD_KeLCo9A\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"social-icon\",\n              \"aria-label\": \"YouTube\",\n              onClick: () => setShowMobileMenu(false),\n              children: /* @__PURE__ */ jsx(YoutubeIcon, {})\n            }\n          )\n        ] })\n      ] }),\n      showMobileSubmenu && /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: `mobile-submenu ${showMobileSubmenu ? \"show\" : \"hide\"}`,\n          ref: mobileSubmenuRef,\n          children: [\n            /* @__PURE__ */ jsxs(\"div\", { className: \"submenu-header\", children: [\n              /* @__PURE__ */ jsxs(\n                \"button\",\n                {\n                  className: \"back-buttonss\",\n                  onClick: closeMobileSubmenu,\n                  \"aria-label\": \"Back to main menu\",\n                  children: [\n                    /* @__PURE__ */ jsx(\n                      \"svg\",\n                      {\n                        width: \"24\",\n                        height: \"24\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        children: /* @__PURE__ */ jsx(\"path\", { d: \"M15 18l-6-6 6-6\" })\n                      }\n                    ),\n                    \"Quay lại\"\n                  ]\n                }\n              ),\n              /* @__PURE__ */ jsx(\"h2\", { className: \"submenu-title\", children: currentMobileSubmenu })\n            ] }),\n            /* @__PURE__ */ jsx(\"div\", { className: \"submenu-items\", children: submenuItems.map((item, index) => /* @__PURE__ */ jsxs(\n              Link,\n              {\n                to: item.path,\n                className: \"submenu-item\",\n                onClick: () => {\n                  setShowMobileSubmenu(false);\n                  setShowMobileMenu(false);\n                },\n                children: [\n                  item.title,\n                  /* @__PURE__ */ jsx(ChevronRight, {})\n                ]\n              },\n              index\n            )) })\n          ]\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        LoginModal,\n        {\n          isOpen: showLoginModal,\n          onClose: () => setShowLoginModal(false)\n        }\n      )\n    ] })\n  ] });\n};\nexport default Navbar;\n",
      "start": 1749894710845,
      "end": 1749894711120,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "C:/Users/.Freelancer/ONLINE/src/components/Navbar/Navbar.jsx"
        ],
        "sourcesContent": [
          "import gsap from \"gsap\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  FaArrowRight,\r\n  FaBars,\r\n  FaChevronDown,\r\n  FaChevronRight,\r\n  FaChevronUp,\r\n  FaFacebook,\r\n  FaGift,\r\n  FaInstagram,\r\n  FaSearch,\r\n  FaShoppingBag,\r\n  FaTicketAlt,\r\n  FaTimes,\r\n  FaUser,\r\n  FaYoutube,\r\n} from \"react-icons/fa\";\r\nimport { RiShoppingBag4Fill } from \"react-icons/ri\";\r\nimport { SiTiktok } from \"react-icons/si\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport LoginModal from \"../Auth/LoginModal\";\r\nimport \"./Navbar.css\";\r\n\r\nimport { IoIosArrowBack } from \"react-icons/io\";\r\n\r\n// Icon components using react-icons\r\nconst SearchIcon = () => <FaSearch size={16} />;\r\nconst ChevronDown = () => <FaChevronDown size={14} />;\r\nconst ChevronRight = () => <FaChevronRight size={16} />;\r\nconst MenuIcon = () => (\r\n  <div className=\"menu-icon\">\r\n    <div className=\"line\"></div>\r\n    <div className=\"line\"></div>\r\n    <div className=\"line\"></div>\r\n  </div>\r\n);\r\nconst HamburgerIcon = () => <FaBars size={24} />;\r\nconst ArrowRightIcon = () => <FaArrowRight size={20} />;\r\nconst CloseIcon = () => <FaTimes size={24} />;\r\nconst BoutiqueIcon = () => <FaShoppingBag className=\"btn-icon\" />;\r\nconst TicketIcon = () => <FaTicketAlt className=\"btn-icon\" />;\r\nconst CloseDropdownIcon = () => <FaTimes size={24} />;\r\nconst PatronIcon = () => <FaGift size={24} />;\r\n\r\n// Social media icons\r\nconst FacebookIcon = () => <FaFacebook size={18} />;\r\nconst InstagramIcon = () => <FaInstagram size={18} />;\r\nconst TikTokIcon = () => <SiTiktok size={18} />;\r\nconst YoutubeIcon = () => <FaYoutube size={18} />;\r\nconst ChevronUp = () => <FaChevronUp size={14} />;\r\n\r\n// Comprehensive search data - scans all content in the project\r\nconst searchData = [\r\n  // Visit page sections\r\n  {\r\n    id: 1,\r\n    title: \"Giờ mở cửa & vé vào cửa\",\r\n    description: \"Thông tin về giờ mở cửa và vé vào cửa bảo tàng\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visit#hours\",\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"Giá vé\",\r\n    description: \"Thông tin về giá vé và các loại vé\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visit#tickets\",\r\n  },\r\n  {\r\n    id: 3,\r\n    title: \"Thành viên\",\r\n    description: \"Thông tin về chương trình thành viên và đặc quyền\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visit#membership\",\r\n  },\r\n  {\r\n    id: 4,\r\n    title: \"Nội quy tham quan\",\r\n    description: \"Quy định và nội quy khi tham quan bảo tàng\",\r\n    category: \"Trải nghiệm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\r\n    path: \"/visitor-rules\",\r\n  },\r\n\r\n  // Exhibitions sections\r\n  {\r\n    id: 5,\r\n    title: \"Triển lãm\",\r\n    description: \"Các triển lãm hiện tại và sắp tới\",\r\n    category: \"Triển lãm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\r\n    path: \"/exhibitions\",\r\n  },\r\n  {\r\n    id: 6,\r\n    title: \"Trải nghiệm có hướng dẫn\",\r\n    description: \"Các tour tham quan có hướng dẫn viên\",\r\n    category: \"Triển lãm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\r\n    path: \"/exhibitions?tab=guided-tours\",\r\n  },\r\n\r\n  // Explore sections\r\n  {\r\n    id: 7,\r\n    title: \"Bộ sưu tập\",\r\n    description: \"Khám phá bộ sưu tập nghệ thuật của bảo tàng\",\r\n    category: \"Khám phá\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/collection\",\r\n  },\r\n  {\r\n    id: 8,\r\n    title: \"Lộ trình tham quan\",\r\n    description: \"Các lộ trình tham quan được đề xuất\",\r\n    category: \"Khám phá\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visitor-trails\",\r\n  },\r\n  {\r\n    id: 9,\r\n    title: \"Vườn\",\r\n    description: \"Khám phá khu vườn của bảo tàng\",\r\n    category: \"Khám phá\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\r\n    path: \"/the-gardens\",\r\n  },\r\n\r\n  // Support sections\r\n  {\r\n    id: 10,\r\n    title: \"Hỗ trợ khách tham quan\",\r\n    description: \"Thông tin hỗ trợ và hướng dẫn cho khách tham quan\",\r\n    category: \"Hỗ trợ\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/support\",\r\n  },\r\n  {\r\n    id: 11,\r\n    title: \"FAQ\",\r\n    description: \"Câu hỏi thường gặp và giải đáp\",\r\n    category: \"Hỗ trợ\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#faq\",\r\n  },\r\n  {\r\n    id: 12,\r\n    title: \"Trở thành Nhà bảo trợ\",\r\n    description: \"Thông tin về chương trình bảo trợ bảo tàng\",\r\n    category: \"Hỗ trợ\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/support#patron\",\r\n  },\r\n\r\n  // Shop sections\r\n  {\r\n    id: 13,\r\n    title: \"Cửa hàng trực tuyến\",\r\n    description: \"Mua sắm các sản phẩm lưu niệm từ bảo tàng\",\r\n    category: \"Mua sắm\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"https://online-museeduphin.netlify.app/\",\r\n  },\r\n\r\n  // Add room search data\r\n  {\r\n    id: \"room-traditional\",\r\n    title: \"The ChildHood\",\r\n    description:\r\n      \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-modern\",\r\n    title: \"White Bauhunia\",\r\n    description:\r\n      \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-luxury\",\r\n    title: \"The chill 1\",\r\n    description:\r\n      \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget1\",\r\n    title: \"The Chill 2\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget2\",\r\n    title: \"The Memory\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget3\",\r\n    title: \"The Sunset\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n  {\r\n    id: \"room-budget4\",\r\n    title: \"The Train\",\r\n    description:\r\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\r\n    category: \"Lưu trú\",\r\n    image:\r\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\r\n    path: \"/visit-info#homestay\",\r\n  },\r\n];\r\n\r\nconst Navbar = () => {\r\n  const [currentLanguage, setCurrentLanguage] = useState(\"vi\");\r\n  const [showLangDropdown, setShowLangDropdown] = useState(false);\r\n  const [showMobileLangDropdown, setShowMobileLangDropdown] = useState(false);\r\n  const [showSearchBox, setShowSearchBox] = useState(false);\r\n  const [showSeeMoreDropdown, setShowSeeMoreDropdown] = useState(false);\r\n  const [showVisitDropdown, setShowVisitDropdown] = useState(false);\r\n  const [showExhibitionsDropdown, setShowExhibitionsDropdown] = useState(false);\r\n  const [showExploreDropdown, setShowExploreDropdown] = useState(false);\r\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [mobileSearchTerm, setMobileSearchTerm] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [showSearchResults, setShowSearchResults] = useState(false);\r\n  const [showLoginModal, setShowLoginModal] = useState(false);\r\n  const [showUserDropdown, setShowUserDropdown] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [cartItemCount, setCartItemCount] = useState(0);\r\n\r\n  // Mobile submenu states - Enable these features\r\n  const [showMobileSubmenu, setShowMobileSubmenu] = useState(false);\r\n  const [currentMobileSubmenu, setCurrentMobileSubmenu] = useState(\"\");\r\n  const [submenuItems, setSubmenuItems] = useState([]);\r\n  const [submenuFeatured, setSubmenuFeatured] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n  const navItemsRef = useRef([]);\r\n  const dropdownRef = useRef(null);\r\n  const mobileLangDropdownRef = useRef(null);\r\n  const seeMoreRef = useRef(null);\r\n  const visitRef = useRef(null);\r\n  const searchInputRef = useRef(null);\r\n  const mobileSubmenuRef = useRef(null);\r\n  const searchResultsRef = useRef(null);\r\n  const userDropdownRef = useRef(null);\r\n\r\n  // Add supported languages\r\n  const supportedLanguages = [\r\n    { code: \"vi\", name: \"Tiếng Việt\" },\r\n    { code: \"en\", name: \"English\" },\r\n  ];\r\n\r\n  // Get current language name\r\n  const getCurrentLanguageName = () => {\r\n    const lang = supportedLanguages.find((l) => l.code === currentLanguage);\r\n    return lang ? lang.name : \"Tiếng Việt\";\r\n  };\r\n\r\n  // Handle language change\r\n  const handleLanguageChange = (langCode) => {\r\n    setCurrentLanguage(langCode);\r\n    setShowMobileLangDropdown(false);\r\n    setShowLangDropdown(false);\r\n  };\r\n\r\n  // Handle search functionality\r\n  const handleSearchInputChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchTerm(value);\r\n\r\n    if (value.trim().length > 1) {\r\n      performSearch(value);\r\n    } else {\r\n      setSearchResults([]);\r\n      setShowSearchResults(false);\r\n    }\r\n  };\r\n\r\n  // Mobile search input change handler\r\n  const handleMobileSearchInputChange = (e) => {\r\n    const value = e.target.value;\r\n    setMobileSearchTerm(value);\r\n\r\n    if (value.trim().length > 1) {\r\n      performSearch(value);\r\n    } else {\r\n      setSearchResults([]);\r\n      setShowSearchResults(false);\r\n    }\r\n  };\r\n\r\n  // Enhanced search to scan all content\r\n  const performSearch = (query) => {\r\n    setIsSearching(true);\r\n    setShowSearchResults(true);\r\n\r\n    // Search in real-time without delay\r\n    const results = searchData.filter((item) => {\r\n      const searchTermLower = query.toLowerCase();\r\n      const titleMatch = item.title.toLowerCase().includes(searchTermLower);\r\n      const descriptionMatch = item.description\r\n        .toLowerCase()\r\n        .includes(searchTermLower);\r\n      const categoryMatch = item.category\r\n        .toLowerCase()\r\n        .includes(searchTermLower);\r\n\r\n      return titleMatch || descriptionMatch || categoryMatch;\r\n    });\r\n\r\n    // Sort results with exact title matches first\r\n    results.sort((a, b) => {\r\n      const aExactMatch = a.title.toLowerCase() === query.toLowerCase();\r\n      const bExactMatch = b.title.toLowerCase() === query.toLowerCase();\r\n\r\n      if (aExactMatch && !bExactMatch) return -1;\r\n      if (!aExactMatch && bExactMatch) return 1;\r\n\r\n      // Sort by category as secondary criteria\r\n      return a.category.localeCompare(b.category);\r\n    });\r\n\r\n    setSearchResults(results);\r\n    setIsSearching(false);\r\n  };\r\n\r\n  // Improved search result navigation with hash-based routing\r\n  const handleSearchResultClick = (path) => {\r\n    setShowSearchBox(false);\r\n    setShowSearchResults(false);\r\n    setSearchTerm(\"\");\r\n    setMobileSearchTerm(\"\");\r\n    setShowMobileMenu(false); // Close mobile menu\r\n\r\n    // Handle external links\r\n    if (path.startsWith(\"http\")) {\r\n      window.open(path, \"_blank\");\r\n      return;\r\n    }\r\n\r\n    // Handle internal navigation with hash fragments\r\n    if (path.includes(\"#\")) {\r\n      const [pagePath, sectionId] = path.split(\"#\");\r\n\r\n      // If we're already on the correct page, just scroll to the section\r\n      if (\r\n        window.location.pathname === pagePath ||\r\n        (pagePath === \"/\" && window.location.pathname === \"\")\r\n      ) {\r\n        setTimeout(() => {\r\n          const element = document.getElementById(sectionId);\r\n          if (element) {\r\n            element.scrollIntoView({ behavior: \"smooth\" });\r\n          }\r\n        }, 100);\r\n      } else {\r\n        // Navigate to the page, then scroll to section\r\n        navigate(path);\r\n      }\r\n    } else {\r\n      // Regular page navigation without hash\r\n      navigate(path);\r\n    }\r\n  };\r\n\r\n  // Handle click outside search results\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      // We're removing this condition so clicking outside won't close the search results\r\n      // Only the X button will close it now\r\n\r\n      // Keep the search input click handler to allow focus/interactions\r\n      if (\r\n        searchInputRef.current &&\r\n        searchInputRef.current.contains(event.target)\r\n      ) {\r\n        // Allow clicks on the search input\r\n        return;\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // Thêm hàm xử lý khi nhấp vào liên kết trong mobile menu\r\n  const handleNavItemClick = (path) => {\r\n    setShowMobileMenu(false);\r\n    navigate(path);\r\n  };\r\n\r\n  // Hàm để mở mobile submenu\r\n  const openMobileSubmenu = (menuType) => {\r\n    setCurrentMobileSubmenu(menuType);\r\n\r\n    let items = [];\r\n    let featured = null;\r\n\r\n    // Thiết lập các mục cho từng loại submenu\r\n    switch (menuType) {\r\n      case \"DANH MỤC\":\r\n        items = [\r\n          { title: \"Xuất bản\", path: \"/category/xuat-ban\" },\r\n          { title: \"Hội thảo nghệ thuật\", path: \"/category/hoi-thao-nghe-thuat\" },\r\n          { title: \"In theo yêu cầu\", path: \"/category/in-theo-yeu-cau\" },\r\n          {\r\n            title: \"Hình ảnh và văn phòng phẩm\",\r\n            path: \"/category/hinh-anh-va-van-phong-pham\",\r\n          },\r\n          { title: \"Thời trang và phụ kiện\", path: \"/category/thoi-trang-va-phu-kien\" },\r\n          { title: \"Đồ trang sức\", path: \"/category/do-trang-suc\" },\r\n          { title: \"Đồ gia dụng\", path: \"/category/do-gia-dung\" },\r\n          { title: \"Trẻ em\", path: \"/category/tre-em\" },\r\n        ];\r\n        featured = {\r\n          title: \"Khám phá cửa hàng trực tuyến\",\r\n          path: \"https://online-museeduphin.netlify.app/\",\r\n          image:\r\n            \"https://boutique.louvre.fr/files/contents/400000/688652-8a3893ca-m/editions.jpg\",\r\n          description: \"Khám phá bộ sưu tập độc đáo của chúng tôi\",\r\n        };\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setSubmenuItems(items);\r\n    setSubmenuFeatured(featured);\r\n    setShowMobileSubmenu(true);\r\n\r\n    // Tạo animation mượt mà\r\n    if (mobileSubmenuRef.current) {\r\n      mobileSubmenuRef.current.classList.remove(\"hide\");\r\n      mobileSubmenuRef.current.classList.add(\"show\");\r\n    }\r\n  };\r\n\r\n  // Hàm để đóng mobile submenu\r\n  const closeMobileSubmenu = () => {\r\n    if (mobileSubmenuRef.current) {\r\n      mobileSubmenuRef.current.classList.remove(\"show\");\r\n      mobileSubmenuRef.current.classList.add(\"hide\");\r\n\r\n      // Đợi animation hoàn thành trước khi ẩn submenu\r\n      setTimeout(() => {\r\n        setShowMobileSubmenu(false);\r\n      }, 300);\r\n    } else {\r\n      setShowMobileSubmenu(false);\r\n    }\r\n  };\r\n\r\n  // Hiệu ứng hover cho các menu items\r\n  useEffect(() => {\r\n    navItemsRef.current.forEach((item) => {\r\n      if (!item) return;\r\n\r\n      const link = item.querySelector(\"a\");\r\n      const underline = item.querySelector(\".underline\");\r\n\r\n      if (!link || !underline) return;\r\n\r\n      const tl = gsap.timeline({ paused: true });\r\n\r\n      // Hiệu ứng underline ngắn chạy từ trong ra ngoài\r\n      tl.fromTo(\r\n        underline,\r\n        {\r\n          width: \"0%\",\r\n        },\r\n        {\r\n          width: \"30%\",\r\n          duration: 0.3,\r\n          ease: \"power2.out\",\r\n        }\r\n      );\r\n\r\n      link.addEventListener(\"mouseenter\", () => tl.play());\r\n      link.addEventListener(\"mouseleave\", () => tl.reverse());\r\n\r\n      return () => {\r\n        link.removeEventListener(\"mouseenter\", () => tl.play());\r\n        link.removeEventListener(\"mouseleave\", () => tl.reverse());\r\n      };\r\n    });\r\n\r\n    // Hiệu ứng cho See More\r\n    if (seeMoreRef.current) {\r\n      const underline = seeMoreRef.current.querySelector(\".underline\");\r\n\r\n      if (underline) {\r\n        const tl = gsap.timeline({ paused: true });\r\n\r\n        tl.fromTo(\r\n          underline,\r\n          {\r\n            width: \"0%\",\r\n          },\r\n          {\r\n            width: \"100%\",\r\n            duration: 0.3,\r\n            ease: \"power2.out\",\r\n          }\r\n        );\r\n\r\n        seeMoreRef.current.addEventListener(\"mouseenter\", () => tl.play());\r\n        seeMoreRef.current.addEventListener(\"mouseleave\", () => {\r\n          if (!showSeeMoreDropdown) {\r\n            tl.reverse();\r\n          }\r\n        });\r\n\r\n        return () => {\r\n          seeMoreRef.current?.removeEventListener(\"mouseenter\", () =>\r\n            tl.play()\r\n          );\r\n          seeMoreRef.current?.removeEventListener(\"mouseleave\", () =>\r\n            tl.reverse()\r\n          );\r\n        };\r\n      }\r\n    }\r\n  }, [showSeeMoreDropdown]);\r\n\r\n  // Focus input khi search box hiển thị\r\n  useEffect(() => {\r\n    if (showSearchBox && searchInputRef.current) {\r\n      searchInputRef.current.focus();\r\n    }\r\n  }, [showSearchBox]);\r\n\r\n  // Xử lý click bên ngoài để đóng dropdown\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      // Only close language dropdowns when clicking outside\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setShowLangDropdown(false);\r\n      }\r\n      if (\r\n        mobileLangDropdownRef.current &&\r\n        !mobileLangDropdownRef.current.contains(event.target)\r\n      ) {\r\n        setShowMobileLangDropdown(false);\r\n      }\r\n\r\n      // Don't automatically close dropdowns when clicking inside them\r\n      // We'll only close them via the X button or Escape key\r\n      // This is specifically for Visit, Exhibitions, and Explore dropdowns\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // Disable scroll khi hiển thị dropdown\r\n  useEffect(() => {\r\n    if (\r\n      showSeeMoreDropdown ||\r\n      showMobileMenu ||\r\n      showVisitDropdown ||\r\n      showExhibitionsDropdown ||\r\n      showExploreDropdown\r\n    ) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"\";\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = \"\";\r\n    };\r\n  }, [\r\n    showSeeMoreDropdown,\r\n    showMobileMenu,\r\n    showVisitDropdown,\r\n    showExhibitionsDropdown,\r\n    showExploreDropdown,\r\n  ]);\r\n\r\n  // Xử lý tìm kiếm\r\n  const handleSearch = (e) => {\r\n    if (e) e.preventDefault();\r\n    if (!searchTerm.trim()) return; // Không thực hiện tìm kiếm nếu input trống\r\n\r\n    performSearch(searchTerm);\r\n  };\r\n\r\n  // Xử lý tìm kiếm từ mobile menu\r\n  const handleMobileSearch = (e) => {\r\n    if (e) e.preventDefault();\r\n    if (!mobileSearchTerm.trim()) return;\r\n\r\n    performSearch(mobileSearchTerm);\r\n  };\r\n\r\n  // Tắt search box khi nhấn phím Escape\r\n  useEffect(() => {\r\n    const handleEscKey = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        if (showSearchBox) {\r\n          setShowSearchBox(false);\r\n        }\r\n        if (showSeeMoreDropdown) {\r\n          setShowSeeMoreDropdown(false);\r\n        }\r\n        if (showMobileMenu) {\r\n          setShowMobileMenu(false);\r\n        }\r\n        if (showVisitDropdown) {\r\n          setShowVisitDropdown(false);\r\n        }\r\n        if (showExhibitionsDropdown) {\r\n          setShowExhibitionsDropdown(false);\r\n        }\r\n        if (showExploreDropdown) {\r\n          setShowExploreDropdown(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscKey);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscKey);\r\n    };\r\n  }, [\r\n    showSearchBox,\r\n    showSeeMoreDropdown,\r\n    showMobileMenu,\r\n    showVisitDropdown,\r\n    showExhibitionsDropdown,\r\n    showExploreDropdown,\r\n  ]);\r\n\r\n  // Load user data on component mount\r\n  useEffect(() => {\r\n    const userData = localStorage.getItem(\"user\");\r\n    if (userData) {\r\n      setCurrentUser(JSON.parse(userData));\r\n    }\r\n  }, []);\r\n\r\n  // Handle logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"rememberMe\");\r\n    setCurrentUser(null);\r\n    setShowUserDropdown(false);\r\n    window.location.reload();\r\n  };\r\n\r\n  // Close user dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (\r\n        userDropdownRef.current &&\r\n        !userDropdownRef.current.contains(event.target)\r\n      ) {\r\n        setShowUserDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // User button component\r\n  const UserButton = () => {\r\n    if (currentUser) {\r\n      return (\r\n        <div className=\"user-dropdown\" ref={userDropdownRef}>\r\n          <button\r\n            className=\"btn btn-outline user-btn\"\r\n            onClick={() => setShowUserDropdown(!showUserDropdown)}\r\n          >\r\n            <FaUser size={16} />\r\n          </button>\r\n          {showUserDropdown && (\r\n            <div className=\"user-dropdown-menu\">\r\n              <div className=\"user-info\">\r\n                <FaUser size={24} className=\"user-icon\" />\r\n                <div className=\"user-details\">\r\n                  <span className=\"user-name\">{currentUser.fullName}</span>\r\n                  <span className=\"user-email\">{currentUser.email}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <button className=\"logout-button\" onClick={handleLogout}>\r\n                Đăng xuất\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-outline\"\r\n        onClick={() => setShowLoginModal(true)}\r\n      >\r\n        <FaUser size={16} />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  // Load cart count\r\n  useEffect(() => {\r\n    const updateCartCount = () => {\r\n      const savedCart = localStorage.getItem(\"cart\");\r\n      if (savedCart) {\r\n        const cartItems = JSON.parse(savedCart);\r\n        const count = cartItems.reduce(\r\n          (total, item) => total + item.quantity,\r\n          0\r\n        );\r\n        setCartItemCount(count);\r\n      } else {\r\n        setCartItemCount(0);\r\n      }\r\n    };\r\n\r\n    // Update initial count\r\n    updateCartCount();\r\n\r\n    // Listen for storage changes\r\n    window.addEventListener(\"storage\", updateCartCount);\r\n\r\n    // Custom event for cart updates\r\n    window.addEventListener(\"cartUpdated\", updateCartCount);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", updateCartCount);\r\n      window.removeEventListener(\"cartUpdated\", updateCartCount);\r\n    };\r\n  }, []);\r\n\r\n  // Render search results\r\n  const renderSearchResults = () => {\r\n    if (!showSearchResults) return null;\r\n\r\n    return (\r\n      <div className=\"search-results-container\" ref={searchResultsRef}>\r\n        <div className=\"search-results-list\">\r\n          <div className=\"search-results-header\">\r\n            {isSearching ? (\r\n              <div className=\"search-loading\"></div>\r\n            ) : (\r\n              <div className=\"search-results-title\">\r\n                <div className=\"search-results-count\">\r\n                  {`${searchResults.length} kết quả tìm kiếm cho \"${\r\n                    searchTerm || mobileSearchTerm\r\n                  }\"`}\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"search-results-close-button\"\r\n                  onClick={() => setShowSearchResults(false)}\r\n                  aria-label=\"Đóng kết quả tìm kiếm\"\r\n                >\r\n                  <CloseIcon />\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {isSearching ? (\r\n            <div className=\"search-loading\"></div>\r\n          ) : searchResults.length > 0 ? (\r\n            <div className=\"search-results-items\">\r\n              {searchResults.map((result) => (\r\n                <div\r\n                  key={result.id}\r\n                  className={`search-result-item ${\r\n                    result.path.includes(\"#\") ? \"section-link\" : \"\"\r\n                  }`}\r\n                  onClick={() => handleSearchResultClick(result.path)}\r\n                >\r\n                  <img\r\n                    src={result.image}\r\n                    alt={result.title}\r\n                    loading=\"lazy\"\r\n                    className=\"search-result-image\"\r\n                  />\r\n                  <div className=\"search-result-content\">\r\n                    <h4 className=\"search-result-title\">{result.title}</h4>\r\n                    <p className=\"search-result-description\">\r\n                      {result.description}\r\n                    </p>\r\n                    <span className=\"search-result-category\">\r\n                      {result.category}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"search-no-results\">\r\n              <h3>Không tìm thấy kết quả</h3>\r\n              <p>\r\n                Chúng tôi không thể tìm thấy kết quả nào cho tìm kiếm của bạn.\r\n                Vui lòng thử từ khóa khác.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Add effect to handle external mobile menu triggers\r\n  useEffect(() => {\r\n    const handleMobileMenuShow = () => {\r\n      setShowMobileMenu(true);\r\n    };\r\n\r\n    const handleMobileMenuHide = () => {\r\n      setShowMobileMenu(false);\r\n    };\r\n\r\n    // Listen for mobile menu class changes\r\n    const mobileMenuOverlay = document.querySelector(\".mobile-menu-overlay\");\r\n    if (mobileMenuOverlay) {\r\n      const observer = new MutationObserver((mutations) => {\r\n        mutations.forEach((mutation) => {\r\n          if (\r\n            mutation.type === \"attributes\" &&\r\n            mutation.attributeName === \"class\"\r\n          ) {\r\n            if (mobileMenuOverlay.classList.contains(\"show\")) {\r\n              handleMobileMenuShow();\r\n            } else {\r\n              handleMobileMenuHide();\r\n            }\r\n          }\r\n        });\r\n      });\r\n\r\n      observer.observe(mobileMenuOverlay, {\r\n        attributes: true,\r\n      });\r\n\r\n      return () => observer.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  // Add event listener for opening dropdowns\r\n  useEffect(() => {\r\n    const handleOpenNavDropdown = (event) => {\r\n      const dropdownType = event.detail.type;\r\n\r\n      // Close all dropdowns first\r\n      setShowVisitDropdown(false);\r\n      setShowExhibitionsDropdown(false);\r\n      setShowExploreDropdown(false);\r\n      setShowSeeMoreDropdown(false);\r\n      setShowMobileMenu(false);\r\n\r\n      // Scroll to top\r\n      window.scrollTo(0, 0);\r\n\r\n      // Open the requested dropdown\r\n      switch (dropdownType) {\r\n        case \"KHÁM PHÁ\":\r\n          setShowExploreDropdown(true);\r\n          break;\r\n        case \"Trải nghiệm\":\r\n          setShowVisitDropdown(true);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"openNavDropdown\", handleOpenNavDropdown);\r\n    return () => {\r\n      window.removeEventListener(\"openNavDropdown\", handleOpenNavDropdown);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"explore-button-container\">\r\n        <a\r\n          href=\"https://museedupin.netlify.app/\"\r\n          className=\"explore-button\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <p>\r\n            <IoIosArrowBack />\r\n            Cùng khám phá chúng tôi\r\n          </p>\r\n        </a>\r\n      </div>\r\n      <header className=\"navbar-container\">\r\n        {/* Desktop Navbar */}\r\n        <div className=\"navbar-top\">\r\n          {/* Left section with search and language */}\r\n          <div className=\"left-section\">\r\n            <div\r\n              className=\"search-container\"\r\n              onClick={() => setShowSearchBox(true)}\r\n            >\r\n              <SearchIcon />\r\n              <span>Tìm kiếm</span>\r\n            </div>\r\n\r\n            <div className=\"language-dropdown\" ref={dropdownRef}>\r\n              <div\r\n                className=\"selected-language\"\r\n                onClick={() => setShowLangDropdown(!showLangDropdown)}\r\n              >\r\n                {getCurrentLanguageName()}\r\n              </div>\r\n\r\n              {showLangDropdown && (\r\n                <div className=\"language-options\">\r\n                  <div className=\"language-header\">Ngôn ngữ</div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Center section with logo */}\r\n          <div className=\"logo-container\">\r\n            <Link to=\"/\">\r\n              <img\r\n                className=\"logo\"\r\n                src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\r\n                alt=\"Museum Logo\"\r\n                loading=\"lazy\"\r\n              />\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Desktop Navbar - Right Section */}\r\n          <div className=\"desktop-right-section\">\r\n            <div className=\"buttons-container\">\r\n              <Link\r\n                to=\"https://online-museeduphin.netlify.app/\"\r\n                className=\"btn btn-outline\"\r\n              >\r\n                <BoutiqueIcon />\r\n              </Link>\r\n              <UserButton />\r\n              <Link to=\"/cart\" className=\"btn btn-outline cart-btn\">\r\n                <RiShoppingBag4Fill size={16} />\r\n                {cartItemCount > 0 && (\r\n                  <span className=\"cart-count\">{cartItemCount}</span>\r\n                )}\r\n              </Link>\r\n              <Link\r\n                to=\"https://online-museeduphin.netlify.app/\"\r\n                className=\"btn btn-filled\"\r\n              >\r\n                <TicketIcon />\r\n              </Link>\r\n            </div>\r\n\r\n            <div\r\n              className=\"menu-toggle\"\r\n              onClick={() => setShowSearchBox(!showSearchBox)}\r\n            >\r\n              <MenuIcon />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Mobile elements */}\r\n          <div className=\"mobile-logo\">\r\n            <div onClick={() => setShowMobileMenu(true)}>\r\n              <img\r\n                src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\r\n                alt=\"Musée Du Pin Logo\"\r\n                className=\"mobile-logo-image\"\r\n                loading=\"lazy\"\r\n              />\r\n            </div>\r\n            <a href=\"/\">\r\n              <span className=\"museum-name-mobile\">Musée Du Pin</span>\r\n            </a>\r\n          </div>\r\n\r\n          <div className=\"right-section\">\r\n            <UserButton />\r\n            <Link to=\"/cart\" className=\"btn btn-outline cart-btn\">\r\n              <RiShoppingBag4Fill size={16} />\r\n              {cartItemCount > 0 && (\r\n                <span className=\"cart-count\">{cartItemCount}</span>\r\n              )}\r\n            </Link>\r\n            <Link\r\n              to=\"https://online-museeduphin.netlify.app/\"\r\n              className=\"btn btn-outline\"\r\n            >\r\n              <TicketIcon />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"divider\"></div>\r\n\r\n        {/* Desktop Navbar Bottom Section */}\r\n        <div className=\"navbar-bottom\">\r\n          <nav className=\"main-nav\">\r\n            <ul>\r\n              <li\r\n                className=\"nav-item\"\r\n                ref={(el) => {\r\n                  navItemsRef.current[0] = el;\r\n                  visitRef.current = el;\r\n                }}\r\n              >\r\n                <Link\r\n                  to=\"/danh-muc\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    openMobileSubmenu(\"DANH MỤC\");\r\n                  }}\r\n                >\r\n                  DANH MỤC\r\n                  <div className=\"underline\"></div>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Search Box as Overlay */}\r\n        {showSearchBox && (\r\n          <div className=\"search-below-navbar\">\r\n            <div className=\"search-box-container\">\r\n              <div className=\"search-box-inner\">\r\n                <div\r\n                  className={`search-input-wrapper ${\r\n                    isFocused || searchTerm ? \"has-value\" : \"\"\r\n                  }`}\r\n                >\r\n                  <SearchIcon />\r\n                  <div className=\"search-input-label\">Tìm kiếm</div>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder={isFocused ? \"\" : \"Tìm kiếm\"}\r\n                    value={searchTerm}\r\n                    onChange={handleSearchInputChange}\r\n                    onFocus={() => setIsFocused(true)}\r\n                    onBlur={() => setIsFocused(false)}\r\n                    ref={searchInputRef}\r\n                    className=\"search-input\"\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className={`search-submit-button ${\r\n                    searchTerm.trim() ? \"active\" : \"\"\r\n                  }`}\r\n                  onClick={handleSearch}\r\n                  aria-label=\"Submit search\"\r\n                  disabled={!searchTerm.trim()}\r\n                >\r\n                  <ArrowRightIcon />\r\n                </button>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"search-close-button\"\r\n                onClick={() => {\r\n                  setShowSearchBox(false);\r\n                  // Don't close search results when closing the search box\r\n                  // Only the X in the search results should close them\r\n                }}\r\n                aria-label=\"Close search\"\r\n              >\r\n                <CloseIcon />\r\n              </button>\r\n              {/* Render search results */}\r\n              {renderSearchResults()}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Mobile Menu Overlay */}\r\n        <div className={`mobile-menu-overlay ${showMobileMenu ? \"show\" : \"\"}`}>\r\n          <div className=\"mobile-menu-header\">\r\n            <button\r\n              className=\"mobile-close-button\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n              aria-label=\"Close menu\"\r\n            >\r\n              <CloseIcon />\r\n            </button>\r\n            <div\r\n              className=\"mobile-lang-selector\"\r\n              onClick={() => setShowMobileLangDropdown(!showMobileLangDropdown)}\r\n              ref={mobileLangDropdownRef}\r\n            >\r\n              {getCurrentLanguageName()}\r\n              {showMobileLangDropdown ? <ChevronUp /> : <ChevronDown />}\r\n              {showMobileLangDropdown && (\r\n                <div className=\"mobile-language-options\">\r\n                  {supportedLanguages.map((lang) => (\r\n                    <div\r\n                      key={lang.code}\r\n                      className={`mobile-language-option ${\r\n                        currentLanguage === lang.code ? \"active\" : \"\"\r\n                      }`}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleLanguageChange(lang.code);\r\n                      }}\r\n                    >\r\n                      {lang.name}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mobile-search\">\r\n            <form onSubmit={handleMobileSearch}>\r\n              <div className=\"mobile-search-input\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Tìm kiếm\"\r\n                  value={mobileSearchTerm}\r\n                  onChange={handleMobileSearchInputChange}\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"mobile-search-button\"\r\n                  disabled={!mobileSearchTerm.trim()}\r\n                >\r\n                  <ArrowRightIcon />\r\n                </button>\r\n              </div>\r\n            </form>\r\n            {/* Render mobile search results */}\r\n            {renderSearchResults()}\r\n          </div>\r\n\r\n          <div className=\"mobile-nav-links\">\r\n            <div\r\n              className=\"mobile-nav-item\"\r\n              onClick={() => openMobileSubmenu(\"DANH MỤC\")}\r\n            >\r\n              DANH MỤC\r\n              <ChevronRight />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mobile-nav-divider\"></div>\r\n\r\n          <div className=\"mobile-secondary-links\">\r\n            <div\r\n              className=\"mobile-secondary-item\"\r\n              onClick={() =>\r\n                handleNavItemClick(\"https://online-museeduphin.netlify.app/\")\r\n              }\r\n            >\r\n              Đặt vé trực tuyến\r\n            </div>\r\n            <div className=\"mobile-secondary-item\">\r\n              <a href=\"https://museedupin.netlify.app/support\" target=\"_blank\">\r\n                Hỗ trợ Musée Du Pin\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mobile-social-icons\">\r\n            <a\r\n              href=\"https://www.facebook.com/BaoTangThongDalat\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"social-icon\"\r\n              aria-label=\"Facebook\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n            >\r\n              <FacebookIcon />\r\n            </a>\r\n            <a\r\n              href=\"https://www.tiktok.com/@baotangthongdalat?_t=ZS-8wcfw9TGrnm&_r=1\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"social-icon\"\r\n              aria-label=\"TikTok\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n            >\r\n              <TikTokIcon />\r\n            </a>\r\n            <a\r\n              href=\"https://www.youtube.com/channel/UCyxLbhgBPZ3KnGD_KeLCo9A\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"social-icon\"\r\n              aria-label=\"YouTube\"\r\n              onClick={() => setShowMobileMenu(false)}\r\n            >\r\n              <YoutubeIcon />\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Submenu */}\r\n        {showMobileSubmenu && (\r\n          <div\r\n            className={`mobile-submenu ${showMobileSubmenu ? \"show\" : \"hide\"}`}\r\n            ref={mobileSubmenuRef}\r\n          >\r\n            <div className=\"submenu-header\">\r\n              <button\r\n                className=\"back-buttonss\"\r\n                onClick={closeMobileSubmenu}\r\n                aria-label=\"Back to main menu\"\r\n              >\r\n                <svg\r\n                  width=\"24\"\r\n                  height=\"24\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <path d=\"M15 18l-6-6 6-6\" />\r\n                </svg>\r\n                Quay lại\r\n              </button>\r\n              <h2 className=\"submenu-title\">{currentMobileSubmenu}</h2>\r\n            </div>\r\n\r\n            <div className=\"submenu-items\">\r\n              {submenuItems.map((item, index) => (\r\n                <Link\r\n                  key={index}\r\n                  to={item.path}\r\n                  className=\"submenu-item\"\r\n                  onClick={() => {\r\n                    setShowMobileSubmenu(false);\r\n                    setShowMobileMenu(false);\r\n                  }}\r\n                >\r\n                  {item.title}\r\n                  <ChevronRight />\r\n                </Link>\r\n              ))}\r\n            </div>\r\n\r\n            {/* {submenuFeatured && (\r\n              <div className=\"submenu-featured\">\r\n                <Link\r\n                  to={submenuFeatured.path}\r\n                  className=\"featured-title\"\r\n                  onClick={() => {\r\n                    setShowMobileSubmenu(false);\r\n                    setShowMobileMenu(false);\r\n                  }}\r\n                >\r\n                  {submenuFeatured.title}\r\n                  <svg\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path d=\"M5 12h14\"></path>\r\n                    <path d=\"M12 5l7 7-7 7\"></path>\r\n                  </svg>\r\n                </Link>\r\n                <img\r\n                  src={submenuFeatured.image}\r\n                  alt={submenuFeatured.title}\r\n                  loading=\"lazy\"\r\n                  className=\"featured-image\"\r\n                />\r\n                <p className=\"featured-description\">\r\n                  {submenuFeatured.description}\r\n                </p>\r\n              </div>\r\n            )} */}\r\n          </div>\r\n        )}\r\n\r\n        {/* Login Modal */}\r\n        <LoginModal\r\n          isOpen={showLoginModal}\r\n          onClose={() => setShowLoginModal(false)}\r\n        />\r\n      </header>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"
        ],
        "mappings": "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",
        "names": []
      }
    },
    {
      "name": "vite:worker",
      "start": 1749894711121,
      "end": 1749894711121,
      "order": "normal-normal"
    },
    {
      "name": "vite:define",
      "start": 1749894711121,
      "end": 1749894711121,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-html",
      "start": 1749894711121,
      "end": 1749894711121,
      "order": "normal-normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1749894711121,
      "end": 1749894711121,
      "order": "normal-normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1749894711121,
      "end": 1749894711121,
      "order": "normal-normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1749894711121,
      "end": 1749894711121,
      "order": "normal-normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1749894711121,
      "end": 1749894711121,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1749894711121,
      "end": 1749894711122,
      "order": "normal-normal"
    },
    {
      "name": "vite:reporter",
      "start": 1749894711122,
      "end": 1749894711122,
      "order": "normal"
    }
  ]
}
