{
  "resolvedId": "C:/Users/.Freelancer/MUSSEEDUPIN/src/components/Navbar/Navbar.jsx",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import gsap from \"gsap\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  FaArrowRight,\n  FaBars,\n  FaChevronDown,\n  FaChevronRight,\n  FaChevronUp,\n  FaFacebook,\n  FaGift,\n  FaInstagram,\n  FaSearch,\n  FaShoppingBag,\n  FaTicketAlt,\n  FaTimes,\n  FaYoutube,\n} from \"react-icons/fa\";\nimport { SiTiktok } from \"react-icons/si\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"../../contexts/TranslationContext\";\nimport \"./Navbar.css\";\n\n// Icon components using react-icons\nconst SearchIcon = () => <FaSearch size={16} />;\nconst ChevronDown = () => <FaChevronDown size={14} />;\nconst ChevronRight = () => <FaChevronRight size={16} />;\nconst MenuIcon = () => (\n  <div className=\"menu-icon\">\n    <div className=\"line\"></div>\n    <div className=\"line\"></div>\n    <div className=\"line\"></div>\n  </div>\n);\nconst HamburgerIcon = () => <FaBars size={24} />;\nconst ArrowRightIcon = () => <FaArrowRight size={20} />;\nconst CloseIcon = () => <FaTimes size={24} />;\nconst BoutiqueIcon = () => <FaShoppingBag className=\"btn-icon\" />;\nconst TicketIcon = () => <FaTicketAlt className=\"btn-icon\" />;\nconst CloseDropdownIcon = () => <FaTimes size={24} />;\nconst PatronIcon = () => <FaGift size={24} />;\n\n// Social media icons\nconst FacebookIcon = () => <FaFacebook size={18} />;\nconst InstagramIcon = () => <FaInstagram size={18} />;\nconst TikTokIcon = () => <SiTiktok size={18} />;\nconst YoutubeIcon = () => <FaYoutube size={18} />;\nconst ChevronUp = () => <FaChevronUp size={14} />;\n\n// Comprehensive search data - scans all content in the project\nconst searchData = [\n  // Visit page sections\n  {\n    id: 1,\n    title: \"Giờ mở cửa & vé vào cửa\",\n    description: \"Thông tin về giờ mở cửa và vé vào cửa bảo tàng\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/visit#hours\",\n  },\n  {\n    id: 2,\n    title: \"Giá vé\",\n    description: \"Thông tin về giá vé và các loại vé\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/visit#tickets\",\n  },\n  {\n    id: 3,\n    title: \"Thành viên\",\n    description: \"Thông tin về chương trình thành viên và đặc quyền\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visit#membership\",\n  },\n  {\n    id: 4,\n    title: \"Nội quy tham quan\",\n    description: \"Quy định và nội quy khi tham quan bảo tàng\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visitor-rules\",\n  },\n\n  // Exhibitions sections\n  {\n    id: 5,\n    title: \"Triển lãm\",\n    description: \"Các triển lãm hiện tại và sắp tới\",\n    category: \"Triển lãm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions\",\n  },\n  {\n    id: 6,\n    title: \"Trải nghiệm có hướng dẫn\",\n    description: \"Các tour tham quan có hướng dẫn viên\",\n    category: \"Triển lãm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions?tab=guided-tours\",\n  },\n\n  // Explore sections\n  {\n    id: 7,\n    title: \"Bộ sưu tập\",\n    description: \"Khám phá bộ sưu tập nghệ thuật của bảo tàng\",\n    category: \"Khám phá\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748932455/hiavdsldaipshiwsfq8s.png\",\n    path: \"/collection\",\n  },\n  {\n    id: 8,\n    title: \"Lộ trình tham quan\",\n    description: \"Các lộ trình tham quan được đề xuất\",\n    category: \"Khám phá\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/visitor-trails\",\n  },\n\n  // Support sections\n  {\n    id: 10,\n    title: \"Hỗ trợ khách tham quan\",\n    description: \"Thông tin hỗ trợ và hướng dẫn cho khách tham quan\",\n    category: \"Hỗ trợ\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support\",\n  },\n  {\n    id: 11,\n    title: \"FAQ\",\n    description: \"Câu hỏi thường gặp và giải đáp\",\n    category: \"Hỗ trợ\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#faq\",\n  },\n  {\n    id: 12,\n    title: \"Trở thành Nhà bảo trợ\",\n    description: \"Thông tin về chương trình bảo trợ bảo tàng\",\n    category: \"Hỗ trợ\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support#patron\",\n  },\n\n  // Shop sections\n  {\n    id: 13,\n    title: \"Cửa hàng trực tuyến\",\n    description: \"Mua sắm các sản phẩm lưu niệm từ bảo tàng\",\n    category: \"Mua sắm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"https://online-museeduphin.netlify.app/\",\n  },\n\n  // Add room search data\n  {\n    id: \"room-traditional\",\n    title: \"The ChildHood\",\n    description:\n      \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechillhood.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-modern\",\n    title: \"White Bauhunia\",\n    description:\n      \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/whitebauhinia.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-luxury\",\n    title: \"The chill 1\",\n    description:\n      \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechill1.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget1\",\n    title: \"The Chill 2\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechill2.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget2\",\n    title: \"The Memory\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thememory.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget3\",\n    title: \"The Sunset\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thesunset.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget4\",\n    title: \"The Train\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thetrain.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n\n  // Add notranslate to all Musée Du Pin mentions in descriptions\n  {\n    id: \"exhibition-feature\",\n    title: (\n      <>\n        Một <span className=\"notranslate\">Musée Du Pin</span> khác\n      </>\n    ),\n    description: (\n      <>\n        Tận hưởng chuyến tham quan tránh xa đám đông và khám phá những kho báu\n        ít người biết đến và khung cảnh tuyệt đẹp của một{\" \"}\n        <span className=\"notranslate\">Musée Du Pin</span> khác\n      </>\n    ),\n    category: \"Triển lãm\",\n    image:\n      \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/exhibitions?tab=guided-tours\",\n  },\n];\n\nconst Navbar = () => {\n  const { currentLang } = useTranslation();\n  const [showSearchBox, setShowSearchBox] = useState(false);\n  const [showSeeMoreDropdown, setShowSeeMoreDropdown] = useState(false);\n  const [showVisitDropdown, setShowVisitDropdown] = useState(false);\n  const [showExhibitionsDropdown, setShowExhibitionsDropdown] = useState(false);\n  const [showExploreDropdown, setShowExploreDropdown] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [mobileSearchTerm, setMobileSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [showSearchResults, setShowSearchResults] = useState(false);\n\n  // Mobile submenu states\n  const [showMobileSubmenu, setShowMobileSubmenu] = useState(false);\n  const [currentMobileSubmenu, setCurrentMobileSubmenu] = useState(\"\");\n  const [submenuItems, setSubmenuItems] = useState([]);\n  const [submenuFeatured, setSubmenuFeatured] = useState(null);\n\n  const navigate = useNavigate();\n  const navItemsRef = useRef([]);\n  const dropdownRef = useRef(null);\n  const mobileLangDropdownRef = useRef(null);\n  const seeMoreRef = useRef(null);\n  const visitRef = useRef(null);\n  const exhibitionsRef = useRef(null);\n  const exploreRef = useRef(null);\n  const searchInputRef = useRef(null);\n  const mobileSubmenuRef = useRef(null);\n  const searchResultsRef = useRef(null);\n\n  // Handle search functionality\n  const handleSearchInputChange = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n\n  // Mobile search input change handler\n  const handleMobileSearchInputChange = (e) => {\n    const value = e.target.value;\n    setMobileSearchTerm(value);\n\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n\n  // Enhanced search to scan all content\n  const performSearch = (query) => {\n    setIsSearching(true);\n    setShowSearchResults(true);\n\n    // Search in real-time without delay\n    const results = searchData.filter((item) => {\n      const searchTermLower = query.toLowerCase();\n      const titleMatch = item.title.toLowerCase().includes(searchTermLower);\n      const descriptionMatch = item.description\n        .toLowerCase()\n        .includes(searchTermLower);\n      const categoryMatch = item.category\n        .toLowerCase()\n        .includes(searchTermLower);\n\n      return titleMatch || descriptionMatch || categoryMatch;\n    });\n\n    // Sort results with exact title matches first\n    results.sort((a, b) => {\n      const aExactMatch = a.title.toLowerCase() === query.toLowerCase();\n      const bExactMatch = b.title.toLowerCase() === query.toLowerCase();\n\n      if (aExactMatch && !bExactMatch) return -1;\n      if (!aExactMatch && bExactMatch) return 1;\n\n      // Sort by category as secondary criteria\n      return a.category.localeCompare(b.category);\n    });\n\n    setSearchResults(results);\n    setIsSearching(false);\n  };\n\n  // Improved search result navigation with hash-based routing\n  const handleSearchResultClick = (path) => {\n    setShowSearchBox(false);\n    setShowSearchResults(false);\n    setSearchTerm(\"\");\n    setMobileSearchTerm(\"\");\n    setShowMobileMenu(false); // Close mobile menu\n\n    // Handle external links\n    if (path.startsWith(\"http\")) {\n      window.open(path, \"_blank\");\n      return;\n    }\n\n    // Handle internal navigation with hash fragments\n    if (path.includes(\"#\")) {\n      const [pagePath, sectionId] = path.split(\"#\");\n\n      // If we're already on the correct page, just scroll to the section\n      if (\n        window.location.pathname === pagePath ||\n        (pagePath === \"/\" && window.location.pathname === \"\")\n      ) {\n        setTimeout(() => {\n          const element = document.getElementById(sectionId);\n          if (element) {\n            element.scrollIntoView({ behavior: \"smooth\" });\n          }\n        }, 100);\n      } else {\n        // Navigate to the page, then scroll to section\n        navigate(path);\n      }\n    } else {\n      // Regular page navigation without hash\n      navigate(path);\n    }\n  };\n\n  // Handle click outside search results\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      // We're removing this condition so clicking outside won't close the search results\n      // Only the X button will close it now\n\n      // Keep the search input click handler to allow focus/interactions\n      if (\n        searchInputRef.current &&\n        searchInputRef.current.contains(event.target)\n      ) {\n        // Allow clicks on the search input\n        return;\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  // Thêm hàm xử lý khi nhấp vào liên kết trong mobile menu\n  const handleNavItemClick = (path) => {\n    setShowMobileMenu(false);\n    navigate(path);\n  };\n\n  // Update mobile menu items based on language\n  const getMobileMenuItems = () => {\n    return {\n      \"Trải nghiệm\": {\n        title: currentLang === \"en\" ? \"Experience\" : \"Trải nghiệm\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Opening Hours\" : \"Giờ mở cửa\",\n            path: \"/visit\",\n          },\n          {\n            title:\n              currentLang === \"en\"\n                ? \"Map, Entrances & Directions\"\n                : \"Bản đồ, lối vào & chỉ dẫn\",\n            path: \"/museum-map\",\n          },\n          { title: \"Các gói trải nghiệm\", path: \"/visit#tickets\" },\n          { title: \"Thành viên\", path: \"/visit#membership\" },\n          {\n            title: \"Lưu trú trong các căn phòng nghệ thuật\",\n            path: \"/visit-info\",\n          },\n          { title: \"Cuộc sống tại bảo tàng\", path: \"/visit-info#homestay\" },\n          { title: \"Câu hỏi thường gặp\", path: \"/visit-info#faq\" },\n        ],\n      },\n      \"TRIỂN LÃM\": {\n        title:\n          currentLang === \"en\"\n            ? \"Art Stay & Exhibitions\"\n            : \"Lưu trú nghệ thuật và Triển lãm\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Exhibitions\" : \"Triển lãm\",\n            path: \"/exhibitions\",\n          },\n          {\n            title:\n              currentLang === \"en\"\n                ? \"Guided Tours\"\n                : \"Trải nghiệm có hướng dẫn\",\n            path: \"/exhibitions?tab=guided-tours\",\n          },\n          {\n            title: currentLang === \"en\" ? \"Art Stay\" : \"Lưu trú nghệ thuật\",\n            path: \"/luu-tru-nghe-thuat\",\n          },\n        ],\n      },\n      \"KHÁM PHÁ\": {\n        title: currentLang === \"en\" ? \"EXPLORE\" : \"KHÁM PHÁ\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Collections\" : \"Bộ sưu tập\",\n            path: \"/collection\",\n          },\n          { title: \"Tin tức\", path: \"/life-at-the-museum\" },\n          { title: \"Lộ trình tham quan\", path: \"/visitor-trails\" },\n          { title: \"Âm Thanh Đẹp\", path: \"/the-acoustic\" },\n          { title: \"Nghệ thuật vị giác\", path: \"/the-taste\" },\n          {\n            title: \"Không gian nghệ thuật và vườn trong Bảo Tàng\",\n            path: \"/the-place\",\n          },\n        ],\n      },\n      \"XEM THÊM\": {\n        title: \"Trở thành Nhà bảo trợ!\",\n        items: [\n          {\n            title: \"Cửa hàng trực tuyến\",\n            path: \"https://online-museeduphin.netlify.app/\",\n          },\n          {\n            title: \"Ghé thăm cửa hàng trực tuyến của chúng tôi\",\n            path: \"/support\",\n          },\n        ],\n        featured: {\n          title: \"Trở thành Nhà bảo trợ!\",\n          path: \"/support\",\n          image:\n            \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n          description: \"Cá nhân, công ty hoặc tổ chức\",\n        },\n      },\n    };\n  };\n\n  // Update openMobileSubmenu to use translated menu items\n  const openMobileSubmenu = (menuType) => {\n    setCurrentMobileSubmenu(menuType);\n    const menuItems = getMobileMenuItems();\n    const currentMenu = menuItems[menuType];\n\n    if (currentMenu) {\n      setSubmenuItems(currentMenu.items);\n      setSubmenuFeatured(currentMenu.featured);\n      setShowMobileSubmenu(true);\n\n      // Tạo animation mượt mà\n      if (mobileSubmenuRef.current) {\n        mobileSubmenuRef.current.classList.remove(\"hide\");\n        mobileSubmenuRef.current.classList.add(\"show\");\n      }\n    }\n  };\n\n  // Hàm để đóng mobile submenu\n  const closeMobileSubmenu = () => {\n    if (mobileSubmenuRef.current) {\n      mobileSubmenuRef.current.classList.remove(\"show\");\n      mobileSubmenuRef.current.classList.add(\"hide\");\n\n      // Đợi animation hoàn thành trước khi ẩn submenu\n      setTimeout(() => {\n        setShowMobileSubmenu(false);\n      }, 300);\n    } else {\n      setShowMobileSubmenu(false);\n    }\n  };\n\n  // Hiệu ứng hover cho các menu items\n  useEffect(() => {\n    navItemsRef.current.forEach((item) => {\n      if (!item) return;\n\n      const link = item.querySelector(\"a\");\n      const underline = item.querySelector(\".underline\");\n\n      if (!link || !underline) return;\n\n      const tl = gsap.timeline({ paused: true });\n\n      // Hiệu ứng underline ngắn chạy từ trong ra ngoài\n      tl.fromTo(\n        underline,\n        {\n          width: \"0%\",\n        },\n        {\n          width: \"30%\",\n          duration: 0.3,\n          ease: \"power2.out\",\n        }\n      );\n\n      link.addEventListener(\"mouseenter\", () => tl.play());\n      link.addEventListener(\"mouseleave\", () => tl.reverse());\n\n      return () => {\n        link.removeEventListener(\"mouseenter\", () => tl.play());\n        link.removeEventListener(\"mouseleave\", () => tl.reverse());\n      };\n    });\n\n    // Hiệu ứng cho See More\n    if (seeMoreRef.current) {\n      const underline = seeMoreRef.current.querySelector(\".underline\");\n\n      if (underline) {\n        const tl = gsap.timeline({ paused: true });\n\n        tl.fromTo(\n          underline,\n          {\n            width: \"0%\",\n          },\n          {\n            width: \"100%\",\n            duration: 0.3,\n            ease: \"power2.out\",\n          }\n        );\n\n        seeMoreRef.current.addEventListener(\"mouseenter\", () => tl.play());\n        seeMoreRef.current.addEventListener(\"mouseleave\", () => {\n          if (!showSeeMoreDropdown) {\n            tl.reverse();\n          }\n        });\n\n        return () => {\n          seeMoreRef.current?.removeEventListener(\"mouseenter\", () =>\n            tl.play()\n          );\n          seeMoreRef.current?.removeEventListener(\"mouseleave\", () =>\n            tl.reverse()\n          );\n        };\n      }\n    }\n  }, [showSeeMoreDropdown]);\n\n  // Focus input khi search box hiển thị\n  useEffect(() => {\n    if (showSearchBox && searchInputRef.current) {\n      searchInputRef.current.focus();\n    }\n  }, [showSearchBox]);\n\n  // Xử lý click bên ngoài để đóng dropdown\n  useEffect(() => {\n    function handleClickOutside(event) {\n      // Only close language dropdowns when clicking outside\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowSeeMoreDropdown(false);\n      }\n      if (\n        mobileLangDropdownRef.current &&\n        !mobileLangDropdownRef.current.contains(event.target)\n      ) {\n        setShowMobileMenu(false);\n      }\n\n      // Don't automatically close dropdowns when clicking inside them\n      // We'll only close them via the X button or Escape key\n      // This is specifically for Visit, Exhibitions, and Explore dropdowns\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  // Disable scroll khi hiển thị dropdown\n  useEffect(() => {\n    if (\n      showSeeMoreDropdown ||\n      showMobileMenu ||\n      showVisitDropdown ||\n      showExhibitionsDropdown ||\n      showExploreDropdown\n    ) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown,\n  ]);\n\n  // Xử lý tìm kiếm\n  const handleSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!searchTerm.trim()) return; // Không thực hiện tìm kiếm nếu input trống\n\n    performSearch(searchTerm);\n  };\n\n  // Xử lý tìm kiếm từ mobile menu\n  const handleMobileSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!mobileSearchTerm.trim()) return;\n\n    performSearch(mobileSearchTerm);\n  };\n\n  // Tắt search box khi nhấn phím Escape\n  useEffect(() => {\n    const handleEscKey = (event) => {\n      if (event.key === \"Escape\") {\n        if (showSearchBox) {\n          setShowSearchBox(false);\n        }\n        if (showSeeMoreDropdown) {\n          setShowSeeMoreDropdown(false);\n        }\n        if (showMobileMenu) {\n          setShowMobileMenu(false);\n        }\n        if (showVisitDropdown) {\n          setShowVisitDropdown(false);\n        }\n        if (showExhibitionsDropdown) {\n          setShowExhibitionsDropdown(false);\n        }\n        if (showExploreDropdown) {\n          setShowExploreDropdown(false);\n        }\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleEscKey);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscKey);\n    };\n  }, [\n    showSearchBox,\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown,\n  ]);\n\n  // Render search results\n  const renderSearchResults = () => {\n    if (!showSearchResults) return null;\n\n    return (\n      <div className=\"search-results-container\" ref={searchResultsRef}>\n        <div className=\"search-results-list\">\n          <div className=\"search-results-header\">\n            {isSearching ? (\n              <div className=\"search-loading\"></div>\n            ) : (\n              <div className=\"search-results-title\">\n                <div className=\"search-results-count\">\n                  {`${searchResults.length} kết quả tìm kiếm cho \"${\n                    searchTerm || mobileSearchTerm\n                  }\"`}\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"search-results-close-button\"\n                  onClick={() => setShowSearchResults(false)}\n                  aria-label=\"Đóng kết quả tìm kiếm\"\n                >\n                  <CloseIcon />\n                </button>\n              </div>\n            )}\n          </div>\n\n          {isSearching ? (\n            <div className=\"search-loading\"></div>\n          ) : searchResults.length > 0 ? (\n            <div className=\"search-results-items\">\n              {searchResults.map((result) => (\n                <div\n                  key={result.id}\n                  className={`search-result-item ${\n                    result.path.includes(\"#\") ? \"section-link\" : \"\"\n                  }`}\n                  onClick={() => handleSearchResultClick(result.path)}\n                >\n                  <img\n                    src={result.image}\n                    alt={result.title}\n                    loading=\"lazy\"\n                    className=\"search-result-image\"\n                  />\n                  <div className=\"search-result-content\">\n                    <h4 className=\"search-result-title\">{result.title}</h4>\n                    <p className=\"search-result-description\">\n                      {result.description}\n                    </p>\n                    <span className=\"search-result-category\">\n                      {result.category}\n                    </span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"search-no-results\">\n              <h3>Không tìm thấy kết quả</h3>\n              <p>\n                Chúng tôi không thể tìm thấy kết quả nào cho tìm kiếm của bạn.\n                Vui lòng thử từ khóa khác.\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  // Add effect to handle external mobile menu triggers\n  useEffect(() => {\n    const handleMobileMenuShow = () => {\n      setShowMobileMenu(true);\n    };\n\n    const handleMobileMenuHide = () => {\n      setShowMobileMenu(false);\n    };\n\n    // Listen for mobile menu class changes\n    const mobileMenuOverlay = document.querySelector(\".mobile-menu-overlay\");\n    if (mobileMenuOverlay) {\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (\n            mutation.type === \"attributes\" &&\n            mutation.attributeName === \"class\"\n          ) {\n            if (mobileMenuOverlay.classList.contains(\"show\")) {\n              handleMobileMenuShow();\n            } else {\n              handleMobileMenuHide();\n            }\n          }\n        });\n      });\n\n      observer.observe(mobileMenuOverlay, {\n        attributes: true,\n      });\n\n      return () => observer.disconnect();\n    }\n  }, []);\n\n  // Add event listener for opening dropdowns\n  useEffect(() => {\n    const handleOpenNavDropdown = (event) => {\n      const dropdownType = event.detail.type;\n\n      // Close all dropdowns first\n      setShowVisitDropdown(false);\n      setShowExhibitionsDropdown(false);\n      setShowExploreDropdown(false);\n      setShowSeeMoreDropdown(false);\n      setShowMobileMenu(false);\n\n      // Scroll to top\n      window.scrollTo(0, 0);\n\n      // Open the requested dropdown\n      switch (dropdownType) {\n        case \"KHÁM PHÁ\":\n          setShowExploreDropdown(true);\n          break;\n        case \"Trải nghiệm\":\n          setShowVisitDropdown(true);\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    return () => {\n      window.removeEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    };\n  }, []);\n\n  // Add GTranslate script to head\n  useEffect(() => {\n    // Add GTranslate settings\n    const gtSettings = document.createElement(\"script\");\n    gtSettings.innerHTML = `window.gtranslateSettings = {\n      \"default_language\": \"vi\",\n      \"native_language_names\": true,\n      \"detect_browser_language\": true,\n      \"languages\": [\"vi\",\"en\"],\n      \"wrapper_selector\": \".gtranslate_wrapper\"\n    }`;\n    document.head.appendChild(gtSettings);\n\n    // Add GTranslate script\n    const gtScript = document.createElement(\"script\");\n    gtScript.src = \"https://cdn.gtranslate.net/widgets/latest/ln.js\";\n    gtScript.defer = true;\n    document.head.appendChild(gtScript);\n\n    return () => {\n      document.head.removeChild(gtSettings);\n      document.head.removeChild(gtScript);\n    };\n  }, []);\n\n  // Update renderFeaturedContent function to be more robust\n  const renderContent = (content) => {\n    if (!content) return null;\n\n    if (React.isValidElement(content)) {\n      return content;\n    }\n\n    if (typeof content === \"string\") {\n      if (content.includes(\"Musée Du Pin\")) {\n        return (\n          <>\n            {content.split(\"Musée Du Pin\").map((part, index, array) => (\n              <React.Fragment key={index}>\n                {part}\n                {index < array.length - 1 && (\n                  <span className=\"notranslate\">Musée Du Pin</span>\n                )}\n              </React.Fragment>\n            ))}\n          </>\n        );\n      }\n      return content;\n    }\n\n    return content;\n  };\n\n  // Update in meta tags and document title\n  useEffect(() => {\n    document.title = `Musée Du Pin - ${currentMobileSubmenu || \"Trang chủ\"}`;\n  }, [currentMobileSubmenu]);\n\n  return (\n    <header className=\"navbar-container\">\n      {/* Desktop Navbar */}\n      <div className=\"navbar-top\">\n        {/* Left section with search and language */}\n        <div className=\"left-section\">\n          <div\n            className=\"search-container\"\n            onClick={() => setShowSearchBox(true)}\n          >\n            <SearchIcon />\n            <span>Tìm kiếm</span>\n          </div>\n\n          {/* GTranslate container for desktop */}\n          <div className=\"gtranslate_wrapper\"></div>\n        </div>\n\n        {/* Center section with logo */}\n        <div className=\"logo-containers\">\n          <Link to=\"/\">\n            <img\n              className=\"logo notranslate\"\n              src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\n              alt=\"Musée Du Pin\"\n              loading=\"lazy\"\n            />\n          </Link>\n        </div>\n\n        {/* Desktop Navbar - Right Section */}\n        <div className=\"desktop-right-section\">\n          <div className=\"buttons-container\">\n            <Link\n              to=\"https://online-museeduphin.netlify.app/\"\n              className=\"btn btn-outline\"\n            >\n              <BoutiqueIcon />\n            </Link>\n            <Link\n              to=\"https://ticket-museeduphin.netlify.app/\"\n              className=\"btn btn-filled\"\n            >\n              <TicketIcon />\n            </Link>\n          </div>\n\n          <div\n            className=\"menu-toggle\"\n            onClick={() => setShowSearchBox(!showSearchBox)}\n          >\n            <MenuIcon />\n          </div>\n        </div>\n\n        {/* Mobile elements */}\n        <div className=\"mobile-logo\">\n          <div onClick={() => setShowMobileMenu(true)}>\n            <img\n              src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\n              alt=\"Musée Du Pin\"\n              className=\"mobile-logo-image notranslate\"\n              loading=\"lazy\"\n            />\n          </div>\n          <a href=\"/\">\n            <span className=\"museum-name-mobile notranslate\">Musée Du Pin</span>\n          </a>\n        </div>\n\n        <div className=\"right-section\">\n          <Link\n            to=\"https://online-museeduphin.netlify.app/\"\n            className=\"btn btn-outline\"\n          >\n            <BoutiqueIcon />\n          </Link>\n          <Link\n            to=\"https://ticket-museeduphin.netlify.app/\"\n            className=\"btn btn-outline\"\n          >\n            <TicketIcon />\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"divider\"></div>\n\n      {/* Desktop Navbar Bottom Section */}\n      <div className=\"navbar-bottom\">\n        <nav className=\"main-nav\">\n          <ul>\n            <li\n              className=\"nav-item\"\n              ref={(el) => {\n                navItemsRef.current[0] = el;\n                visitRef.current = el;\n              }}\n            >\n              <Link\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (showVisitDropdown) {\n                    setShowVisitDropdown(false);\n                  } else {\n                    setShowVisitDropdown(true);\n                    setShowExhibitionsDropdown(false);\n                    setShowExploreDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                }}\n              >\n                Trải nghiệm\n                <div className=\"underline\"></div>\n              </Link>\n            </li>\n            <li\n              className=\"nav-item\"\n              ref={(el) => {\n                navItemsRef.current[1] = el;\n                exhibitionsRef.current = el;\n              }}\n            >\n              <Link\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (showExhibitionsDropdown) {\n                    setShowExhibitionsDropdown(false);\n                  } else {\n                    setShowExhibitionsDropdown(true);\n                    setShowVisitDropdown(false);\n                    setShowExploreDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                }}\n              >\n                Lưu trú nghệ thuật và Triển lãm\n                <div className=\"underline\"></div>\n              </Link>\n            </li>\n            <li\n              className=\"nav-item\"\n              ref={(el) => {\n                navItemsRef.current[2] = el;\n                exploreRef.current = el;\n              }}\n            >\n              <Link\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (showExploreDropdown) {\n                    setShowExploreDropdown(false);\n                  } else {\n                    setShowExploreDropdown(true);\n                    setShowVisitDropdown(false);\n                    setShowExhibitionsDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                }}\n              >\n                KHÁM PHÁ\n                <div className=\"underline\"></div>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n\n        <div className=\"vertical-divider\"></div>\n\n        <div\n          className=\"see-more\"\n          ref={seeMoreRef}\n          onClick={() => {\n            if (showSeeMoreDropdown) {\n              setShowSeeMoreDropdown(false);\n            } else {\n              setShowSeeMoreDropdown(true);\n              setShowVisitDropdown(false);\n              setShowExhibitionsDropdown(false);\n              setShowExploreDropdown(false);\n            }\n          }}\n        >\n          <span>XEM THÊM</span>\n          <MenuIcon />\n          <div className=\"underline\"></div>\n        </div>\n      </div>\n\n      {/* Search Box as Overlay */}\n      {showSearchBox && (\n        <div className=\"search-below-navbar\">\n          <div className=\"search-box-container\">\n            <div className=\"search-box-inner\">\n              <div\n                className={`search-input-wrapper ${\n                  isFocused || searchTerm ? \"has-value\" : \"\"\n                }`}\n              >\n                <SearchIcon />\n                <div className=\"search-input-label\">Tìm kiếm</div>\n                <input\n                  type=\"text\"\n                  placeholder={isFocused ? \"\" : \"Tìm kiếm\"}\n                  value={searchTerm}\n                  onChange={handleSearchInputChange}\n                  onFocus={() => setIsFocused(true)}\n                  onBlur={() => setIsFocused(false)}\n                  ref={searchInputRef}\n                  className=\"search-input\"\n                />\n              </div>\n              <button\n                type=\"button\"\n                className={`search-submit-button ${\n                  searchTerm.trim() ? \"active\" : \"\"\n                }`}\n                onClick={handleSearch}\n                aria-label=\"Submit search\"\n                disabled={!searchTerm.trim()}\n              >\n                <ArrowRightIcon />\n              </button>\n            </div>\n            <button\n              type=\"button\"\n              className=\"search-close-button\"\n              onClick={() => {\n                setShowSearchBox(false);\n                // Don't close search results when closing the search box\n                // Only the X in the search results should close them\n              }}\n              aria-label=\"Close search\"\n            >\n              <CloseIcon />\n            </button>\n            {/* Render search results */}\n            {renderSearchResults()}\n          </div>\n        </div>\n      )}\n\n      {/* See More Dropdown Menu */}\n      {showSeeMoreDropdown && (\n        <div\n          className=\"dropdown-container see-more-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowSeeMoreDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <h3>Cửa hàng trực tuyến</h3>\n                  <Link\n                    to=\"https://online-museeduphin.netlify.app/\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowSeeMoreDropdown(false)}\n                  >\n                    Ghé thăm cửa hàng trực tuyến của chúng tôi\n                  </Link>\n                </div>\n\n                <div\n                  className=\"dropdown-menu-section\"\n                  style={{ marginTop: \"30px\" }}\n                >\n                  <h3>\n                    Hỗ trợ {\" \"} <span className=\"notranslate\">Musée Du Pin</span>\n                  </h3>\n                  <Link\n                    to=\"/support\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowSeeMoreDropdown(false)}\n                  >\n                    Cá nhân, công ty hoặc tổ chức\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <img\n                  src=\"https://ik.imagekit.io/8u8lkoqkkm/image(4).png?updatedAt=1749394995088\"\n                  alt=\"Support\"\n                  loading=\"lazy\"\n                  className=\"dropdown-image\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Visit Dropdown Menu */}\n      {showVisitDropdown && (\n        <div\n          className=\"dropdown-container visit-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowVisitDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/visit\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Giờ mở cửa\n                  </Link>\n                  <Link\n                    to=\"/museum-map\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Bản đồ, lối vào & chỉ dẫn\n                  </Link>\n                  <Link\n                    to=\"/visit#tickets\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Các gói trải nghiệm\n                  </Link>\n                  <Link\n                    to=\"/visit#membership\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Thành viên\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-middle-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/visit-info\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Lưu trú trong các căn phòng nghệ thuật\n                  </Link>\n                  <Link\n                    to=\"/visit-info#homestay\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Cuộc sống tại bảo tàng\n                  </Link>\n                  <Link\n                    to=\"/visit-info#faq\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Câu hỏi thường gặp\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <img\n                  src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\"\n                  alt=\"Chuẩn bị cho chuyến tham quan\"\n                  loading=\"lazy\"\n                  className=\"dropdown-image\"\n                />\n                <div className=\"dropdown-image-caption\">\n                  <Link\n                    to=\"/visit-info\"\n                    className=\"dropdown-title-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Chuẩn bị cho chuyến tham quan\n                    <svg\n                      width=\"16\"\n                      height=\"16\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      <path d=\"M5 12h14\"></path>\n                      <path d=\"M12 5l7 7-7 7\"></path>\n                    </svg>\n                  </Link>\n                  <p className=\"dropdown-description\">\n                    Tất cả những điều bạn cần biết trước khi tham quan bảo tàng\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Exhibitions Dropdown Menu */}\n      {showExhibitionsDropdown && (\n        <div\n          className=\"dropdown-container exhibitions-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowExhibitionsDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/exhibitions\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    Triển lãm\n                  </Link>\n                  <Link\n                    to=\"/exhibitions?tab=guided-tours\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    Trải nghiệm có hướng dẫn\n                  </Link>\n                  <Link\n                    to=\"/luu-tru-nghe-thuat\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    Lưu trú nghệ thuật\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <div className=\"exhibition-feature\">\n                  <div className=\"exhibition-feature-image\">\n                    <img\n                      src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\"\n                      alt=\"Another Musée Du Pin\"\n                      loading=\"lazy\"\n                    />\n                    <div className=\"feature-tag\">\n                      Một <span className=\"notranslate\">Musée Du Pin</span> khác\n                    </div>\n                  </div>\n                  <Link\n                    to=\"/exhibitions?tab=guided-tours\"\n                    className=\"exhibition-feature-title\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    <span className=\"text-left\">Một</span>{\" \"}\n                    <span className=\"notranslate\">Musée Du Pin</span>{\" \"}\n                    <span className=\"text-right\">khác</span>\n                    <svg\n                      width=\"16\"\n                      height=\"16\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      <path d=\"M5 12h14\"></path>\n                      <path d=\"M12 5l7 7-7 7\"></path>\n                    </svg>\n                  </Link>\n                  <p className=\"exhibition-feature-description\">\n                    Tận hưởng chuyến tham quan tránh xa đám đông và khám phá\n                    những kho báu ít người biết đến và khung cảnh tuyệt đẹp của\n                    một <span className=\"notranslate\">Musée Du Pin</span> khác\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Explore Dropdown Menu */}\n      {showExploreDropdown && (\n        <div\n          className=\"dropdown-container explore-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowExploreDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/collection\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Bộ sưu tập\n                  </Link>\n                  <Link\n                    to=\"/life-at-the-museum\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Tin tức\n                  </Link>\n                  <Link\n                    to=\"/visitor-trails\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Lộ trình tham quan\n                  </Link>\n                  <Link\n                    to=\"/the-acoustic\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Âm Thanh Đẹp\n                  </Link>\n                  <Link\n                    to=\"/the-taste\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Nghệ thuật vị giác\n                  </Link>\n                  <Link\n                    to=\"/the-place\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Không gian nghệ thuật và vườn trong Bảo Tàng\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <div className=\"exhibition-feature\">\n                  <div className=\"exhibition-feature-image\">\n                    <img\n                      src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\"\n                      alt=\"Highlights\"\n                      loading=\"lazy\"\n                    />\n                    <div className=\"feature-tag\">Điểm nổi bật</div>\n                  </div>\n                  <Link\n                    to=\"/visitor-trails\"\n                    className=\"exhibition-feature-title\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Điểm nổi bật\n                    <svg\n                      width=\"16\"\n                      height=\"16\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      <path d=\"M5 12h14\"></path>\n                      <path d=\"M12 5l7 7-7 7\"></path>\n                    </svg>\n                  </Link>\n                  <p className=\"exhibition-feature-description\">\n                    Các tác phẩm nổi bật\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Mobile Menu Overlay */}\n      <div className={`mobile-menu-overlay ${showMobileMenu ? \"show\" : \"\"}`}>\n        <div className=\"mobile-menu-header\">\n          <button\n            className=\"mobile-close-button\"\n            onClick={() => setShowMobileMenu(false)}\n            aria-label=\"Close menu\"\n          >\n            <CloseIcon />\n          </button>\n          {/* GTranslate container for mobile */}\n          <div className=\"gtranslate_wrapper mobile\"></div>\n        </div>\n\n        <div className=\"mobile-search\">\n          <form onSubmit={handleMobileSearch}>\n            <div className=\"mobile-search-input\">\n              <input\n                type=\"text\"\n                placeholder=\"Tìm kiếm\"\n                value={mobileSearchTerm}\n                onChange={handleMobileSearchInputChange}\n              />\n              <button\n                type=\"submit\"\n                className=\"mobile-search-button\"\n                disabled={!mobileSearchTerm.trim()}\n              >\n                <ArrowRightIcon />\n              </button>\n            </div>\n          </form>\n          {/* Render mobile search results */}\n          {renderSearchResults()}\n        </div>\n\n        <div className=\"mobile-nav-links\">\n          <div\n            className=\"mobile-nav-item\"\n            onClick={() => openMobileSubmenu(\"Trải nghiệm\")}\n          >\n            Trải nghiệm\n            <ChevronRight />\n          </div>\n          <div\n            className=\"mobile-nav-item\"\n            onClick={() => openMobileSubmenu(\"TRIỂN LÃM\")}\n          >\n            Lưu trú nghệ thuật và Triển lãm\n            <ChevronRight />\n          </div>\n          <div\n            className=\"mobile-nav-item\"\n            onClick={() => openMobileSubmenu(\"KHÁM PHÁ\")}\n          >\n            KHÁM PHÁ\n            <ChevronRight />\n          </div>\n        </div>\n\n        <div className=\"mobile-nav-divider\"></div>\n\n        <div className=\"mobile-secondary-links\">\n          <div\n            className=\"mobile-secondary-item\"\n            onClick={() => handleNavItemClick(\"/boutique\")}\n          >\n            Cửa hàng Lưu niệm\n          </div>\n          <div\n            className=\"mobile-secondary-item\"\n            onClick={() => handleNavItemClick(\"/support\")}\n          >\n            Hỗ trợ {\" \"} <span className=\"notranslate\">Musée Du Pin</span>\n          </div>\n        </div>\n\n        <div className=\"mobile-social-icons\">\n          <a\n            href=\"https://www.facebook.com/BaoTangThongDalat\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"social-icon\"\n            aria-label=\"Facebook\"\n            onClick={() => setShowMobileMenu(false)}\n          >\n            <FacebookIcon />\n          </a>\n          <a\n            href=\"https://www.tiktok.com/@baotangthongdalat?_t=ZS-8wcfw9TGrnm&_r=1\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"social-icon\"\n            aria-label=\"TikTok\"\n            onClick={() => setShowMobileMenu(false)}\n          >\n            <TikTokIcon />\n          </a>\n          <a\n            href=\"https://www.youtube.com/channel/UCyxLbhgBPZ3KnGD_KeLCo9A\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"social-icon\"\n            aria-label=\"YouTube\"\n            onClick={() => setShowMobileMenu(false)}\n          >\n            <YoutubeIcon />\n          </a>\n        </div>\n      </div>\n\n      {/* Mobile Submenu */}\n      {showMobileSubmenu && (\n        <div\n          className={`mobile-submenu ${showMobileSubmenu ? \"show\" : \"hide\"}`}\n          ref={mobileSubmenuRef}\n        >\n          <div className=\"submenu-header\">\n            <button\n              className=\"back-buttonss\"\n              onClick={closeMobileSubmenu}\n              aria-label=\"Back to main menu\"\n            >\n              <svg\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <path d=\"M15 18l-6-6 6-6\" />\n              </svg>\n              Quay lại\n            </button>\n            <h2 className=\"submenu-title\">{currentMobileSubmenu}</h2>\n          </div>\n\n          <div className=\"submenu-items\">\n            {submenuItems.map((item, index) => (\n              <Link\n                key={index}\n                to={item.path}\n                className=\"submenu-item\"\n                onClick={() => {\n                  setShowMobileSubmenu(false);\n                  setShowMobileMenu(false);\n                }}\n              >\n                {item.title}\n                <ChevronRight />\n              </Link>\n            ))}\n          </div>\n\n          {submenuFeatured && (\n            <div className=\"submenu-featured\">\n              <Link\n                to={submenuFeatured.path}\n                className=\"featured-title\"\n                onClick={() => {\n                  setShowMobileSubmenu(false);\n                  setShowMobileMenu(false);\n                }}\n              >\n                {renderContent(submenuFeatured.title)}\n                <svg\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                >\n                  <path d=\"M5 12h14\"></path>\n                  <path d=\"M12 5l7 7-7 7\"></path>\n                </svg>\n              </Link>\n              <img\n                src={submenuFeatured.image}\n                alt={\n                  typeof submenuFeatured.title === \"string\"\n                    ? submenuFeatured.title\n                    : \"Featured content\"\n                }\n                loading=\"lazy\"\n                className=\"featured-image\"\n              />\n              <p className=\"featured-description\">\n                {renderContent(submenuFeatured.description)}\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default Navbar;\n",
      "start": 1751470574098,
      "end": 1751470574160,
      "sourcemaps": null
    },
    {
      "name": "vite:react-babel",
      "start": 1751470574160,
      "end": 1751470574160,
      "order": "pre"
    },
    {
      "name": "vite:esbuild",
      "result": "import { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport gsap from \"gsap\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  FaArrowRight,\n  FaBars,\n  FaChevronDown,\n  FaChevronRight,\n  FaChevronUp,\n  FaFacebook,\n  FaGift,\n  FaInstagram,\n  FaSearch,\n  FaShoppingBag,\n  FaTicketAlt,\n  FaTimes,\n  FaYoutube\n} from \"react-icons/fa\";\nimport { SiTiktok } from \"react-icons/si\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"../../contexts/TranslationContext\";\nimport \"./Navbar.css\";\nconst SearchIcon = () => /* @__PURE__ */ jsx(FaSearch, { size: 16 });\nconst ChevronDown = () => /* @__PURE__ */ jsx(FaChevronDown, { size: 14 });\nconst ChevronRight = () => /* @__PURE__ */ jsx(FaChevronRight, { size: 16 });\nconst MenuIcon = () => /* @__PURE__ */ jsxs(\"div\", { className: \"menu-icon\", children: [\n  /* @__PURE__ */ jsx(\"div\", { className: \"line\" }),\n  /* @__PURE__ */ jsx(\"div\", { className: \"line\" }),\n  /* @__PURE__ */ jsx(\"div\", { className: \"line\" })\n] });\nconst HamburgerIcon = () => /* @__PURE__ */ jsx(FaBars, { size: 24 });\nconst ArrowRightIcon = () => /* @__PURE__ */ jsx(FaArrowRight, { size: 20 });\nconst CloseIcon = () => /* @__PURE__ */ jsx(FaTimes, { size: 24 });\nconst BoutiqueIcon = () => /* @__PURE__ */ jsx(FaShoppingBag, { className: \"btn-icon\" });\nconst TicketIcon = () => /* @__PURE__ */ jsx(FaTicketAlt, { className: \"btn-icon\" });\nconst CloseDropdownIcon = () => /* @__PURE__ */ jsx(FaTimes, { size: 24 });\nconst PatronIcon = () => /* @__PURE__ */ jsx(FaGift, { size: 24 });\nconst FacebookIcon = () => /* @__PURE__ */ jsx(FaFacebook, { size: 18 });\nconst InstagramIcon = () => /* @__PURE__ */ jsx(FaInstagram, { size: 18 });\nconst TikTokIcon = () => /* @__PURE__ */ jsx(SiTiktok, { size: 18 });\nconst YoutubeIcon = () => /* @__PURE__ */ jsx(FaYoutube, { size: 18 });\nconst ChevronUp = () => /* @__PURE__ */ jsx(FaChevronUp, { size: 14 });\nconst searchData = [\n  // Visit page sections\n  {\n    id: 1,\n    title: \"Giờ mở cửa & vé vào cửa\",\n    description: \"Thông tin về giờ mở cửa và vé vào cửa bảo tàng\",\n    category: \"Trải nghiệm\",\n    image: \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/visit#hours\"\n  },\n  {\n    id: 2,\n    title: \"Giá vé\",\n    description: \"Thông tin về giá vé và các loại vé\",\n    category: \"Trải nghiệm\",\n    image: \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/visit#tickets\"\n  },\n  {\n    id: 3,\n    title: \"Thành viên\",\n    description: \"Thông tin về chương trình thành viên và đặc quyền\",\n    category: \"Trải nghiệm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visit#membership\"\n  },\n  {\n    id: 4,\n    title: \"Nội quy tham quan\",\n    description: \"Quy định và nội quy khi tham quan bảo tàng\",\n    category: \"Trải nghiệm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visitor-rules\"\n  },\n  // Exhibitions sections\n  {\n    id: 5,\n    title: \"Triển lãm\",\n    description: \"Các triển lãm hiện tại và sắp tới\",\n    category: \"Triển lãm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions\"\n  },\n  {\n    id: 6,\n    title: \"Trải nghiệm có hướng dẫn\",\n    description: \"Các tour tham quan có hướng dẫn viên\",\n    category: \"Triển lãm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions?tab=guided-tours\"\n  },\n  // Explore sections\n  {\n    id: 7,\n    title: \"Bộ sưu tập\",\n    description: \"Khám phá bộ sưu tập nghệ thuật của bảo tàng\",\n    category: \"Khám phá\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748932455/hiavdsldaipshiwsfq8s.png\",\n    path: \"/collection\"\n  },\n  {\n    id: 8,\n    title: \"Lộ trình tham quan\",\n    description: \"Các lộ trình tham quan được đề xuất\",\n    category: \"Khám phá\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/visitor-trails\"\n  },\n  // Support sections\n  {\n    id: 10,\n    title: \"Hỗ trợ khách tham quan\",\n    description: \"Thông tin hỗ trợ và hướng dẫn cho khách tham quan\",\n    category: \"Hỗ trợ\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support\"\n  },\n  {\n    id: 11,\n    title: \"FAQ\",\n    description: \"Câu hỏi thường gặp và giải đáp\",\n    category: \"Hỗ trợ\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#faq\"\n  },\n  {\n    id: 12,\n    title: \"Trở thành Nhà bảo trợ\",\n    description: \"Thông tin về chương trình bảo trợ bảo tàng\",\n    category: \"Hỗ trợ\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support#patron\"\n  },\n  // Shop sections\n  {\n    id: 13,\n    title: \"Cửa hàng trực tuyến\",\n    description: \"Mua sắm các sản phẩm lưu niệm từ bảo tàng\",\n    category: \"Mua sắm\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"https://online-museeduphin.netlify.app/\"\n  },\n  // Add room search data\n  {\n    id: \"room-traditional\",\n    title: \"The ChildHood\",\n    description: \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechillhood.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-modern\",\n    title: \"White Bauhunia\",\n    description: \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/whitebauhinia.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-luxury\",\n    title: \"The chill 1\",\n    description: \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechill1.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget1\",\n    title: \"The Chill 2\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechill2.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget2\",\n    title: \"The Memory\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thememory.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget3\",\n    title: \"The Sunset\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thesunset.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  {\n    id: \"room-budget4\",\n    title: \"The Train\",\n    description: \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thetrain.jpg\",\n    path: \"/visit-info#homestay\"\n  },\n  // Add notranslate to all Musée Du Pin mentions in descriptions\n  {\n    id: \"exhibition-feature\",\n    title: /* @__PURE__ */ jsxs(Fragment, { children: [\n      \"Một \",\n      /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" }),\n      \" khác\"\n    ] }),\n    description: /* @__PURE__ */ jsxs(Fragment, { children: [\n      \"Tận hưởng chuyến tham quan tránh xa đám đông và khám phá những kho báu ít người biết đến và khung cảnh tuyệt đẹp của một\",\n      \" \",\n      /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" }),\n      \" khác\"\n    ] }),\n    category: \"Triển lãm\",\n    image: \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/exhibitions?tab=guided-tours\"\n  }\n];\nconst Navbar = () => {\n  const { currentLang } = useTranslation();\n  const [showSearchBox, setShowSearchBox] = useState(false);\n  const [showSeeMoreDropdown, setShowSeeMoreDropdown] = useState(false);\n  const [showVisitDropdown, setShowVisitDropdown] = useState(false);\n  const [showExhibitionsDropdown, setShowExhibitionsDropdown] = useState(false);\n  const [showExploreDropdown, setShowExploreDropdown] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [mobileSearchTerm, setMobileSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [showSearchResults, setShowSearchResults] = useState(false);\n  const [showMobileSubmenu, setShowMobileSubmenu] = useState(false);\n  const [currentMobileSubmenu, setCurrentMobileSubmenu] = useState(\"\");\n  const [submenuItems, setSubmenuItems] = useState([]);\n  const [submenuFeatured, setSubmenuFeatured] = useState(null);\n  const navigate = useNavigate();\n  const navItemsRef = useRef([]);\n  const dropdownRef = useRef(null);\n  const mobileLangDropdownRef = useRef(null);\n  const seeMoreRef = useRef(null);\n  const visitRef = useRef(null);\n  const exhibitionsRef = useRef(null);\n  const exploreRef = useRef(null);\n  const searchInputRef = useRef(null);\n  const mobileSubmenuRef = useRef(null);\n  const searchResultsRef = useRef(null);\n  const handleSearchInputChange = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n  const handleMobileSearchInputChange = (e) => {\n    const value = e.target.value;\n    setMobileSearchTerm(value);\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n  const performSearch = (query) => {\n    setIsSearching(true);\n    setShowSearchResults(true);\n    const results = searchData.filter((item) => {\n      const searchTermLower = query.toLowerCase();\n      const titleMatch = item.title.toLowerCase().includes(searchTermLower);\n      const descriptionMatch = item.description.toLowerCase().includes(searchTermLower);\n      const categoryMatch = item.category.toLowerCase().includes(searchTermLower);\n      return titleMatch || descriptionMatch || categoryMatch;\n    });\n    results.sort((a, b) => {\n      const aExactMatch = a.title.toLowerCase() === query.toLowerCase();\n      const bExactMatch = b.title.toLowerCase() === query.toLowerCase();\n      if (aExactMatch && !bExactMatch) return -1;\n      if (!aExactMatch && bExactMatch) return 1;\n      return a.category.localeCompare(b.category);\n    });\n    setSearchResults(results);\n    setIsSearching(false);\n  };\n  const handleSearchResultClick = (path) => {\n    setShowSearchBox(false);\n    setShowSearchResults(false);\n    setSearchTerm(\"\");\n    setMobileSearchTerm(\"\");\n    setShowMobileMenu(false);\n    if (path.startsWith(\"http\")) {\n      window.open(path, \"_blank\");\n      return;\n    }\n    if (path.includes(\"#\")) {\n      const [pagePath, sectionId] = path.split(\"#\");\n      if (window.location.pathname === pagePath || pagePath === \"/\" && window.location.pathname === \"\") {\n        setTimeout(() => {\n          const element = document.getElementById(sectionId);\n          if (element) {\n            element.scrollIntoView({ behavior: \"smooth\" });\n          }\n        }, 100);\n      } else {\n        navigate(path);\n      }\n    } else {\n      navigate(path);\n    }\n  };\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (searchInputRef.current && searchInputRef.current.contains(event.target)) {\n        return;\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n  const handleNavItemClick = (path) => {\n    setShowMobileMenu(false);\n    navigate(path);\n  };\n  const getMobileMenuItems = () => {\n    return {\n      \"Trải nghiệm\": {\n        title: currentLang === \"en\" ? \"Experience\" : \"Trải nghiệm\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Opening Hours\" : \"Giờ mở cửa\",\n            path: \"/visit\"\n          },\n          {\n            title: currentLang === \"en\" ? \"Map, Entrances & Directions\" : \"Bản đồ, lối vào & chỉ dẫn\",\n            path: \"/museum-map\"\n          },\n          { title: \"Các gói trải nghiệm\", path: \"/visit#tickets\" },\n          { title: \"Thành viên\", path: \"/visit#membership\" },\n          {\n            title: \"Lưu trú trong các căn phòng nghệ thuật\",\n            path: \"/visit-info\"\n          },\n          { title: \"Cuộc sống tại bảo tàng\", path: \"/visit-info#homestay\" },\n          { title: \"Câu hỏi thường gặp\", path: \"/visit-info#faq\" }\n        ]\n      },\n      \"TRIỂN LÃM\": {\n        title: currentLang === \"en\" ? \"Art Stay & Exhibitions\" : \"Lưu trú nghệ thuật và Triển lãm\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Exhibitions\" : \"Triển lãm\",\n            path: \"/exhibitions\"\n          },\n          {\n            title: currentLang === \"en\" ? \"Guided Tours\" : \"Trải nghiệm có hướng dẫn\",\n            path: \"/exhibitions?tab=guided-tours\"\n          },\n          {\n            title: currentLang === \"en\" ? \"Art Stay\" : \"Lưu trú nghệ thuật\",\n            path: \"/luu-tru-nghe-thuat\"\n          }\n        ]\n      },\n      \"KHÁM PHÁ\": {\n        title: currentLang === \"en\" ? \"EXPLORE\" : \"KHÁM PHÁ\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Collections\" : \"Bộ sưu tập\",\n            path: \"/collection\"\n          },\n          { title: \"Tin tức\", path: \"/life-at-the-museum\" },\n          { title: \"Lộ trình tham quan\", path: \"/visitor-trails\" },\n          { title: \"Âm Thanh Đẹp\", path: \"/the-acoustic\" },\n          { title: \"Nghệ thuật vị giác\", path: \"/the-taste\" },\n          {\n            title: \"Không gian nghệ thuật và vườn trong Bảo Tàng\",\n            path: \"/the-place\"\n          }\n        ]\n      },\n      \"XEM THÊM\": {\n        title: \"Trở thành Nhà bảo trợ!\",\n        items: [\n          {\n            title: \"Cửa hàng trực tuyến\",\n            path: \"https://online-museeduphin.netlify.app/\"\n          },\n          {\n            title: \"Ghé thăm cửa hàng trực tuyến của chúng tôi\",\n            path: \"/support\"\n          }\n        ],\n        featured: {\n          title: \"Trở thành Nhà bảo trợ!\",\n          path: \"/support\",\n          image: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n          description: \"Cá nhân, công ty hoặc tổ chức\"\n        }\n      }\n    };\n  };\n  const openMobileSubmenu = (menuType) => {\n    setCurrentMobileSubmenu(menuType);\n    const menuItems = getMobileMenuItems();\n    const currentMenu = menuItems[menuType];\n    if (currentMenu) {\n      setSubmenuItems(currentMenu.items);\n      setSubmenuFeatured(currentMenu.featured);\n      setShowMobileSubmenu(true);\n      if (mobileSubmenuRef.current) {\n        mobileSubmenuRef.current.classList.remove(\"hide\");\n        mobileSubmenuRef.current.classList.add(\"show\");\n      }\n    }\n  };\n  const closeMobileSubmenu = () => {\n    if (mobileSubmenuRef.current) {\n      mobileSubmenuRef.current.classList.remove(\"show\");\n      mobileSubmenuRef.current.classList.add(\"hide\");\n      setTimeout(() => {\n        setShowMobileSubmenu(false);\n      }, 300);\n    } else {\n      setShowMobileSubmenu(false);\n    }\n  };\n  useEffect(() => {\n    navItemsRef.current.forEach((item) => {\n      if (!item) return;\n      const link = item.querySelector(\"a\");\n      const underline = item.querySelector(\".underline\");\n      if (!link || !underline) return;\n      const tl = gsap.timeline({ paused: true });\n      tl.fromTo(\n        underline,\n        {\n          width: \"0%\"\n        },\n        {\n          width: \"30%\",\n          duration: 0.3,\n          ease: \"power2.out\"\n        }\n      );\n      link.addEventListener(\"mouseenter\", () => tl.play());\n      link.addEventListener(\"mouseleave\", () => tl.reverse());\n      return () => {\n        link.removeEventListener(\"mouseenter\", () => tl.play());\n        link.removeEventListener(\"mouseleave\", () => tl.reverse());\n      };\n    });\n    if (seeMoreRef.current) {\n      const underline = seeMoreRef.current.querySelector(\".underline\");\n      if (underline) {\n        const tl = gsap.timeline({ paused: true });\n        tl.fromTo(\n          underline,\n          {\n            width: \"0%\"\n          },\n          {\n            width: \"100%\",\n            duration: 0.3,\n            ease: \"power2.out\"\n          }\n        );\n        seeMoreRef.current.addEventListener(\"mouseenter\", () => tl.play());\n        seeMoreRef.current.addEventListener(\"mouseleave\", () => {\n          if (!showSeeMoreDropdown) {\n            tl.reverse();\n          }\n        });\n        return () => {\n          seeMoreRef.current?.removeEventListener(\n            \"mouseenter\",\n            () => tl.play()\n          );\n          seeMoreRef.current?.removeEventListener(\n            \"mouseleave\",\n            () => tl.reverse()\n          );\n        };\n      }\n    }\n  }, [showSeeMoreDropdown]);\n  useEffect(() => {\n    if (showSearchBox && searchInputRef.current) {\n      searchInputRef.current.focus();\n    }\n  }, [showSearchBox]);\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowSeeMoreDropdown(false);\n      }\n      if (mobileLangDropdownRef.current && !mobileLangDropdownRef.current.contains(event.target)) {\n        setShowMobileMenu(false);\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n  useEffect(() => {\n    if (showSeeMoreDropdown || showMobileMenu || showVisitDropdown || showExhibitionsDropdown || showExploreDropdown) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown\n  ]);\n  const handleSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!searchTerm.trim()) return;\n    performSearch(searchTerm);\n  };\n  const handleMobileSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!mobileSearchTerm.trim()) return;\n    performSearch(mobileSearchTerm);\n  };\n  useEffect(() => {\n    const handleEscKey = (event) => {\n      if (event.key === \"Escape\") {\n        if (showSearchBox) {\n          setShowSearchBox(false);\n        }\n        if (showSeeMoreDropdown) {\n          setShowSeeMoreDropdown(false);\n        }\n        if (showMobileMenu) {\n          setShowMobileMenu(false);\n        }\n        if (showVisitDropdown) {\n          setShowVisitDropdown(false);\n        }\n        if (showExhibitionsDropdown) {\n          setShowExhibitionsDropdown(false);\n        }\n        if (showExploreDropdown) {\n          setShowExploreDropdown(false);\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscKey);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscKey);\n    };\n  }, [\n    showSearchBox,\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown\n  ]);\n  const renderSearchResults = () => {\n    if (!showSearchResults) return null;\n    return /* @__PURE__ */ jsx(\"div\", { className: \"search-results-container\", ref: searchResultsRef, children: /* @__PURE__ */ jsxs(\"div\", { className: \"search-results-list\", children: [\n      /* @__PURE__ */ jsx(\"div\", { className: \"search-results-header\", children: isSearching ? /* @__PURE__ */ jsx(\"div\", { className: \"search-loading\" }) : /* @__PURE__ */ jsxs(\"div\", { className: \"search-results-title\", children: [\n        /* @__PURE__ */ jsx(\"div\", { className: \"search-results-count\", children: `${searchResults.length} kết quả tìm kiếm cho \"${searchTerm || mobileSearchTerm}\"` }),\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            type: \"button\",\n            className: \"search-results-close-button\",\n            onClick: () => setShowSearchResults(false),\n            \"aria-label\": \"Đóng kết quả tìm kiếm\",\n            children: /* @__PURE__ */ jsx(CloseIcon, {})\n          }\n        )\n      ] }) }),\n      isSearching ? /* @__PURE__ */ jsx(\"div\", { className: \"search-loading\" }) : searchResults.length > 0 ? /* @__PURE__ */ jsx(\"div\", { className: \"search-results-items\", children: searchResults.map((result) => /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: `search-result-item ${result.path.includes(\"#\") ? \"section-link\" : \"\"}`,\n          onClick: () => handleSearchResultClick(result.path),\n          children: [\n            /* @__PURE__ */ jsx(\n              \"img\",\n              {\n                src: result.image,\n                alt: result.title,\n                loading: \"lazy\",\n                className: \"search-result-image\"\n              }\n            ),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"search-result-content\", children: [\n              /* @__PURE__ */ jsx(\"h4\", { className: \"search-result-title\", children: result.title }),\n              /* @__PURE__ */ jsx(\"p\", { className: \"search-result-description\", children: result.description }),\n              /* @__PURE__ */ jsx(\"span\", { className: \"search-result-category\", children: result.category })\n            ] })\n          ]\n        },\n        result.id\n      )) }) : /* @__PURE__ */ jsxs(\"div\", { className: \"search-no-results\", children: [\n        /* @__PURE__ */ jsx(\"h3\", { children: \"Không tìm thấy kết quả\" }),\n        /* @__PURE__ */ jsx(\"p\", { children: \"Chúng tôi không thể tìm thấy kết quả nào cho tìm kiếm của bạn. Vui lòng thử từ khóa khác.\" })\n      ] })\n    ] }) });\n  };\n  useEffect(() => {\n    const handleMobileMenuShow = () => {\n      setShowMobileMenu(true);\n    };\n    const handleMobileMenuHide = () => {\n      setShowMobileMenu(false);\n    };\n    const mobileMenuOverlay = document.querySelector(\".mobile-menu-overlay\");\n    if (mobileMenuOverlay) {\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (mutation.type === \"attributes\" && mutation.attributeName === \"class\") {\n            if (mobileMenuOverlay.classList.contains(\"show\")) {\n              handleMobileMenuShow();\n            } else {\n              handleMobileMenuHide();\n            }\n          }\n        });\n      });\n      observer.observe(mobileMenuOverlay, {\n        attributes: true\n      });\n      return () => observer.disconnect();\n    }\n  }, []);\n  useEffect(() => {\n    const handleOpenNavDropdown = (event) => {\n      const dropdownType = event.detail.type;\n      setShowVisitDropdown(false);\n      setShowExhibitionsDropdown(false);\n      setShowExploreDropdown(false);\n      setShowSeeMoreDropdown(false);\n      setShowMobileMenu(false);\n      window.scrollTo(0, 0);\n      switch (dropdownType) {\n        case \"KHÁM PHÁ\":\n          setShowExploreDropdown(true);\n          break;\n        case \"Trải nghiệm\":\n          setShowVisitDropdown(true);\n          break;\n        default:\n          break;\n      }\n    };\n    window.addEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    return () => {\n      window.removeEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    };\n  }, []);\n  useEffect(() => {\n    const gtSettings = document.createElement(\"script\");\n    gtSettings.innerHTML = `window.gtranslateSettings = {\n      \"default_language\": \"vi\",\n      \"native_language_names\": true,\n      \"detect_browser_language\": true,\n      \"languages\": [\"vi\",\"en\"],\n      \"wrapper_selector\": \".gtranslate_wrapper\"\n    }`;\n    document.head.appendChild(gtSettings);\n    const gtScript = document.createElement(\"script\");\n    gtScript.src = \"https://cdn.gtranslate.net/widgets/latest/ln.js\";\n    gtScript.defer = true;\n    document.head.appendChild(gtScript);\n    return () => {\n      document.head.removeChild(gtSettings);\n      document.head.removeChild(gtScript);\n    };\n  }, []);\n  const renderContent = (content) => {\n    if (!content) return null;\n    if (React.isValidElement(content)) {\n      return content;\n    }\n    if (typeof content === \"string\") {\n      if (content.includes(\"Musée Du Pin\")) {\n        return /* @__PURE__ */ jsx(Fragment, { children: content.split(\"Musée Du Pin\").map((part, index, array) => /* @__PURE__ */ jsxs(React.Fragment, { children: [\n          part,\n          index < array.length - 1 && /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" })\n        ] }, index)) });\n      }\n      return content;\n    }\n    return content;\n  };\n  useEffect(() => {\n    document.title = `Musée Du Pin - ${currentMobileSubmenu || \"Trang chủ\"}`;\n  }, [currentMobileSubmenu]);\n  return /* @__PURE__ */ jsxs(\"header\", { className: \"navbar-container\", children: [\n    /* @__PURE__ */ jsxs(\"div\", { className: \"navbar-top\", children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"left-section\", children: [\n        /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            className: \"search-container\",\n            onClick: () => setShowSearchBox(true),\n            children: [\n              /* @__PURE__ */ jsx(SearchIcon, {}),\n              /* @__PURE__ */ jsx(\"span\", { children: \"Tìm kiếm\" })\n            ]\n          }\n        ),\n        /* @__PURE__ */ jsx(\"div\", { className: \"gtranslate_wrapper\" })\n      ] }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"logo-containers\", children: /* @__PURE__ */ jsx(Link, { to: \"/\", children: /* @__PURE__ */ jsx(\n        \"img\",\n        {\n          className: \"logo notranslate\",\n          src: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\",\n          alt: \"Musée Du Pin\",\n          loading: \"lazy\"\n        }\n      ) }) }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"desktop-right-section\", children: [\n        /* @__PURE__ */ jsxs(\"div\", { className: \"buttons-container\", children: [\n          /* @__PURE__ */ jsx(\n            Link,\n            {\n              to: \"https://online-museeduphin.netlify.app/\",\n              className: \"btn btn-outline\",\n              children: /* @__PURE__ */ jsx(BoutiqueIcon, {})\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            Link,\n            {\n              to: \"https://ticket-museeduphin.netlify.app/\",\n              className: \"btn btn-filled\",\n              children: /* @__PURE__ */ jsx(TicketIcon, {})\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsx(\n          \"div\",\n          {\n            className: \"menu-toggle\",\n            onClick: () => setShowSearchBox(!showSearchBox),\n            children: /* @__PURE__ */ jsx(MenuIcon, {})\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-logo\", children: [\n        /* @__PURE__ */ jsx(\"div\", { onClick: () => setShowMobileMenu(true), children: /* @__PURE__ */ jsx(\n          \"img\",\n          {\n            src: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\",\n            alt: \"Musée Du Pin\",\n            className: \"mobile-logo-image notranslate\",\n            loading: \"lazy\"\n          }\n        ) }),\n        /* @__PURE__ */ jsx(\"a\", { href: \"/\", children: /* @__PURE__ */ jsx(\"span\", { className: \"museum-name-mobile notranslate\", children: \"Musée Du Pin\" }) })\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"right-section\", children: [\n        /* @__PURE__ */ jsx(\n          Link,\n          {\n            to: \"https://online-museeduphin.netlify.app/\",\n            className: \"btn btn-outline\",\n            children: /* @__PURE__ */ jsx(BoutiqueIcon, {})\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          Link,\n          {\n            to: \"https://ticket-museeduphin.netlify.app/\",\n            className: \"btn btn-outline\",\n            children: /* @__PURE__ */ jsx(TicketIcon, {})\n          }\n        )\n      ] })\n    ] }),\n    /* @__PURE__ */ jsx(\"div\", { className: \"divider\" }),\n    /* @__PURE__ */ jsxs(\"div\", { className: \"navbar-bottom\", children: [\n      /* @__PURE__ */ jsx(\"nav\", { className: \"main-nav\", children: /* @__PURE__ */ jsxs(\"ul\", { children: [\n        /* @__PURE__ */ jsx(\n          \"li\",\n          {\n            className: \"nav-item\",\n            ref: (el) => {\n              navItemsRef.current[0] = el;\n              visitRef.current = el;\n            },\n            children: /* @__PURE__ */ jsxs(\n              Link,\n              {\n                onClick: (e) => {\n                  e.preventDefault();\n                  if (showVisitDropdown) {\n                    setShowVisitDropdown(false);\n                  } else {\n                    setShowVisitDropdown(true);\n                    setShowExhibitionsDropdown(false);\n                    setShowExploreDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                },\n                children: [\n                  \"Trải nghiệm\",\n                  /* @__PURE__ */ jsx(\"div\", { className: \"underline\" })\n                ]\n              }\n            )\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          \"li\",\n          {\n            className: \"nav-item\",\n            ref: (el) => {\n              navItemsRef.current[1] = el;\n              exhibitionsRef.current = el;\n            },\n            children: /* @__PURE__ */ jsxs(\n              Link,\n              {\n                onClick: (e) => {\n                  e.preventDefault();\n                  if (showExhibitionsDropdown) {\n                    setShowExhibitionsDropdown(false);\n                  } else {\n                    setShowExhibitionsDropdown(true);\n                    setShowVisitDropdown(false);\n                    setShowExploreDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                },\n                children: [\n                  \"Lưu trú nghệ thuật và Triển lãm\",\n                  /* @__PURE__ */ jsx(\"div\", { className: \"underline\" })\n                ]\n              }\n            )\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          \"li\",\n          {\n            className: \"nav-item\",\n            ref: (el) => {\n              navItemsRef.current[2] = el;\n              exploreRef.current = el;\n            },\n            children: /* @__PURE__ */ jsxs(\n              Link,\n              {\n                onClick: (e) => {\n                  e.preventDefault();\n                  if (showExploreDropdown) {\n                    setShowExploreDropdown(false);\n                  } else {\n                    setShowExploreDropdown(true);\n                    setShowVisitDropdown(false);\n                    setShowExhibitionsDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                },\n                children: [\n                  \"KHÁM PHÁ\",\n                  /* @__PURE__ */ jsx(\"div\", { className: \"underline\" })\n                ]\n              }\n            )\n          }\n        )\n      ] }) }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"vertical-divider\" }),\n      /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: \"see-more\",\n          ref: seeMoreRef,\n          onClick: () => {\n            if (showSeeMoreDropdown) {\n              setShowSeeMoreDropdown(false);\n            } else {\n              setShowSeeMoreDropdown(true);\n              setShowVisitDropdown(false);\n              setShowExhibitionsDropdown(false);\n              setShowExploreDropdown(false);\n            }\n          },\n          children: [\n            /* @__PURE__ */ jsx(\"span\", { children: \"XEM THÊM\" }),\n            /* @__PURE__ */ jsx(MenuIcon, {}),\n            /* @__PURE__ */ jsx(\"div\", { className: \"underline\" })\n          ]\n        }\n      )\n    ] }),\n    showSearchBox && /* @__PURE__ */ jsx(\"div\", { className: \"search-below-navbar\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"search-box-container\", children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"search-box-inner\", children: [\n        /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            className: `search-input-wrapper ${isFocused || searchTerm ? \"has-value\" : \"\"}`,\n            children: [\n              /* @__PURE__ */ jsx(SearchIcon, {}),\n              /* @__PURE__ */ jsx(\"div\", { className: \"search-input-label\", children: \"Tìm kiếm\" }),\n              /* @__PURE__ */ jsx(\n                \"input\",\n                {\n                  type: \"text\",\n                  placeholder: isFocused ? \"\" : \"Tìm kiếm\",\n                  value: searchTerm,\n                  onChange: handleSearchInputChange,\n                  onFocus: () => setIsFocused(true),\n                  onBlur: () => setIsFocused(false),\n                  ref: searchInputRef,\n                  className: \"search-input\"\n                }\n              )\n            ]\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            type: \"button\",\n            className: `search-submit-button ${searchTerm.trim() ? \"active\" : \"\"}`,\n            onClick: handleSearch,\n            \"aria-label\": \"Submit search\",\n            disabled: !searchTerm.trim(),\n            children: /* @__PURE__ */ jsx(ArrowRightIcon, {})\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          type: \"button\",\n          className: \"search-close-button\",\n          onClick: () => {\n            setShowSearchBox(false);\n          },\n          \"aria-label\": \"Close search\",\n          children: /* @__PURE__ */ jsx(CloseIcon, {})\n        }\n      ),\n      renderSearchResults()\n    ] }) }),\n    showSeeMoreDropdown && /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: \"dropdown-container see-more-dropdown\",\n        onClick: (e) => e.stopPropagation(),\n        children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-content\", children: [\n          /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-header\", children: /* @__PURE__ */ jsx(\n            \"button\",\n            {\n              type: \"button\",\n              className: \"dropdown-close-button\",\n              onClick: () => setShowSeeMoreDropdown(false),\n              \"aria-label\": \"Close dropdown\",\n              children: /* @__PURE__ */ jsx(CloseDropdownIcon, {})\n            }\n          ) }),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-main-content\", children: [\n            /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-left-section\", children: [\n              /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-menu-section\", children: [\n                /* @__PURE__ */ jsx(\"h3\", { children: \"Cửa hàng trực tuyến\" }),\n                /* @__PURE__ */ jsx(\n                  Link,\n                  {\n                    to: \"https://online-museeduphin.netlify.app/\",\n                    className: \"dropdown-link\",\n                    onClick: () => setShowSeeMoreDropdown(false),\n                    children: \"Ghé thăm cửa hàng trực tuyến của chúng tôi\"\n                  }\n                )\n              ] }),\n              /* @__PURE__ */ jsxs(\n                \"div\",\n                {\n                  className: \"dropdown-menu-section\",\n                  style: { marginTop: \"30px\" },\n                  children: [\n                    /* @__PURE__ */ jsxs(\"h3\", { children: [\n                      \"Hỗ trợ \",\n                      \" \",\n                      \" \",\n                      /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" })\n                    ] }),\n                    /* @__PURE__ */ jsx(\n                      Link,\n                      {\n                        to: \"/support\",\n                        className: \"dropdown-link\",\n                        onClick: () => setShowSeeMoreDropdown(false),\n                        children: \"Cá nhân, công ty hoặc tổ chức\"\n                      }\n                    )\n                  ]\n                }\n              )\n            ] }),\n            /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-right-section\", children: /* @__PURE__ */ jsx(\n              \"img\",\n              {\n                src: \"https://ik.imagekit.io/8u8lkoqkkm/image(4).png?updatedAt=1749394995088\",\n                alt: \"Support\",\n                loading: \"lazy\",\n                className: \"dropdown-image\"\n              }\n            ) })\n          ] })\n        ] })\n      }\n    ),\n    showVisitDropdown && /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: \"dropdown-container visit-dropdown\",\n        onClick: (e) => e.stopPropagation(),\n        children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-content\", children: [\n          /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-header\", children: /* @__PURE__ */ jsx(\n            \"button\",\n            {\n              type: \"button\",\n              className: \"dropdown-close-button\",\n              onClick: () => setShowVisitDropdown(false),\n              \"aria-label\": \"Close dropdown\",\n              children: /* @__PURE__ */ jsx(CloseDropdownIcon, {})\n            }\n          ) }),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-main-content\", children: [\n            /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-left-section\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-menu-section\", children: [\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/visit\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowVisitDropdown(false),\n                  children: \"Giờ mở cửa\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/museum-map\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowVisitDropdown(false),\n                  children: \"Bản đồ, lối vào & chỉ dẫn\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/visit#tickets\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowVisitDropdown(false),\n                  children: \"Các gói trải nghiệm\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/visit#membership\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowVisitDropdown(false),\n                  children: \"Thành viên\"\n                }\n              )\n            ] }) }),\n            /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-middle-section\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-menu-section\", children: [\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/visit-info\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowVisitDropdown(false),\n                  children: \"Lưu trú trong các căn phòng nghệ thuật\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/visit-info#homestay\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowVisitDropdown(false),\n                  children: \"Cuộc sống tại bảo tàng\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/visit-info#faq\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowVisitDropdown(false),\n                  children: \"Câu hỏi thường gặp\"\n                }\n              )\n            ] }) }),\n            /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-right-section\", children: [\n              /* @__PURE__ */ jsx(\n                \"img\",\n                {\n                  src: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n                  alt: \"Chuẩn bị cho chuyến tham quan\",\n                  loading: \"lazy\",\n                  className: \"dropdown-image\"\n                }\n              ),\n              /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-image-caption\", children: [\n                /* @__PURE__ */ jsxs(\n                  Link,\n                  {\n                    to: \"/visit-info\",\n                    className: \"dropdown-title-link\",\n                    onClick: () => setShowVisitDropdown(false),\n                    children: [\n                      \"Chuẩn bị cho chuyến tham quan\",\n                      /* @__PURE__ */ jsxs(\n                        \"svg\",\n                        {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          children: [\n                            /* @__PURE__ */ jsx(\"path\", { d: \"M5 12h14\" }),\n                            /* @__PURE__ */ jsx(\"path\", { d: \"M12 5l7 7-7 7\" })\n                          ]\n                        }\n                      )\n                    ]\n                  }\n                ),\n                /* @__PURE__ */ jsx(\"p\", { className: \"dropdown-description\", children: \"Tất cả những điều bạn cần biết trước khi tham quan bảo tàng\" })\n              ] })\n            ] })\n          ] })\n        ] })\n      }\n    ),\n    showExhibitionsDropdown && /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: \"dropdown-container exhibitions-dropdown\",\n        onClick: (e) => e.stopPropagation(),\n        children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-content\", children: [\n          /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-header\", children: /* @__PURE__ */ jsx(\n            \"button\",\n            {\n              type: \"button\",\n              className: \"dropdown-close-button\",\n              onClick: () => setShowExhibitionsDropdown(false),\n              \"aria-label\": \"Close dropdown\",\n              children: /* @__PURE__ */ jsx(CloseDropdownIcon, {})\n            }\n          ) }),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-main-content\", children: [\n            /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-left-section\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-menu-section\", children: [\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/exhibitions\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExhibitionsDropdown(false),\n                  children: \"Triển lãm\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/exhibitions?tab=guided-tours\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExhibitionsDropdown(false),\n                  children: \"Trải nghiệm có hướng dẫn\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/luu-tru-nghe-thuat\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExhibitionsDropdown(false),\n                  children: \"Lưu trú nghệ thuật\"\n                }\n              )\n            ] }) }),\n            /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-right-section\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"exhibition-feature\", children: [\n              /* @__PURE__ */ jsxs(\"div\", { className: \"exhibition-feature-image\", children: [\n                /* @__PURE__ */ jsx(\n                  \"img\",\n                  {\n                    src: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n                    alt: \"Another Musée Du Pin\",\n                    loading: \"lazy\"\n                  }\n                ),\n                /* @__PURE__ */ jsxs(\"div\", { className: \"feature-tag\", children: [\n                  \"Một \",\n                  /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" }),\n                  \" khác\"\n                ] })\n              ] }),\n              /* @__PURE__ */ jsxs(\n                Link,\n                {\n                  to: \"/exhibitions?tab=guided-tours\",\n                  className: \"exhibition-feature-title\",\n                  onClick: () => setShowExhibitionsDropdown(false),\n                  children: [\n                    /* @__PURE__ */ jsx(\"span\", { className: \"text-left\", children: \"Một\" }),\n                    \" \",\n                    /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" }),\n                    \" \",\n                    /* @__PURE__ */ jsx(\"span\", { className: \"text-right\", children: \"khác\" }),\n                    /* @__PURE__ */ jsxs(\n                      \"svg\",\n                      {\n                        width: \"16\",\n                        height: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        children: [\n                          /* @__PURE__ */ jsx(\"path\", { d: \"M5 12h14\" }),\n                          /* @__PURE__ */ jsx(\"path\", { d: \"M12 5l7 7-7 7\" })\n                        ]\n                      }\n                    )\n                  ]\n                }\n              ),\n              /* @__PURE__ */ jsxs(\"p\", { className: \"exhibition-feature-description\", children: [\n                \"Tận hưởng chuyến tham quan tránh xa đám đông và khám phá những kho báu ít người biết đến và khung cảnh tuyệt đẹp của một \",\n                /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" }),\n                \" khác\"\n              ] })\n            ] }) })\n          ] })\n        ] })\n      }\n    ),\n    showExploreDropdown && /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: \"dropdown-container explore-dropdown\",\n        onClick: (e) => e.stopPropagation(),\n        children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-content\", children: [\n          /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-header\", children: /* @__PURE__ */ jsx(\n            \"button\",\n            {\n              type: \"button\",\n              className: \"dropdown-close-button\",\n              onClick: () => setShowExploreDropdown(false),\n              \"aria-label\": \"Close dropdown\",\n              children: /* @__PURE__ */ jsx(CloseDropdownIcon, {})\n            }\n          ) }),\n          /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-main-content\", children: [\n            /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-left-section\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"dropdown-menu-section\", children: [\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/collection\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExploreDropdown(false),\n                  children: \"Bộ sưu tập\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/life-at-the-museum\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExploreDropdown(false),\n                  children: \"Tin tức\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/visitor-trails\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExploreDropdown(false),\n                  children: \"Lộ trình tham quan\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/the-acoustic\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExploreDropdown(false),\n                  children: \"Âm Thanh Đẹp\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/the-taste\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExploreDropdown(false),\n                  children: \"Nghệ thuật vị giác\"\n                }\n              ),\n              /* @__PURE__ */ jsx(\n                Link,\n                {\n                  to: \"/the-place\",\n                  className: \"dropdown-link\",\n                  onClick: () => setShowExploreDropdown(false),\n                  children: \"Không gian nghệ thuật và vườn trong Bảo Tàng\"\n                }\n              )\n            ] }) }),\n            /* @__PURE__ */ jsx(\"div\", { className: \"dropdown-right-section\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"exhibition-feature\", children: [\n              /* @__PURE__ */ jsxs(\"div\", { className: \"exhibition-feature-image\", children: [\n                /* @__PURE__ */ jsx(\n                  \"img\",\n                  {\n                    src: \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n                    alt: \"Highlights\",\n                    loading: \"lazy\"\n                  }\n                ),\n                /* @__PURE__ */ jsx(\"div\", { className: \"feature-tag\", children: \"Điểm nổi bật\" })\n              ] }),\n              /* @__PURE__ */ jsxs(\n                Link,\n                {\n                  to: \"/visitor-trails\",\n                  className: \"exhibition-feature-title\",\n                  onClick: () => setShowExploreDropdown(false),\n                  children: [\n                    \"Điểm nổi bật\",\n                    /* @__PURE__ */ jsxs(\n                      \"svg\",\n                      {\n                        width: \"16\",\n                        height: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        children: [\n                          /* @__PURE__ */ jsx(\"path\", { d: \"M5 12h14\" }),\n                          /* @__PURE__ */ jsx(\"path\", { d: \"M12 5l7 7-7 7\" })\n                        ]\n                      }\n                    )\n                  ]\n                }\n              ),\n              /* @__PURE__ */ jsx(\"p\", { className: \"exhibition-feature-description\", children: \"Các tác phẩm nổi bật\" })\n            ] }) })\n          ] })\n        ] })\n      }\n    ),\n    /* @__PURE__ */ jsxs(\"div\", { className: `mobile-menu-overlay ${showMobileMenu ? \"show\" : \"\"}`, children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-menu-header\", children: [\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            className: \"mobile-close-button\",\n            onClick: () => setShowMobileMenu(false),\n            \"aria-label\": \"Close menu\",\n            children: /* @__PURE__ */ jsx(CloseIcon, {})\n          }\n        ),\n        /* @__PURE__ */ jsx(\"div\", { className: \"gtranslate_wrapper mobile\" })\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-search\", children: [\n        /* @__PURE__ */ jsx(\"form\", { onSubmit: handleMobileSearch, children: /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-search-input\", children: [\n          /* @__PURE__ */ jsx(\n            \"input\",\n            {\n              type: \"text\",\n              placeholder: \"Tìm kiếm\",\n              value: mobileSearchTerm,\n              onChange: handleMobileSearchInputChange\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            \"button\",\n            {\n              type: \"submit\",\n              className: \"mobile-search-button\",\n              disabled: !mobileSearchTerm.trim(),\n              children: /* @__PURE__ */ jsx(ArrowRightIcon, {})\n            }\n          )\n        ] }) }),\n        renderSearchResults()\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-nav-links\", children: [\n        /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            className: \"mobile-nav-item\",\n            onClick: () => openMobileSubmenu(\"Trải nghiệm\"),\n            children: [\n              \"Trải nghiệm\",\n              /* @__PURE__ */ jsx(ChevronRight, {})\n            ]\n          }\n        ),\n        /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            className: \"mobile-nav-item\",\n            onClick: () => openMobileSubmenu(\"TRIỂN LÃM\"),\n            children: [\n              \"Lưu trú nghệ thuật và Triển lãm\",\n              /* @__PURE__ */ jsx(ChevronRight, {})\n            ]\n          }\n        ),\n        /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            className: \"mobile-nav-item\",\n            onClick: () => openMobileSubmenu(\"KHÁM PHÁ\"),\n            children: [\n              \"KHÁM PHÁ\",\n              /* @__PURE__ */ jsx(ChevronRight, {})\n            ]\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"mobile-nav-divider\" }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-secondary-links\", children: [\n        /* @__PURE__ */ jsx(\n          \"div\",\n          {\n            className: \"mobile-secondary-item\",\n            onClick: () => handleNavItemClick(\"/boutique\"),\n            children: \"Cửa hàng Lưu niệm\"\n          }\n        ),\n        /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            className: \"mobile-secondary-item\",\n            onClick: () => handleNavItemClick(\"/support\"),\n            children: [\n              \"Hỗ trợ \",\n              \" \",\n              \" \",\n              /* @__PURE__ */ jsx(\"span\", { className: \"notranslate\", children: \"Musée Du Pin\" })\n            ]\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"mobile-social-icons\", children: [\n        /* @__PURE__ */ jsx(\n          \"a\",\n          {\n            href: \"https://www.facebook.com/BaoTangThongDalat\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"social-icon\",\n            \"aria-label\": \"Facebook\",\n            onClick: () => setShowMobileMenu(false),\n            children: /* @__PURE__ */ jsx(FacebookIcon, {})\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          \"a\",\n          {\n            href: \"https://www.tiktok.com/@baotangthongdalat?_t=ZS-8wcfw9TGrnm&_r=1\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"social-icon\",\n            \"aria-label\": \"TikTok\",\n            onClick: () => setShowMobileMenu(false),\n            children: /* @__PURE__ */ jsx(TikTokIcon, {})\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          \"a\",\n          {\n            href: \"https://www.youtube.com/channel/UCyxLbhgBPZ3KnGD_KeLCo9A\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"social-icon\",\n            \"aria-label\": \"YouTube\",\n            onClick: () => setShowMobileMenu(false),\n            children: /* @__PURE__ */ jsx(YoutubeIcon, {})\n          }\n        )\n      ] })\n    ] }),\n    showMobileSubmenu && /* @__PURE__ */ jsxs(\n      \"div\",\n      {\n        className: `mobile-submenu ${showMobileSubmenu ? \"show\" : \"hide\"}`,\n        ref: mobileSubmenuRef,\n        children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"submenu-header\", children: [\n            /* @__PURE__ */ jsxs(\n              \"button\",\n              {\n                className: \"back-buttonss\",\n                onClick: closeMobileSubmenu,\n                \"aria-label\": \"Back to main menu\",\n                children: [\n                  /* @__PURE__ */ jsx(\n                    \"svg\",\n                    {\n                      width: \"24\",\n                      height: \"24\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      children: /* @__PURE__ */ jsx(\"path\", { d: \"M15 18l-6-6 6-6\" })\n                    }\n                  ),\n                  \"Quay lại\"\n                ]\n              }\n            ),\n            /* @__PURE__ */ jsx(\"h2\", { className: \"submenu-title\", children: currentMobileSubmenu })\n          ] }),\n          /* @__PURE__ */ jsx(\"div\", { className: \"submenu-items\", children: submenuItems.map((item, index) => /* @__PURE__ */ jsxs(\n            Link,\n            {\n              to: item.path,\n              className: \"submenu-item\",\n              onClick: () => {\n                setShowMobileSubmenu(false);\n                setShowMobileMenu(false);\n              },\n              children: [\n                item.title,\n                /* @__PURE__ */ jsx(ChevronRight, {})\n              ]\n            },\n            index\n          )) }),\n          submenuFeatured && /* @__PURE__ */ jsxs(\"div\", { className: \"submenu-featured\", children: [\n            /* @__PURE__ */ jsxs(\n              Link,\n              {\n                to: submenuFeatured.path,\n                className: \"featured-title\",\n                onClick: () => {\n                  setShowMobileSubmenu(false);\n                  setShowMobileMenu(false);\n                },\n                children: [\n                  renderContent(submenuFeatured.title),\n                  /* @__PURE__ */ jsxs(\n                    \"svg\",\n                    {\n                      width: \"16\",\n                      height: \"16\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      children: [\n                        /* @__PURE__ */ jsx(\"path\", { d: \"M5 12h14\" }),\n                        /* @__PURE__ */ jsx(\"path\", { d: \"M12 5l7 7-7 7\" })\n                      ]\n                    }\n                  )\n                ]\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              \"img\",\n              {\n                src: submenuFeatured.image,\n                alt: typeof submenuFeatured.title === \"string\" ? submenuFeatured.title : \"Featured content\",\n                loading: \"lazy\",\n                className: \"featured-image\"\n              }\n            ),\n            /* @__PURE__ */ jsx(\"p\", { className: \"featured-description\", children: renderContent(submenuFeatured.description) })\n          ] })\n        ]\n      }\n    )\n  ] });\n};\nexport default Navbar;\n",
      "start": 1751470574160,
      "end": 1751470574349,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "C:/Users/.Freelancer/MUSSEEDUPIN/src/components/Navbar/Navbar.jsx"
        ],
        "sourcesContent": [
          "import gsap from \"gsap\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  FaArrowRight,\n  FaBars,\n  FaChevronDown,\n  FaChevronRight,\n  FaChevronUp,\n  FaFacebook,\n  FaGift,\n  FaInstagram,\n  FaSearch,\n  FaShoppingBag,\n  FaTicketAlt,\n  FaTimes,\n  FaYoutube,\n} from \"react-icons/fa\";\nimport { SiTiktok } from \"react-icons/si\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"../../contexts/TranslationContext\";\nimport \"./Navbar.css\";\n\n// Icon components using react-icons\nconst SearchIcon = () => <FaSearch size={16} />;\nconst ChevronDown = () => <FaChevronDown size={14} />;\nconst ChevronRight = () => <FaChevronRight size={16} />;\nconst MenuIcon = () => (\n  <div className=\"menu-icon\">\n    <div className=\"line\"></div>\n    <div className=\"line\"></div>\n    <div className=\"line\"></div>\n  </div>\n);\nconst HamburgerIcon = () => <FaBars size={24} />;\nconst ArrowRightIcon = () => <FaArrowRight size={20} />;\nconst CloseIcon = () => <FaTimes size={24} />;\nconst BoutiqueIcon = () => <FaShoppingBag className=\"btn-icon\" />;\nconst TicketIcon = () => <FaTicketAlt className=\"btn-icon\" />;\nconst CloseDropdownIcon = () => <FaTimes size={24} />;\nconst PatronIcon = () => <FaGift size={24} />;\n\n// Social media icons\nconst FacebookIcon = () => <FaFacebook size={18} />;\nconst InstagramIcon = () => <FaInstagram size={18} />;\nconst TikTokIcon = () => <SiTiktok size={18} />;\nconst YoutubeIcon = () => <FaYoutube size={18} />;\nconst ChevronUp = () => <FaChevronUp size={14} />;\n\n// Comprehensive search data - scans all content in the project\nconst searchData = [\n  // Visit page sections\n  {\n    id: 1,\n    title: \"Giờ mở cửa & vé vào cửa\",\n    description: \"Thông tin về giờ mở cửa và vé vào cửa bảo tàng\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/visit#hours\",\n  },\n  {\n    id: 2,\n    title: \"Giá vé\",\n    description: \"Thông tin về giá vé và các loại vé\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/visit#tickets\",\n  },\n  {\n    id: 3,\n    title: \"Thành viên\",\n    description: \"Thông tin về chương trình thành viên và đặc quyền\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visit#membership\",\n  },\n  {\n    id: 4,\n    title: \"Nội quy tham quan\",\n    description: \"Quy định và nội quy khi tham quan bảo tàng\",\n    category: \"Trải nghiệm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\",\n    path: \"/visitor-rules\",\n  },\n\n  // Exhibitions sections\n  {\n    id: 5,\n    title: \"Triển lãm\",\n    description: \"Các triển lãm hiện tại và sắp tới\",\n    category: \"Triển lãm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions\",\n  },\n  {\n    id: 6,\n    title: \"Trải nghiệm có hướng dẫn\",\n    description: \"Các tour tham quan có hướng dẫn viên\",\n    category: \"Triển lãm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784685/collections/N%E1%BB%93i%20%C4%90%E1%BA%A5t.webp\",\n    path: \"/exhibitions?tab=guided-tours\",\n  },\n\n  // Explore sections\n  {\n    id: 7,\n    title: \"Bộ sưu tập\",\n    description: \"Khám phá bộ sưu tập nghệ thuật của bảo tàng\",\n    category: \"Khám phá\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748932455/hiavdsldaipshiwsfq8s.png\",\n    path: \"/collection\",\n  },\n  {\n    id: 8,\n    title: \"Lộ trình tham quan\",\n    description: \"Các lộ trình tham quan được đề xuất\",\n    category: \"Khám phá\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\",\n    path: \"/visitor-trails\",\n  },\n\n  // Support sections\n  {\n    id: 10,\n    title: \"Hỗ trợ khách tham quan\",\n    description: \"Thông tin hỗ trợ và hướng dẫn cho khách tham quan\",\n    category: \"Hỗ trợ\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support\",\n  },\n  {\n    id: 11,\n    title: \"FAQ\",\n    description: \"Câu hỏi thường gặp và giải đáp\",\n    category: \"Hỗ trợ\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/visit-info#faq\",\n  },\n  {\n    id: 12,\n    title: \"Trở thành Nhà bảo trợ\",\n    description: \"Thông tin về chương trình bảo trợ bảo tàng\",\n    category: \"Hỗ trợ\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"/support#patron\",\n  },\n\n  // Shop sections\n  {\n    id: 13,\n    title: \"Cửa hàng trực tuyến\",\n    description: \"Mua sắm các sản phẩm lưu niệm từ bảo tàng\",\n    category: \"Mua sắm\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n    path: \"https://online-museeduphin.netlify.app/\",\n  },\n\n  // Add room search data\n  {\n    id: \"room-traditional\",\n    title: \"The ChildHood\",\n    description:\n      \"Nhà ở địa phương đích thực với trang trí truyền thống và bữa ăn tự nấu.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechillhood.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-modern\",\n    title: \"White Bauhunia\",\n    description:\n      \"Căn hộ sang trọng với đầy đủ tiện nghi, cách bảo tàng 10 phút đi bộ.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/whitebauhinia.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-luxury\",\n    title: \"The chill 1\",\n    description:\n      \"Biệt thự tuyệt đẹp với vườn riêng, dịch vụ cao cấp và view thành phố ngoạn mục.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechill1.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget1\",\n    title: \"The Chill 2\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thechill2.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget2\",\n    title: \"The Memory\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thememory.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget3\",\n    title: \"The Sunset\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thesunset.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n  {\n    id: \"room-budget4\",\n    title: \"The Train\",\n    description:\n      \"Phòng riêng thoải mái và giá cả phải chăng trong căn hộ chung gần phương tiện công cộng.\",\n    category: \"Lưu trú\",\n    image:\n      \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748840047/collections/thetrain.jpg\",\n    path: \"/visit-info#homestay\",\n  },\n\n  // Add notranslate to all Musée Du Pin mentions in descriptions\n  {\n    id: \"exhibition-feature\",\n    title: (\n      <>\n        Một <span className=\"notranslate\">Musée Du Pin</span> khác\n      </>\n    ),\n    description: (\n      <>\n        Tận hưởng chuyến tham quan tránh xa đám đông và khám phá những kho báu\n        ít người biết đến và khung cảnh tuyệt đẹp của một{\" \"}\n        <span className=\"notranslate\">Musée Du Pin</span> khác\n      </>\n    ),\n    category: \"Triển lãm\",\n    image:\n      \"https://ik.imagekit.io/8u8lkoqkkm/V%C3%A9%20Th%C3%B4ng%20H%C3%A0nh.png?updatedAt=1750336796162\",\n    path: \"/exhibitions?tab=guided-tours\",\n  },\n];\n\nconst Navbar = () => {\n  const { currentLang } = useTranslation();\n  const [showSearchBox, setShowSearchBox] = useState(false);\n  const [showSeeMoreDropdown, setShowSeeMoreDropdown] = useState(false);\n  const [showVisitDropdown, setShowVisitDropdown] = useState(false);\n  const [showExhibitionsDropdown, setShowExhibitionsDropdown] = useState(false);\n  const [showExploreDropdown, setShowExploreDropdown] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [mobileSearchTerm, setMobileSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [showSearchResults, setShowSearchResults] = useState(false);\n\n  // Mobile submenu states\n  const [showMobileSubmenu, setShowMobileSubmenu] = useState(false);\n  const [currentMobileSubmenu, setCurrentMobileSubmenu] = useState(\"\");\n  const [submenuItems, setSubmenuItems] = useState([]);\n  const [submenuFeatured, setSubmenuFeatured] = useState(null);\n\n  const navigate = useNavigate();\n  const navItemsRef = useRef([]);\n  const dropdownRef = useRef(null);\n  const mobileLangDropdownRef = useRef(null);\n  const seeMoreRef = useRef(null);\n  const visitRef = useRef(null);\n  const exhibitionsRef = useRef(null);\n  const exploreRef = useRef(null);\n  const searchInputRef = useRef(null);\n  const mobileSubmenuRef = useRef(null);\n  const searchResultsRef = useRef(null);\n\n  // Handle search functionality\n  const handleSearchInputChange = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n\n  // Mobile search input change handler\n  const handleMobileSearchInputChange = (e) => {\n    const value = e.target.value;\n    setMobileSearchTerm(value);\n\n    if (value.trim().length > 1) {\n      performSearch(value);\n    } else {\n      setSearchResults([]);\n      setShowSearchResults(false);\n    }\n  };\n\n  // Enhanced search to scan all content\n  const performSearch = (query) => {\n    setIsSearching(true);\n    setShowSearchResults(true);\n\n    // Search in real-time without delay\n    const results = searchData.filter((item) => {\n      const searchTermLower = query.toLowerCase();\n      const titleMatch = item.title.toLowerCase().includes(searchTermLower);\n      const descriptionMatch = item.description\n        .toLowerCase()\n        .includes(searchTermLower);\n      const categoryMatch = item.category\n        .toLowerCase()\n        .includes(searchTermLower);\n\n      return titleMatch || descriptionMatch || categoryMatch;\n    });\n\n    // Sort results with exact title matches first\n    results.sort((a, b) => {\n      const aExactMatch = a.title.toLowerCase() === query.toLowerCase();\n      const bExactMatch = b.title.toLowerCase() === query.toLowerCase();\n\n      if (aExactMatch && !bExactMatch) return -1;\n      if (!aExactMatch && bExactMatch) return 1;\n\n      // Sort by category as secondary criteria\n      return a.category.localeCompare(b.category);\n    });\n\n    setSearchResults(results);\n    setIsSearching(false);\n  };\n\n  // Improved search result navigation with hash-based routing\n  const handleSearchResultClick = (path) => {\n    setShowSearchBox(false);\n    setShowSearchResults(false);\n    setSearchTerm(\"\");\n    setMobileSearchTerm(\"\");\n    setShowMobileMenu(false); // Close mobile menu\n\n    // Handle external links\n    if (path.startsWith(\"http\")) {\n      window.open(path, \"_blank\");\n      return;\n    }\n\n    // Handle internal navigation with hash fragments\n    if (path.includes(\"#\")) {\n      const [pagePath, sectionId] = path.split(\"#\");\n\n      // If we're already on the correct page, just scroll to the section\n      if (\n        window.location.pathname === pagePath ||\n        (pagePath === \"/\" && window.location.pathname === \"\")\n      ) {\n        setTimeout(() => {\n          const element = document.getElementById(sectionId);\n          if (element) {\n            element.scrollIntoView({ behavior: \"smooth\" });\n          }\n        }, 100);\n      } else {\n        // Navigate to the page, then scroll to section\n        navigate(path);\n      }\n    } else {\n      // Regular page navigation without hash\n      navigate(path);\n    }\n  };\n\n  // Handle click outside search results\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      // We're removing this condition so clicking outside won't close the search results\n      // Only the X button will close it now\n\n      // Keep the search input click handler to allow focus/interactions\n      if (\n        searchInputRef.current &&\n        searchInputRef.current.contains(event.target)\n      ) {\n        // Allow clicks on the search input\n        return;\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  // Thêm hàm xử lý khi nhấp vào liên kết trong mobile menu\n  const handleNavItemClick = (path) => {\n    setShowMobileMenu(false);\n    navigate(path);\n  };\n\n  // Update mobile menu items based on language\n  const getMobileMenuItems = () => {\n    return {\n      \"Trải nghiệm\": {\n        title: currentLang === \"en\" ? \"Experience\" : \"Trải nghiệm\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Opening Hours\" : \"Giờ mở cửa\",\n            path: \"/visit\",\n          },\n          {\n            title:\n              currentLang === \"en\"\n                ? \"Map, Entrances & Directions\"\n                : \"Bản đồ, lối vào & chỉ dẫn\",\n            path: \"/museum-map\",\n          },\n          { title: \"Các gói trải nghiệm\", path: \"/visit#tickets\" },\n          { title: \"Thành viên\", path: \"/visit#membership\" },\n          {\n            title: \"Lưu trú trong các căn phòng nghệ thuật\",\n            path: \"/visit-info\",\n          },\n          { title: \"Cuộc sống tại bảo tàng\", path: \"/visit-info#homestay\" },\n          { title: \"Câu hỏi thường gặp\", path: \"/visit-info#faq\" },\n        ],\n      },\n      \"TRIỂN LÃM\": {\n        title:\n          currentLang === \"en\"\n            ? \"Art Stay & Exhibitions\"\n            : \"Lưu trú nghệ thuật và Triển lãm\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Exhibitions\" : \"Triển lãm\",\n            path: \"/exhibitions\",\n          },\n          {\n            title:\n              currentLang === \"en\"\n                ? \"Guided Tours\"\n                : \"Trải nghiệm có hướng dẫn\",\n            path: \"/exhibitions?tab=guided-tours\",\n          },\n          {\n            title: currentLang === \"en\" ? \"Art Stay\" : \"Lưu trú nghệ thuật\",\n            path: \"/luu-tru-nghe-thuat\",\n          },\n        ],\n      },\n      \"KHÁM PHÁ\": {\n        title: currentLang === \"en\" ? \"EXPLORE\" : \"KHÁM PHÁ\",\n        items: [\n          {\n            title: currentLang === \"en\" ? \"Collections\" : \"Bộ sưu tập\",\n            path: \"/collection\",\n          },\n          { title: \"Tin tức\", path: \"/life-at-the-museum\" },\n          { title: \"Lộ trình tham quan\", path: \"/visitor-trails\" },\n          { title: \"Âm Thanh Đẹp\", path: \"/the-acoustic\" },\n          { title: \"Nghệ thuật vị giác\", path: \"/the-taste\" },\n          {\n            title: \"Không gian nghệ thuật và vườn trong Bảo Tàng\",\n            path: \"/the-place\",\n          },\n        ],\n      },\n      \"XEM THÊM\": {\n        title: \"Trở thành Nhà bảo trợ!\",\n        items: [\n          {\n            title: \"Cửa hàng trực tuyến\",\n            path: \"https://online-museeduphin.netlify.app/\",\n          },\n          {\n            title: \"Ghé thăm cửa hàng trực tuyến của chúng tôi\",\n            path: \"/support\",\n          },\n        ],\n        featured: {\n          title: \"Trở thành Nhà bảo trợ!\",\n          path: \"/support\",\n          image:\n            \"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784655/collections/thechildhood.jpg\",\n          description: \"Cá nhân, công ty hoặc tổ chức\",\n        },\n      },\n    };\n  };\n\n  // Update openMobileSubmenu to use translated menu items\n  const openMobileSubmenu = (menuType) => {\n    setCurrentMobileSubmenu(menuType);\n    const menuItems = getMobileMenuItems();\n    const currentMenu = menuItems[menuType];\n\n    if (currentMenu) {\n      setSubmenuItems(currentMenu.items);\n      setSubmenuFeatured(currentMenu.featured);\n      setShowMobileSubmenu(true);\n\n      // Tạo animation mượt mà\n      if (mobileSubmenuRef.current) {\n        mobileSubmenuRef.current.classList.remove(\"hide\");\n        mobileSubmenuRef.current.classList.add(\"show\");\n      }\n    }\n  };\n\n  // Hàm để đóng mobile submenu\n  const closeMobileSubmenu = () => {\n    if (mobileSubmenuRef.current) {\n      mobileSubmenuRef.current.classList.remove(\"show\");\n      mobileSubmenuRef.current.classList.add(\"hide\");\n\n      // Đợi animation hoàn thành trước khi ẩn submenu\n      setTimeout(() => {\n        setShowMobileSubmenu(false);\n      }, 300);\n    } else {\n      setShowMobileSubmenu(false);\n    }\n  };\n\n  // Hiệu ứng hover cho các menu items\n  useEffect(() => {\n    navItemsRef.current.forEach((item) => {\n      if (!item) return;\n\n      const link = item.querySelector(\"a\");\n      const underline = item.querySelector(\".underline\");\n\n      if (!link || !underline) return;\n\n      const tl = gsap.timeline({ paused: true });\n\n      // Hiệu ứng underline ngắn chạy từ trong ra ngoài\n      tl.fromTo(\n        underline,\n        {\n          width: \"0%\",\n        },\n        {\n          width: \"30%\",\n          duration: 0.3,\n          ease: \"power2.out\",\n        }\n      );\n\n      link.addEventListener(\"mouseenter\", () => tl.play());\n      link.addEventListener(\"mouseleave\", () => tl.reverse());\n\n      return () => {\n        link.removeEventListener(\"mouseenter\", () => tl.play());\n        link.removeEventListener(\"mouseleave\", () => tl.reverse());\n      };\n    });\n\n    // Hiệu ứng cho See More\n    if (seeMoreRef.current) {\n      const underline = seeMoreRef.current.querySelector(\".underline\");\n\n      if (underline) {\n        const tl = gsap.timeline({ paused: true });\n\n        tl.fromTo(\n          underline,\n          {\n            width: \"0%\",\n          },\n          {\n            width: \"100%\",\n            duration: 0.3,\n            ease: \"power2.out\",\n          }\n        );\n\n        seeMoreRef.current.addEventListener(\"mouseenter\", () => tl.play());\n        seeMoreRef.current.addEventListener(\"mouseleave\", () => {\n          if (!showSeeMoreDropdown) {\n            tl.reverse();\n          }\n        });\n\n        return () => {\n          seeMoreRef.current?.removeEventListener(\"mouseenter\", () =>\n            tl.play()\n          );\n          seeMoreRef.current?.removeEventListener(\"mouseleave\", () =>\n            tl.reverse()\n          );\n        };\n      }\n    }\n  }, [showSeeMoreDropdown]);\n\n  // Focus input khi search box hiển thị\n  useEffect(() => {\n    if (showSearchBox && searchInputRef.current) {\n      searchInputRef.current.focus();\n    }\n  }, [showSearchBox]);\n\n  // Xử lý click bên ngoài để đóng dropdown\n  useEffect(() => {\n    function handleClickOutside(event) {\n      // Only close language dropdowns when clicking outside\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowSeeMoreDropdown(false);\n      }\n      if (\n        mobileLangDropdownRef.current &&\n        !mobileLangDropdownRef.current.contains(event.target)\n      ) {\n        setShowMobileMenu(false);\n      }\n\n      // Don't automatically close dropdowns when clicking inside them\n      // We'll only close them via the X button or Escape key\n      // This is specifically for Visit, Exhibitions, and Explore dropdowns\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  // Disable scroll khi hiển thị dropdown\n  useEffect(() => {\n    if (\n      showSeeMoreDropdown ||\n      showMobileMenu ||\n      showVisitDropdown ||\n      showExhibitionsDropdown ||\n      showExploreDropdown\n    ) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown,\n  ]);\n\n  // Xử lý tìm kiếm\n  const handleSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!searchTerm.trim()) return; // Không thực hiện tìm kiếm nếu input trống\n\n    performSearch(searchTerm);\n  };\n\n  // Xử lý tìm kiếm từ mobile menu\n  const handleMobileSearch = (e) => {\n    if (e) e.preventDefault();\n    if (!mobileSearchTerm.trim()) return;\n\n    performSearch(mobileSearchTerm);\n  };\n\n  // Tắt search box khi nhấn phím Escape\n  useEffect(() => {\n    const handleEscKey = (event) => {\n      if (event.key === \"Escape\") {\n        if (showSearchBox) {\n          setShowSearchBox(false);\n        }\n        if (showSeeMoreDropdown) {\n          setShowSeeMoreDropdown(false);\n        }\n        if (showMobileMenu) {\n          setShowMobileMenu(false);\n        }\n        if (showVisitDropdown) {\n          setShowVisitDropdown(false);\n        }\n        if (showExhibitionsDropdown) {\n          setShowExhibitionsDropdown(false);\n        }\n        if (showExploreDropdown) {\n          setShowExploreDropdown(false);\n        }\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleEscKey);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscKey);\n    };\n  }, [\n    showSearchBox,\n    showSeeMoreDropdown,\n    showMobileMenu,\n    showVisitDropdown,\n    showExhibitionsDropdown,\n    showExploreDropdown,\n  ]);\n\n  // Render search results\n  const renderSearchResults = () => {\n    if (!showSearchResults) return null;\n\n    return (\n      <div className=\"search-results-container\" ref={searchResultsRef}>\n        <div className=\"search-results-list\">\n          <div className=\"search-results-header\">\n            {isSearching ? (\n              <div className=\"search-loading\"></div>\n            ) : (\n              <div className=\"search-results-title\">\n                <div className=\"search-results-count\">\n                  {`${searchResults.length} kết quả tìm kiếm cho \"${\n                    searchTerm || mobileSearchTerm\n                  }\"`}\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"search-results-close-button\"\n                  onClick={() => setShowSearchResults(false)}\n                  aria-label=\"Đóng kết quả tìm kiếm\"\n                >\n                  <CloseIcon />\n                </button>\n              </div>\n            )}\n          </div>\n\n          {isSearching ? (\n            <div className=\"search-loading\"></div>\n          ) : searchResults.length > 0 ? (\n            <div className=\"search-results-items\">\n              {searchResults.map((result) => (\n                <div\n                  key={result.id}\n                  className={`search-result-item ${\n                    result.path.includes(\"#\") ? \"section-link\" : \"\"\n                  }`}\n                  onClick={() => handleSearchResultClick(result.path)}\n                >\n                  <img\n                    src={result.image}\n                    alt={result.title}\n                    loading=\"lazy\"\n                    className=\"search-result-image\"\n                  />\n                  <div className=\"search-result-content\">\n                    <h4 className=\"search-result-title\">{result.title}</h4>\n                    <p className=\"search-result-description\">\n                      {result.description}\n                    </p>\n                    <span className=\"search-result-category\">\n                      {result.category}\n                    </span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"search-no-results\">\n              <h3>Không tìm thấy kết quả</h3>\n              <p>\n                Chúng tôi không thể tìm thấy kết quả nào cho tìm kiếm của bạn.\n                Vui lòng thử từ khóa khác.\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  // Add effect to handle external mobile menu triggers\n  useEffect(() => {\n    const handleMobileMenuShow = () => {\n      setShowMobileMenu(true);\n    };\n\n    const handleMobileMenuHide = () => {\n      setShowMobileMenu(false);\n    };\n\n    // Listen for mobile menu class changes\n    const mobileMenuOverlay = document.querySelector(\".mobile-menu-overlay\");\n    if (mobileMenuOverlay) {\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (\n            mutation.type === \"attributes\" &&\n            mutation.attributeName === \"class\"\n          ) {\n            if (mobileMenuOverlay.classList.contains(\"show\")) {\n              handleMobileMenuShow();\n            } else {\n              handleMobileMenuHide();\n            }\n          }\n        });\n      });\n\n      observer.observe(mobileMenuOverlay, {\n        attributes: true,\n      });\n\n      return () => observer.disconnect();\n    }\n  }, []);\n\n  // Add event listener for opening dropdowns\n  useEffect(() => {\n    const handleOpenNavDropdown = (event) => {\n      const dropdownType = event.detail.type;\n\n      // Close all dropdowns first\n      setShowVisitDropdown(false);\n      setShowExhibitionsDropdown(false);\n      setShowExploreDropdown(false);\n      setShowSeeMoreDropdown(false);\n      setShowMobileMenu(false);\n\n      // Scroll to top\n      window.scrollTo(0, 0);\n\n      // Open the requested dropdown\n      switch (dropdownType) {\n        case \"KHÁM PHÁ\":\n          setShowExploreDropdown(true);\n          break;\n        case \"Trải nghiệm\":\n          setShowVisitDropdown(true);\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    return () => {\n      window.removeEventListener(\"openNavDropdown\", handleOpenNavDropdown);\n    };\n  }, []);\n\n  // Add GTranslate script to head\n  useEffect(() => {\n    // Add GTranslate settings\n    const gtSettings = document.createElement(\"script\");\n    gtSettings.innerHTML = `window.gtranslateSettings = {\n      \"default_language\": \"vi\",\n      \"native_language_names\": true,\n      \"detect_browser_language\": true,\n      \"languages\": [\"vi\",\"en\"],\n      \"wrapper_selector\": \".gtranslate_wrapper\"\n    }`;\n    document.head.appendChild(gtSettings);\n\n    // Add GTranslate script\n    const gtScript = document.createElement(\"script\");\n    gtScript.src = \"https://cdn.gtranslate.net/widgets/latest/ln.js\";\n    gtScript.defer = true;\n    document.head.appendChild(gtScript);\n\n    return () => {\n      document.head.removeChild(gtSettings);\n      document.head.removeChild(gtScript);\n    };\n  }, []);\n\n  // Update renderFeaturedContent function to be more robust\n  const renderContent = (content) => {\n    if (!content) return null;\n\n    if (React.isValidElement(content)) {\n      return content;\n    }\n\n    if (typeof content === \"string\") {\n      if (content.includes(\"Musée Du Pin\")) {\n        return (\n          <>\n            {content.split(\"Musée Du Pin\").map((part, index, array) => (\n              <React.Fragment key={index}>\n                {part}\n                {index < array.length - 1 && (\n                  <span className=\"notranslate\">Musée Du Pin</span>\n                )}\n              </React.Fragment>\n            ))}\n          </>\n        );\n      }\n      return content;\n    }\n\n    return content;\n  };\n\n  // Update in meta tags and document title\n  useEffect(() => {\n    document.title = `Musée Du Pin - ${currentMobileSubmenu || \"Trang chủ\"}`;\n  }, [currentMobileSubmenu]);\n\n  return (\n    <header className=\"navbar-container\">\n      {/* Desktop Navbar */}\n      <div className=\"navbar-top\">\n        {/* Left section with search and language */}\n        <div className=\"left-section\">\n          <div\n            className=\"search-container\"\n            onClick={() => setShowSearchBox(true)}\n          >\n            <SearchIcon />\n            <span>Tìm kiếm</span>\n          </div>\n\n          {/* GTranslate container for desktop */}\n          <div className=\"gtranslate_wrapper\"></div>\n        </div>\n\n        {/* Center section with logo */}\n        <div className=\"logo-containers\">\n          <Link to=\"/\">\n            <img\n              className=\"logo notranslate\"\n              src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\n              alt=\"Musée Du Pin\"\n              loading=\"lazy\"\n            />\n          </Link>\n        </div>\n\n        {/* Desktop Navbar - Right Section */}\n        <div className=\"desktop-right-section\">\n          <div className=\"buttons-container\">\n            <Link\n              to=\"https://online-museeduphin.netlify.app/\"\n              className=\"btn btn-outline\"\n            >\n              <BoutiqueIcon />\n            </Link>\n            <Link\n              to=\"https://ticket-museeduphin.netlify.app/\"\n              className=\"btn btn-filled\"\n            >\n              <TicketIcon />\n            </Link>\n          </div>\n\n          <div\n            className=\"menu-toggle\"\n            onClick={() => setShowSearchBox(!showSearchBox)}\n          >\n            <MenuIcon />\n          </div>\n        </div>\n\n        {/* Mobile elements */}\n        <div className=\"mobile-logo\">\n          <div onClick={() => setShowMobileMenu(true)}>\n            <img\n              src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784840/logo/logo-icon.webp\"\n              alt=\"Musée Du Pin\"\n              className=\"mobile-logo-image notranslate\"\n              loading=\"lazy\"\n            />\n          </div>\n          <a href=\"/\">\n            <span className=\"museum-name-mobile notranslate\">Musée Du Pin</span>\n          </a>\n        </div>\n\n        <div className=\"right-section\">\n          <Link\n            to=\"https://online-museeduphin.netlify.app/\"\n            className=\"btn btn-outline\"\n          >\n            <BoutiqueIcon />\n          </Link>\n          <Link\n            to=\"https://ticket-museeduphin.netlify.app/\"\n            className=\"btn btn-outline\"\n          >\n            <TicketIcon />\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"divider\"></div>\n\n      {/* Desktop Navbar Bottom Section */}\n      <div className=\"navbar-bottom\">\n        <nav className=\"main-nav\">\n          <ul>\n            <li\n              className=\"nav-item\"\n              ref={(el) => {\n                navItemsRef.current[0] = el;\n                visitRef.current = el;\n              }}\n            >\n              <Link\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (showVisitDropdown) {\n                    setShowVisitDropdown(false);\n                  } else {\n                    setShowVisitDropdown(true);\n                    setShowExhibitionsDropdown(false);\n                    setShowExploreDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                }}\n              >\n                Trải nghiệm\n                <div className=\"underline\"></div>\n              </Link>\n            </li>\n            <li\n              className=\"nav-item\"\n              ref={(el) => {\n                navItemsRef.current[1] = el;\n                exhibitionsRef.current = el;\n              }}\n            >\n              <Link\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (showExhibitionsDropdown) {\n                    setShowExhibitionsDropdown(false);\n                  } else {\n                    setShowExhibitionsDropdown(true);\n                    setShowVisitDropdown(false);\n                    setShowExploreDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                }}\n              >\n                Lưu trú nghệ thuật và Triển lãm\n                <div className=\"underline\"></div>\n              </Link>\n            </li>\n            <li\n              className=\"nav-item\"\n              ref={(el) => {\n                navItemsRef.current[2] = el;\n                exploreRef.current = el;\n              }}\n            >\n              <Link\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (showExploreDropdown) {\n                    setShowExploreDropdown(false);\n                  } else {\n                    setShowExploreDropdown(true);\n                    setShowVisitDropdown(false);\n                    setShowExhibitionsDropdown(false);\n                    setShowSeeMoreDropdown(false);\n                  }\n                }}\n              >\n                KHÁM PHÁ\n                <div className=\"underline\"></div>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n\n        <div className=\"vertical-divider\"></div>\n\n        <div\n          className=\"see-more\"\n          ref={seeMoreRef}\n          onClick={() => {\n            if (showSeeMoreDropdown) {\n              setShowSeeMoreDropdown(false);\n            } else {\n              setShowSeeMoreDropdown(true);\n              setShowVisitDropdown(false);\n              setShowExhibitionsDropdown(false);\n              setShowExploreDropdown(false);\n            }\n          }}\n        >\n          <span>XEM THÊM</span>\n          <MenuIcon />\n          <div className=\"underline\"></div>\n        </div>\n      </div>\n\n      {/* Search Box as Overlay */}\n      {showSearchBox && (\n        <div className=\"search-below-navbar\">\n          <div className=\"search-box-container\">\n            <div className=\"search-box-inner\">\n              <div\n                className={`search-input-wrapper ${\n                  isFocused || searchTerm ? \"has-value\" : \"\"\n                }`}\n              >\n                <SearchIcon />\n                <div className=\"search-input-label\">Tìm kiếm</div>\n                <input\n                  type=\"text\"\n                  placeholder={isFocused ? \"\" : \"Tìm kiếm\"}\n                  value={searchTerm}\n                  onChange={handleSearchInputChange}\n                  onFocus={() => setIsFocused(true)}\n                  onBlur={() => setIsFocused(false)}\n                  ref={searchInputRef}\n                  className=\"search-input\"\n                />\n              </div>\n              <button\n                type=\"button\"\n                className={`search-submit-button ${\n                  searchTerm.trim() ? \"active\" : \"\"\n                }`}\n                onClick={handleSearch}\n                aria-label=\"Submit search\"\n                disabled={!searchTerm.trim()}\n              >\n                <ArrowRightIcon />\n              </button>\n            </div>\n            <button\n              type=\"button\"\n              className=\"search-close-button\"\n              onClick={() => {\n                setShowSearchBox(false);\n                // Don't close search results when closing the search box\n                // Only the X in the search results should close them\n              }}\n              aria-label=\"Close search\"\n            >\n              <CloseIcon />\n            </button>\n            {/* Render search results */}\n            {renderSearchResults()}\n          </div>\n        </div>\n      )}\n\n      {/* See More Dropdown Menu */}\n      {showSeeMoreDropdown && (\n        <div\n          className=\"dropdown-container see-more-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowSeeMoreDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <h3>Cửa hàng trực tuyến</h3>\n                  <Link\n                    to=\"https://online-museeduphin.netlify.app/\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowSeeMoreDropdown(false)}\n                  >\n                    Ghé thăm cửa hàng trực tuyến của chúng tôi\n                  </Link>\n                </div>\n\n                <div\n                  className=\"dropdown-menu-section\"\n                  style={{ marginTop: \"30px\" }}\n                >\n                  <h3>\n                    Hỗ trợ {\" \"} <span className=\"notranslate\">Musée Du Pin</span>\n                  </h3>\n                  <Link\n                    to=\"/support\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowSeeMoreDropdown(false)}\n                  >\n                    Cá nhân, công ty hoặc tổ chức\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <img\n                  src=\"https://ik.imagekit.io/8u8lkoqkkm/image(4).png?updatedAt=1749394995088\"\n                  alt=\"Support\"\n                  loading=\"lazy\"\n                  className=\"dropdown-image\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Visit Dropdown Menu */}\n      {showVisitDropdown && (\n        <div\n          className=\"dropdown-container visit-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowVisitDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/visit\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Giờ mở cửa\n                  </Link>\n                  <Link\n                    to=\"/museum-map\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Bản đồ, lối vào & chỉ dẫn\n                  </Link>\n                  <Link\n                    to=\"/visit#tickets\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Các gói trải nghiệm\n                  </Link>\n                  <Link\n                    to=\"/visit#membership\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Thành viên\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-middle-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/visit-info\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Lưu trú trong các căn phòng nghệ thuật\n                  </Link>\n                  <Link\n                    to=\"/visit-info#homestay\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Cuộc sống tại bảo tàng\n                  </Link>\n                  <Link\n                    to=\"/visit-info#faq\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Câu hỏi thường gặp\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <img\n                  src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784653/collections/Th%C3%B4ng%202.webp\"\n                  alt=\"Chuẩn bị cho chuyến tham quan\"\n                  loading=\"lazy\"\n                  className=\"dropdown-image\"\n                />\n                <div className=\"dropdown-image-caption\">\n                  <Link\n                    to=\"/visit-info\"\n                    className=\"dropdown-title-link\"\n                    onClick={() => setShowVisitDropdown(false)}\n                  >\n                    Chuẩn bị cho chuyến tham quan\n                    <svg\n                      width=\"16\"\n                      height=\"16\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      <path d=\"M5 12h14\"></path>\n                      <path d=\"M12 5l7 7-7 7\"></path>\n                    </svg>\n                  </Link>\n                  <p className=\"dropdown-description\">\n                    Tất cả những điều bạn cần biết trước khi tham quan bảo tàng\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Exhibitions Dropdown Menu */}\n      {showExhibitionsDropdown && (\n        <div\n          className=\"dropdown-container exhibitions-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowExhibitionsDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/exhibitions\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    Triển lãm\n                  </Link>\n                  <Link\n                    to=\"/exhibitions?tab=guided-tours\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    Trải nghiệm có hướng dẫn\n                  </Link>\n                  <Link\n                    to=\"/luu-tru-nghe-thuat\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    Lưu trú nghệ thuật\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <div className=\"exhibition-feature\">\n                  <div className=\"exhibition-feature-image\">\n                    <img\n                      src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\"\n                      alt=\"Another Musée Du Pin\"\n                      loading=\"lazy\"\n                    />\n                    <div className=\"feature-tag\">\n                      Một <span className=\"notranslate\">Musée Du Pin</span> khác\n                    </div>\n                  </div>\n                  <Link\n                    to=\"/exhibitions?tab=guided-tours\"\n                    className=\"exhibition-feature-title\"\n                    onClick={() => setShowExhibitionsDropdown(false)}\n                  >\n                    <span className=\"text-left\">Một</span>{\" \"}\n                    <span className=\"notranslate\">Musée Du Pin</span>{\" \"}\n                    <span className=\"text-right\">khác</span>\n                    <svg\n                      width=\"16\"\n                      height=\"16\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      <path d=\"M5 12h14\"></path>\n                      <path d=\"M12 5l7 7-7 7\"></path>\n                    </svg>\n                  </Link>\n                  <p className=\"exhibition-feature-description\">\n                    Tận hưởng chuyến tham quan tránh xa đám đông và khám phá\n                    những kho báu ít người biết đến và khung cảnh tuyệt đẹp của\n                    một <span className=\"notranslate\">Musée Du Pin</span> khác\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Explore Dropdown Menu */}\n      {showExploreDropdown && (\n        <div\n          className=\"dropdown-container explore-dropdown\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-header\">\n              <button\n                type=\"button\"\n                className=\"dropdown-close-button\"\n                onClick={() => setShowExploreDropdown(false)}\n                aria-label=\"Close dropdown\"\n              >\n                <CloseDropdownIcon />\n              </button>\n            </div>\n\n            <div className=\"dropdown-main-content\">\n              <div className=\"dropdown-left-section\">\n                <div className=\"dropdown-menu-section\">\n                  <Link\n                    to=\"/collection\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Bộ sưu tập\n                  </Link>\n                  <Link\n                    to=\"/life-at-the-museum\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Tin tức\n                  </Link>\n                  <Link\n                    to=\"/visitor-trails\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Lộ trình tham quan\n                  </Link>\n                  <Link\n                    to=\"/the-acoustic\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Âm Thanh Đẹp\n                  </Link>\n                  <Link\n                    to=\"/the-taste\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Nghệ thuật vị giác\n                  </Link>\n                  <Link\n                    to=\"/the-place\"\n                    className=\"dropdown-link\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Không gian nghệ thuật và vườn trong Bảo Tàng\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"dropdown-right-section\">\n                <div className=\"exhibition-feature\">\n                  <div className=\"exhibition-feature-image\">\n                    <img\n                      src=\"https://res.cloudinary.com/dn0br7hj0/image/upload/v1748784658/collections/thesunset.jpg\"\n                      alt=\"Highlights\"\n                      loading=\"lazy\"\n                    />\n                    <div className=\"feature-tag\">Điểm nổi bật</div>\n                  </div>\n                  <Link\n                    to=\"/visitor-trails\"\n                    className=\"exhibition-feature-title\"\n                    onClick={() => setShowExploreDropdown(false)}\n                  >\n                    Điểm nổi bật\n                    <svg\n                      width=\"16\"\n                      height=\"16\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      <path d=\"M5 12h14\"></path>\n                      <path d=\"M12 5l7 7-7 7\"></path>\n                    </svg>\n                  </Link>\n                  <p className=\"exhibition-feature-description\">\n                    Các tác phẩm nổi bật\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Mobile Menu Overlay */}\n      <div className={`mobile-menu-overlay ${showMobileMenu ? \"show\" : \"\"}`}>\n        <div className=\"mobile-menu-header\">\n          <button\n            className=\"mobile-close-button\"\n            onClick={() => setShowMobileMenu(false)}\n            aria-label=\"Close menu\"\n          >\n            <CloseIcon />\n          </button>\n          {/* GTranslate container for mobile */}\n          <div className=\"gtranslate_wrapper mobile\"></div>\n        </div>\n\n        <div className=\"mobile-search\">\n          <form onSubmit={handleMobileSearch}>\n            <div className=\"mobile-search-input\">\n              <input\n                type=\"text\"\n                placeholder=\"Tìm kiếm\"\n                value={mobileSearchTerm}\n                onChange={handleMobileSearchInputChange}\n              />\n              <button\n                type=\"submit\"\n                className=\"mobile-search-button\"\n                disabled={!mobileSearchTerm.trim()}\n              >\n                <ArrowRightIcon />\n              </button>\n            </div>\n          </form>\n          {/* Render mobile search results */}\n          {renderSearchResults()}\n        </div>\n\n        <div className=\"mobile-nav-links\">\n          <div\n            className=\"mobile-nav-item\"\n            onClick={() => openMobileSubmenu(\"Trải nghiệm\")}\n          >\n            Trải nghiệm\n            <ChevronRight />\n          </div>\n          <div\n            className=\"mobile-nav-item\"\n            onClick={() => openMobileSubmenu(\"TRIỂN LÃM\")}\n          >\n            Lưu trú nghệ thuật và Triển lãm\n            <ChevronRight />\n          </div>\n          <div\n            className=\"mobile-nav-item\"\n            onClick={() => openMobileSubmenu(\"KHÁM PHÁ\")}\n          >\n            KHÁM PHÁ\n            <ChevronRight />\n          </div>\n        </div>\n\n        <div className=\"mobile-nav-divider\"></div>\n\n        <div className=\"mobile-secondary-links\">\n          <div\n            className=\"mobile-secondary-item\"\n            onClick={() => handleNavItemClick(\"/boutique\")}\n          >\n            Cửa hàng Lưu niệm\n          </div>\n          <div\n            className=\"mobile-secondary-item\"\n            onClick={() => handleNavItemClick(\"/support\")}\n          >\n            Hỗ trợ {\" \"} <span className=\"notranslate\">Musée Du Pin</span>\n          </div>\n        </div>\n\n        <div className=\"mobile-social-icons\">\n          <a\n            href=\"https://www.facebook.com/BaoTangThongDalat\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"social-icon\"\n            aria-label=\"Facebook\"\n            onClick={() => setShowMobileMenu(false)}\n          >\n            <FacebookIcon />\n          </a>\n          <a\n            href=\"https://www.tiktok.com/@baotangthongdalat?_t=ZS-8wcfw9TGrnm&_r=1\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"social-icon\"\n            aria-label=\"TikTok\"\n            onClick={() => setShowMobileMenu(false)}\n          >\n            <TikTokIcon />\n          </a>\n          <a\n            href=\"https://www.youtube.com/channel/UCyxLbhgBPZ3KnGD_KeLCo9A\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"social-icon\"\n            aria-label=\"YouTube\"\n            onClick={() => setShowMobileMenu(false)}\n          >\n            <YoutubeIcon />\n          </a>\n        </div>\n      </div>\n\n      {/* Mobile Submenu */}\n      {showMobileSubmenu && (\n        <div\n          className={`mobile-submenu ${showMobileSubmenu ? \"show\" : \"hide\"}`}\n          ref={mobileSubmenuRef}\n        >\n          <div className=\"submenu-header\">\n            <button\n              className=\"back-buttonss\"\n              onClick={closeMobileSubmenu}\n              aria-label=\"Back to main menu\"\n            >\n              <svg\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <path d=\"M15 18l-6-6 6-6\" />\n              </svg>\n              Quay lại\n            </button>\n            <h2 className=\"submenu-title\">{currentMobileSubmenu}</h2>\n          </div>\n\n          <div className=\"submenu-items\">\n            {submenuItems.map((item, index) => (\n              <Link\n                key={index}\n                to={item.path}\n                className=\"submenu-item\"\n                onClick={() => {\n                  setShowMobileSubmenu(false);\n                  setShowMobileMenu(false);\n                }}\n              >\n                {item.title}\n                <ChevronRight />\n              </Link>\n            ))}\n          </div>\n\n          {submenuFeatured && (\n            <div className=\"submenu-featured\">\n              <Link\n                to={submenuFeatured.path}\n                className=\"featured-title\"\n                onClick={() => {\n                  setShowMobileSubmenu(false);\n                  setShowMobileMenu(false);\n                }}\n              >\n                {renderContent(submenuFeatured.title)}\n                <svg\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                >\n                  <path d=\"M5 12h14\"></path>\n                  <path d=\"M12 5l7 7-7 7\"></path>\n                </svg>\n              </Link>\n              <img\n                src={submenuFeatured.image}\n                alt={\n                  typeof submenuFeatured.title === \"string\"\n                    ? submenuFeatured.title\n                    : \"Featured content\"\n                }\n                loading=\"lazy\"\n                className=\"featured-image\"\n              />\n              <p className=\"featured-description\">\n                {renderContent(submenuFeatured.description)}\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default Navbar;\n"
        ],
        "mappings": "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",
        "names": []
      }
    },
    {
      "name": "vite:worker",
      "start": 1751470574349,
      "end": 1751470574349,
      "order": "normal-normal"
    },
    {
      "name": "vite:define",
      "start": 1751470574349,
      "end": 1751470574349,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-html",
      "start": 1751470574349,
      "end": 1751470574349,
      "order": "normal-normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1751470574349,
      "end": 1751470574349,
      "order": "normal-normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1751470574349,
      "end": 1751470574349,
      "order": "normal-normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1751470574349,
      "end": 1751470574349,
      "order": "normal-normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1751470574349,
      "end": 1751470574349,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1751470574349,
      "end": 1751470574351,
      "order": "normal-normal"
    },
    {
      "name": "vite:reporter",
      "start": 1751470574351,
      "end": 1751470574351,
      "order": "normal"
    }
  ]
}
