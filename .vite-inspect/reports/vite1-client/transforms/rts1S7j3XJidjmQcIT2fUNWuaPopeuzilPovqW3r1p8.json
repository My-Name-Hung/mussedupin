{
  "resolvedId": "C:/Users/.Freelancer/MUSSEEDUPIN/src/components/Home/DuPin/DuPin.jsx",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./DuPin.css\";\n\n// Sample video data - replace with your actual YouTube videos\nconst videoData = [\n  {\n    id: 1,\n    title:\n      \"Góc nhìn từ Bảo Tàng Thông – Một lát cắt Đà Lạt trọn vẹn trong ánh chiều tà!\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"aozcRuYVPKw\", // Replace with actual YouTube ID\n    duration: \"11s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/aozcRuYVPKw/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 2,\n    title:\n      \"Sự hòa trộn phối ghép của màu sắc, vật liệu chất chứa bên trong những giá trị của vùng đất đại ngàn.\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"mhHVg1Hlq-Y\", // Replace with actual YouTube ID\n    duration: \"22s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/mhHVg1Hlq-Y/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\",\n  },\n  {\n    id: 3,\n    title: \"Nhà Mắt Thông- Tinh Hoa Kiến Trúc Giữa Lòng Thiên Nhiên\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"XHcN9NoTzd4\", // Replace with actual YouTube ID\n    duration: \"1:19s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/XHcN9NoTzd4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\",\n  },\n  {\n    id: 4,\n    title: \"Chạm vào Langbiang Art Space\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"iphjfzjG-G4\", // Replace with actual YouTube ID\n    duration: \"27s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/iphjfzjG-G4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Live\",\n  },\n  {\n    id: 5,\n    title:\n      \"Mỗi giọt sơn là một phần của câu chuyện, mỗi nét cọ là một phần tâm hồn\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"vGVCScsRiK4\", // Replace with actual YouTube ID\n    duration: \"28s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/vGVCScsRiK4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\",\n  },\n  {\n    id: 6,\n    title: \"MỖI VẬT PHẨM – MỘT NÉT VĂN HOÁ LANGBIANG\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"y8O6GSFVedg\", // Replace with actual YouTube ID\n    duration: \"1:36s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/y8O6GSFVedg/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Văn hóa\",\n  },\n  {\n    id: 7,\n    title: \"LANGBIANG - KHÔNG GIAN NGHỆ THUẬT SỐNG CÙNG VĂN HOÁ\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"1c6cPAkPXto\", // Replace with actual YouTube ID\n    duration: \"32s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/1c6cPAkPXto/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Văn hóa\",\n  },\n  {\n    id: 8,\n    title:\n      \"Sớm bình minh mờ sương trong hành trình lưu trú nghệ thuật tại Bảo Tàng Thông!\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"pE4CGNBrE1M\", // Replace with actual YouTube ID\n    duration: \"16s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/pE4CGNBrE1M/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 9,\n    title: \"ÂM THANH CỦA RỪNG, NHỊP ĐẬP CỦA LINH HỒN\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"pYAdoqUkVHo\", // Replace with actual YouTube ID\n    duration: \"44s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/pYAdoqUkVHo/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Âm nhạc\",\n  },\n  {\n    id: 10,\n    title:\n      \"Chỉ cần đi chậm lại, bạn sẽ thấy nơi đây vẫn còn nguyên những bình yên tưởng chừng đã mất\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"aTeAHvkXqDU\", // Replace with actual YouTube ID\n    duration: \"38s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/aTeAHvkXqDU/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 11,\n    title: \"Tiếng thông xào xạc hay lời kêu cứu lặng thầm?\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"MOtrdJzefmQ\", // Replace with actual YouTube ID\n    duration: \"49s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/MOtrdJzefmQ/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 12,\n    title: \"Có những câu chuyện chỉ có thể lắng nghe khi ta đủ tĩnh lặng.\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"qR2H15Q1nc8\", // Replace with actual YouTube ID\n    duration: \"43s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/qR2H15Q1nc8/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 13,\n    title: \"KHÉP LẠI MDP-AR MÙA 1: HÀNH TRÌNH NGHỆ THUẬT VÌ THIÊN NHIÊN ĐÀ LẠT\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"HDOx1dRhRY8\", // Replace with actual YouTube ID\n    duration: \"40s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/HDOx1dRhRY8/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Live\",\n  },\n  {\n    id: 14,\n    title: \"NHẠC CỤ DÂN TỘC\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"epnBikruPUM\", // Replace with actual YouTube ID\n    duration: \"1:24s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/epnBikruPUM/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Âm nhạc\",\n  },\n    {\n    id: 14,\n    title: \"Có những câu chuyện chỉ có thể lắng nghe khi ta đủ tĩnh lặ<ng></ng>\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"EM-XJW7zyoo\", // Replace with actual YouTube ID\n    duration: \"41s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/EM-XJW7zyoo/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n];\n\nconst DuPin = () => {\n  const scrollContainerRef = useRef(null);\n  const sectionRef = useRef(null);\n  const [isVisible, setIsVisible] = useState(false);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const animationRef = useRef(null);\n  const lastTimestampRef = useRef(null);\n  const [scrollPosition, setScrollPosition] = useState(0);\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [contentWidth, setContentWidth] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const [activeCardIndex, setActiveCardIndex] = useState(null);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const [isUserInteracting, setIsUserInteracting] = useState(false);\n  const [showSwipeHint, setShowSwipeHint] = useState(true);\n  const [isDesktop, setIsDesktop] = useState(false);\n  const [lastTouchX, setLastTouchX] = useState(0);\n  const [lastTouchTime, setLastTouchTime] = useState(0);\n  const [touchVelocity, setTouchVelocity] = useState(0);\n\n  // Check if mobile and desktop\n  useEffect(() => {\n    let timeoutId;\n    const handleResize = () => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        const width = window.innerWidth;\n        setIsMobile(width <= 768);\n        setIsDesktop(width >= 1200);\n      }, 100);\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n\n    // Hide swipe hint after 5 seconds on mobile\n    if (isMobile) {\n      const timer = setTimeout(() => {\n        setShowSwipeHint(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      clearTimeout(timeoutId);\n    };\n  }, [isMobile]);\n\n  // Handle visibility detection with enhanced threshold\n  const handleVisibilityChange = useCallback((entries) => {\n    const entry = entries[0];\n    if (entry.isIntersecting) {\n      const ratio = Math.min(entry.intersectionRatio * 1.5, 1);\n      if (ratio > 0.2) {\n        setIsVisible(true);\n      }\n    } else if (entry.intersectionRatio === 0) {\n      setIsVisible(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    const options = {\n      threshold: [0.1, 0.2, 0.5, 0.8],\n      rootMargin: \"0px 0px 100px 0px\",\n    };\n\n    const observer = new IntersectionObserver(handleVisibilityChange, options);\n\n    if (scrollContainerRef.current) {\n      observer.observe(scrollContainerRef.current);\n    }\n\n    return () => {\n      if (scrollContainerRef.current) {\n        observer.unobserve(scrollContainerRef.current);\n      }\n    };\n  }, [handleVisibilityChange]);\n\n  // Parallax scrolling effect\n  useEffect(() => {\n    const handleParallax = () => {\n      if (sectionRef.current) {\n        const rect = sectionRef.current.getBoundingClientRect();\n        const windowHeight = window.innerHeight;\n\n        if (rect.top < windowHeight && rect.bottom > 0) {\n          const scrolled =\n            (windowHeight - rect.top) / (windowHeight + rect.height);\n          setScrollProgress(Math.min(Math.max(scrolled, 0), 1));\n        }\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleParallax);\n    return () => window.removeEventListener(\"scroll\", handleParallax);\n  }, []);\n\n  // Calculate widths for scroll animation with improved precision\n  useEffect(() => {\n    if (!scrollContainerRef.current) return;\n\n    const calculateWidths = () => {\n      if (scrollContainerRef.current) {\n        const containerWidth = scrollContainerRef.current.clientWidth;\n        const contentWidth = scrollContainerRef.current.scrollWidth;\n\n        setContainerWidth(containerWidth);\n        setContentWidth(contentWidth);\n      }\n    };\n\n    if (window.ResizeObserver) {\n      const resizeObserver = new ResizeObserver(calculateWidths);\n      resizeObserver.observe(scrollContainerRef.current);\n\n      return () => {\n        resizeObserver.disconnect();\n      };\n    } else {\n      calculateWidths();\n\n      let debounceTimer;\n      const handleResize = () => {\n        clearTimeout(debounceTimer);\n        debounceTimer = setTimeout(calculateWidths, 100);\n      };\n\n      window.addEventListener(\"resize\", handleResize);\n\n      return () => {\n        window.removeEventListener(\"resize\", handleResize);\n        clearTimeout(debounceTimer);\n      };\n    }\n  }, []);\n\n  // Enhanced auto-scroll animation with consistent speed\n  useEffect(() => {\n    if (!isVisible || isPaused || isUserInteracting) {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n\n    // Set constant speed for different devices\n    const baseScrollSpeed = isMobile ? 0.8 : isDesktop ? 1.2 : 1;\n    const maxScroll = contentWidth - containerWidth;\n    let lastScrollTime = performance.now();\n\n    const animate = (timestamp) => {\n      if (!lastTimestampRef.current) lastTimestampRef.current = timestamp;\n      const currentTime = performance.now();\n      const timeDiff = currentTime - lastScrollTime;\n\n      // Keep consistent frame timing\n      const frameMultiplier = Math.min(timeDiff / 16.67, 2);\n      const scrollSpeed = baseScrollSpeed * frameMultiplier;\n\n      setScrollPosition((prevPosition) => {\n        const newPosition = prevPosition + scrollSpeed;\n\n        // Reset position when reaching the end\n        if (newPosition >= maxScroll) {\n          return 0;\n        }\n        return newPosition;\n      });\n\n      lastTimestampRef.current = timestamp;\n      lastScrollTime = currentTime;\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    animationRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      lastTimestampRef.current = null;\n    };\n  }, [\n    isVisible,\n    containerWidth,\n    contentWidth,\n    isPaused,\n    isMobile,\n    isDesktop,\n    isUserInteracting,\n  ]);\n\n  // Update scroll position with hardware acceleration\n  useEffect(() => {\n    if (scrollContainerRef.current) {\n      const transform = `translateX(-${scrollPosition}px)`;\n      scrollContainerRef.current.style.transform = transform;\n      scrollContainerRef.current.style.willChange = \"transform\";\n    }\n  }, [scrollPosition]);\n\n  // Enhanced touch handling with better performance\n  const handleTouchStart = useCallback((e) => {\n    setIsPaused(true);\n    setIsUserInteracting(true);\n    setTouchStartX(e.touches[0].clientX);\n    setLastTouchX(e.touches[0].clientX);\n    setLastTouchTime(Date.now());\n    setShowSwipeHint(false);\n  }, []);\n\n  const handleTouchEnd = useCallback(() => {\n    setIsUserInteracting(false);\n\n    if (Math.abs(touchVelocity) > 0.3) {\n      // Reduced threshold for more responsive feel\n      const momentum = touchVelocity * 120; // Increased multiplier\n      const targetScroll = scrollPosition + momentum;\n      const startScroll = scrollPosition;\n      const startTime = performance.now();\n      const duration = Math.min(Math.abs(momentum) * 2, 800); // Dynamic duration\n\n      const animateMomentum = () => {\n        const elapsed = performance.now() - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n\n        // Enhanced easing function\n        const easeOutExpo = (t) => (t === 1 ? 1 : 1 - Math.pow(2, -10 * t));\n        const currentProgress = easeOutExpo(progress);\n\n        const newScroll =\n          startScroll + (targetScroll - startScroll) * currentProgress;\n\n        setScrollPosition(\n          Math.max(0, Math.min(newScroll, contentWidth - containerWidth))\n        );\n\n        if (progress < 1) {\n          requestAnimationFrame(animateMomentum);\n        } else {\n          setTimeout(() => setIsPaused(false), 500);\n        }\n      };\n\n      requestAnimationFrame(animateMomentum);\n    } else {\n      setTimeout(() => setIsPaused(false), 500);\n    }\n  }, [touchVelocity, scrollPosition, contentWidth, containerWidth]);\n\n  const handleTouchMove = useCallback(\n    (e) => {\n      if (isUserInteracting && scrollContainerRef.current) {\n        const touchX = e.touches[0].clientX;\n        const diff = touchStartX - touchX;\n        const now = performance.now();\n        const deltaTime = now - lastTouchTime;\n        const deltaX = touchX - lastTouchX;\n\n        // Improved velocity calculation\n        const newVelocity = deltaX / Math.max(deltaTime, 1);\n        setTouchVelocity(newVelocity * 1.5); // Increased multiplier for smoother momentum\n\n        setLastTouchX(touchX);\n        setLastTouchTime(now);\n\n        setScrollPosition((prev) => {\n          const sensitivity = isMobile ? 1.5 : 1.2;\n          const newPosition = prev + diff * sensitivity;\n          setTouchStartX(touchX);\n\n          // Enhanced elastic boundaries\n          if (newPosition < 0) {\n            return Math.max(newPosition * 0.3, -containerWidth * 0.1);\n          }\n          if (newPosition > contentWidth - containerWidth) {\n            const overscroll = newPosition - (contentWidth - containerWidth);\n            return contentWidth - containerWidth + overscroll * 0.3;\n          }\n\n          return newPosition;\n        });\n      }\n    },\n    [\n      isUserInteracting,\n      touchStartX,\n      lastTouchTime,\n      lastTouchX,\n      containerWidth,\n      contentWidth,\n      isMobile,\n    ]\n  );\n\n  // Enhanced hover/touch interaction\n  const handleMouseEnter = useCallback(\n    (index) => {\n      if (!isMobile) {\n        setIsPaused(true);\n        setActiveCardIndex(index);\n      }\n    },\n    [isMobile]\n  );\n\n  const handleMouseLeave = useCallback(() => {\n    if (!isMobile) {\n      setTimeout(() => {\n        setIsPaused(false);\n        setActiveCardIndex(null);\n      }, 50);\n    }\n  }, [isMobile]);\n\n  // Enhanced video selection and modal\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n    setShowModal(true);\n    document.body.style.overflow = \"hidden\"; // Prevent scrolling when modal is open\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    // Add fade out animation before removing\n    const modal = document.querySelector(\".video-modal-dupinhome\");\n    if (modal) {\n      modal.classList.add(\"closing\");\n      setTimeout(() => {\n        setSelectedVideo(null);\n        document.body.style.overflow = \"auto\"; // Re-enable scrolling\n      }, 300);\n    } else {\n      setSelectedVideo(null);\n      document.body.style.overflow = \"auto\";\n    }\n  };\n\n  // Close modal when clicking outside the content\n  const handleModalBackdropClick = (e) => {\n    if (e.target.classList.contains(\"video-modal-dupinhome\")) {\n      closeModal();\n    }\n  };\n\n  // Calculate parallax offset for items\n  const getParallaxOffset = (index) => {\n    const baseOffset = scrollProgress * 15;\n    return baseOffset + (index % 3) * 5;\n  };\n\n  return (\n    <section className=\"dupin-section\" id=\"dupin\" ref={sectionRef}>\n      <div\n        className=\"dupin-background\"\n        style={{ opacity: 0.05 + scrollProgress * 0.1 }}\n      ></div>\n\n      <div\n        className=\"dupin-header\"\n        style={{ transform: `translateY(${scrollProgress * -20}px)` }}\n      >\n        <h2 className=\"dupin-title notranslate\">MUSÉE DU PIN +</h2>\n        <div className=\"dupin-subtitle\">\n          Khám phá nội dung kỹ thuật số độc quyền của chúng tôi\n        </div>\n      </div>\n\n      <div className={`dupin-gallery-container ${isVisible ? \"visible\" : \"\"}`}>\n        {isMobile && showSwipeHint && (\n          <div className=\"swipe-hint\">\n            <span className=\"swipe-text\">\n              Swipe to explore\n              <svg\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                height=\"18\"\n                width=\"18\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M9 5l7 7-7 7\"\n                ></path>\n              </svg>\n            </span>\n          </div>\n        )}\n\n        <div\n          className=\"dupin-gallerys\"\n          ref={scrollContainerRef}\n          onMouseLeave={handleMouseLeave}\n          onTouchStart={handleTouchStart}\n          onTouchEnd={handleTouchEnd}\n          onTouchMove={handleTouchMove}\n          style={isMobile ? { overflow: \"visible\" } : {}}\n        >\n          <div className=\"dupin-inner-container\">\n            {videoData.map((video, index) => (\n              <div\n                key={video.id}\n                className={`dupin-item ${\n                  activeCardIndex === index ? \"active\" : \"\"\n                }`}\n                style={{\n                  animationDelay: `${index * 0.15 + 0.1}s`,\n                  transform: `translateY(${getParallaxOffset(index)}px)`,\n                }}\n                onMouseEnter={() => handleMouseEnter(index)}\n              >\n                <div\n                  className=\"dupin-video-wrapper\"\n                  onClick={() => openVideoModal(video)}\n                >\n                  <div className=\"dupin-thumbnail-container\">\n                    <img\n                      src={video.thumbnail}\n                      alt={video.title}\n                      className=\"dupin-thumbnail\"\n                      loading=\"lazy\"\n                    />\n                    <span className=\"dupin-category\">{video.category}</span>\n                    <div className=\"dupin-gradient-overlay\"></div>\n                    <div className=\"play-button\">\n                      <svg viewBox=\"0 0 100 100\" className=\"play-icon\">\n                        <circle\n                          cx=\"50\"\n                          cy=\"50\"\n                          r=\"45\"\n                          className=\"play-circle\"\n                        />\n                        <polygon\n                          points=\"40,30 70,50 40,70\"\n                          className=\"play-triangle\"\n                        />\n                      </svg>\n                    </div>\n                  </div>\n                  <div className=\"dupin-overlay\">\n                    <div className=\"dupin-info\">\n                      <div className=\"dupin-meta\">\n                        <span className=\"video-tag\">VIDEO</span>\n                        <span className=\"video-duration\">{video.duration}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"scroll-indicator\">\n          <div className=\"scroll-track\">\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                width: `${(containerWidth / contentWidth) * 100}%`,\n                left: `${(scrollPosition / contentWidth) * 100}%`,\n              }}\n            ></div>\n          </div>\n        </div>\n      </div>\n\n      <div\n        className=\"dupin-footer\"\n        style={{ transform: `translateY(${scrollProgress * -10}px)` }}\n      >\n        <Link to=\"/dupinplus\" className=\"view-all-link\">\n          Nội dung thêm trên Musée Du Pin+\n          <span className=\"arrow-icon\">→</span>\n        </Link>\n      </div>\n\n      {/* Video Modal with enhanced animation */}\n      {showModal && (\n        <div className=\"video-modal-dupinhome\" onClick={handleModalBackdropClick}>\n          <div className=\"video-modal-dupinhome-content\">\n            <button className=\"close-modal-dupinhome\" onClick={closeModal}>\n              ×\n            </button>\n            <div className=\"video-container\">\n              <iframe\n                src={`https://www.youtube.com/embed/${selectedVideo.youtubeId}?autoplay=1`}\n                title={selectedVideo.title}\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n              ></iframe>\n            </div>\n            <div className=\"video-modal-dupinhome-info\">\n              <div className=\"video-modal-dupinhome-category\">\n                {selectedVideo.category}\n              </div>\n              <h3 className=\"video-modal-dupinhome-title\">{selectedVideo.title}</h3>\n              {selectedVideo.subtitle && (\n                <p className=\"video-modal-dupinhome-subtitle\">{selectedVideo.subtitle}</p>\n              )}\n              <p className=\"video-modal-dupinhome-duration\">{selectedVideo.duration}</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default DuPin;\n",
      "start": 1751851850947,
      "end": 1751851851619,
      "sourcemaps": null
    },
    {
      "name": "vite:react-babel",
      "start": 1751851851619,
      "end": 1751851851619,
      "order": "pre"
    },
    {
      "name": "vite:esbuild",
      "result": "import { jsx, jsxs } from \"react/jsx-runtime\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./DuPin.css\";\nconst videoData = [\n  {\n    id: 1,\n    title: \"Góc nhìn từ Bảo Tàng Thông – Một lát cắt Đà Lạt trọn vẹn trong ánh chiều tà!\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"aozcRuYVPKw\",\n    // Replace with actual YouTube ID\n    duration: \"11s\",\n    thumbnail: \"https://i.ytimg.com/vi/aozcRuYVPKw/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\"\n  },\n  {\n    id: 2,\n    title: \"Sự hòa trộn phối ghép của màu sắc, vật liệu chất chứa bên trong những giá trị của vùng đất đại ngàn.\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"mhHVg1Hlq-Y\",\n    // Replace with actual YouTube ID\n    duration: \"22s\",\n    thumbnail: \"https://i.ytimg.com/vi/mhHVg1Hlq-Y/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\"\n  },\n  {\n    id: 3,\n    title: \"Nhà Mắt Thông- Tinh Hoa Kiến Trúc Giữa Lòng Thiên Nhiên\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"XHcN9NoTzd4\",\n    // Replace with actual YouTube ID\n    duration: \"1:19s\",\n    thumbnail: \"https://i.ytimg.com/vi/XHcN9NoTzd4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\"\n  },\n  {\n    id: 4,\n    title: \"Chạm vào Langbiang Art Space\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"iphjfzjG-G4\",\n    // Replace with actual YouTube ID\n    duration: \"27s\",\n    thumbnail: \"https://i.ytimg.com/vi/iphjfzjG-G4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Live\"\n  },\n  {\n    id: 5,\n    title: \"Mỗi giọt sơn là một phần của câu chuyện, mỗi nét cọ là một phần tâm hồn\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"vGVCScsRiK4\",\n    // Replace with actual YouTube ID\n    duration: \"28s\",\n    thumbnail: \"https://i.ytimg.com/vi/vGVCScsRiK4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\"\n  },\n  {\n    id: 6,\n    title: \"MỖI VẬT PHẨM – MỘT NÉT VĂN HOÁ LANGBIANG\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"y8O6GSFVedg\",\n    // Replace with actual YouTube ID\n    duration: \"1:36s\",\n    thumbnail: \"https://i.ytimg.com/vi/y8O6GSFVedg/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Văn hóa\"\n  },\n  {\n    id: 7,\n    title: \"LANGBIANG - KHÔNG GIAN NGHỆ THUẬT SỐNG CÙNG VĂN HOÁ\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"1c6cPAkPXto\",\n    // Replace with actual YouTube ID\n    duration: \"32s\",\n    thumbnail: \"https://i.ytimg.com/vi/1c6cPAkPXto/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Văn hóa\"\n  },\n  {\n    id: 8,\n    title: \"Sớm bình minh mờ sương trong hành trình lưu trú nghệ thuật tại Bảo Tàng Thông!\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"pE4CGNBrE1M\",\n    // Replace with actual YouTube ID\n    duration: \"16s\",\n    thumbnail: \"https://i.ytimg.com/vi/pE4CGNBrE1M/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\"\n  },\n  {\n    id: 9,\n    title: \"ÂM THANH CỦA RỪNG, NHỊP ĐẬP CỦA LINH HỒN\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"pYAdoqUkVHo\",\n    // Replace with actual YouTube ID\n    duration: \"44s\",\n    thumbnail: \"https://i.ytimg.com/vi/pYAdoqUkVHo/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Âm nhạc\"\n  },\n  {\n    id: 10,\n    title: \"Chỉ cần đi chậm lại, bạn sẽ thấy nơi đây vẫn còn nguyên những bình yên tưởng chừng đã mất\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"aTeAHvkXqDU\",\n    // Replace with actual YouTube ID\n    duration: \"38s\",\n    thumbnail: \"https://i.ytimg.com/vi/aTeAHvkXqDU/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\"\n  },\n  {\n    id: 11,\n    title: \"Tiếng thông xào xạc hay lời kêu cứu lặng thầm?\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"MOtrdJzefmQ\",\n    // Replace with actual YouTube ID\n    duration: \"49s\",\n    thumbnail: \"https://i.ytimg.com/vi/MOtrdJzefmQ/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\"\n  },\n  {\n    id: 12,\n    title: \"Có những câu chuyện chỉ có thể lắng nghe khi ta đủ tĩnh lặng.\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"qR2H15Q1nc8\",\n    // Replace with actual YouTube ID\n    duration: \"43s\",\n    thumbnail: \"https://i.ytimg.com/vi/qR2H15Q1nc8/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\"\n  },\n  {\n    id: 13,\n    title: \"KHÉP LẠI MDP-AR MÙA 1: HÀNH TRÌNH NGHỆ THUẬT VÌ THIÊN NHIÊN ĐÀ LẠT\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"HDOx1dRhRY8\",\n    // Replace with actual YouTube ID\n    duration: \"40s\",\n    thumbnail: \"https://i.ytimg.com/vi/HDOx1dRhRY8/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Live\"\n  },\n  {\n    id: 14,\n    title: \"NHẠC CỤ DÂN TỘC\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"epnBikruPUM\",\n    // Replace with actual YouTube ID\n    duration: \"1:24s\",\n    thumbnail: \"https://i.ytimg.com/vi/epnBikruPUM/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Âm nhạc\"\n  },\n  {\n    id: 14,\n    title: \"Có những câu chuyện chỉ có thể lắng nghe khi ta đủ tĩnh lặ<ng></ng>\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"EM-XJW7zyoo\",\n    // Replace with actual YouTube ID\n    duration: \"41s\",\n    thumbnail: \"https://i.ytimg.com/vi/EM-XJW7zyoo/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\",\n    // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\"\n  }\n];\nconst DuPin = () => {\n  const scrollContainerRef = useRef(null);\n  const sectionRef = useRef(null);\n  const [isVisible, setIsVisible] = useState(false);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const animationRef = useRef(null);\n  const lastTimestampRef = useRef(null);\n  const [scrollPosition, setScrollPosition] = useState(0);\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [contentWidth, setContentWidth] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const [activeCardIndex, setActiveCardIndex] = useState(null);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const [isUserInteracting, setIsUserInteracting] = useState(false);\n  const [showSwipeHint, setShowSwipeHint] = useState(true);\n  const [isDesktop, setIsDesktop] = useState(false);\n  const [lastTouchX, setLastTouchX] = useState(0);\n  const [lastTouchTime, setLastTouchTime] = useState(0);\n  const [touchVelocity, setTouchVelocity] = useState(0);\n  useEffect(() => {\n    let timeoutId;\n    const handleResize = () => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        const width = window.innerWidth;\n        setIsMobile(width <= 768);\n        setIsDesktop(width >= 1200);\n      }, 100);\n    };\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n    if (isMobile) {\n      const timer = setTimeout(() => {\n        setShowSwipeHint(false);\n      }, 5e3);\n      return () => clearTimeout(timer);\n    }\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      clearTimeout(timeoutId);\n    };\n  }, [isMobile]);\n  const handleVisibilityChange = useCallback((entries) => {\n    const entry = entries[0];\n    if (entry.isIntersecting) {\n      const ratio = Math.min(entry.intersectionRatio * 1.5, 1);\n      if (ratio > 0.2) {\n        setIsVisible(true);\n      }\n    } else if (entry.intersectionRatio === 0) {\n      setIsVisible(false);\n    }\n  }, []);\n  useEffect(() => {\n    const options = {\n      threshold: [0.1, 0.2, 0.5, 0.8],\n      rootMargin: \"0px 0px 100px 0px\"\n    };\n    const observer = new IntersectionObserver(handleVisibilityChange, options);\n    if (scrollContainerRef.current) {\n      observer.observe(scrollContainerRef.current);\n    }\n    return () => {\n      if (scrollContainerRef.current) {\n        observer.unobserve(scrollContainerRef.current);\n      }\n    };\n  }, [handleVisibilityChange]);\n  useEffect(() => {\n    const handleParallax = () => {\n      if (sectionRef.current) {\n        const rect = sectionRef.current.getBoundingClientRect();\n        const windowHeight = window.innerHeight;\n        if (rect.top < windowHeight && rect.bottom > 0) {\n          const scrolled = (windowHeight - rect.top) / (windowHeight + rect.height);\n          setScrollProgress(Math.min(Math.max(scrolled, 0), 1));\n        }\n      }\n    };\n    window.addEventListener(\"scroll\", handleParallax);\n    return () => window.removeEventListener(\"scroll\", handleParallax);\n  }, []);\n  useEffect(() => {\n    if (!scrollContainerRef.current) return;\n    const calculateWidths = () => {\n      if (scrollContainerRef.current) {\n        const containerWidth2 = scrollContainerRef.current.clientWidth;\n        const contentWidth2 = scrollContainerRef.current.scrollWidth;\n        setContainerWidth(containerWidth2);\n        setContentWidth(contentWidth2);\n      }\n    };\n    if (window.ResizeObserver) {\n      const resizeObserver = new ResizeObserver(calculateWidths);\n      resizeObserver.observe(scrollContainerRef.current);\n      return () => {\n        resizeObserver.disconnect();\n      };\n    } else {\n      calculateWidths();\n      let debounceTimer;\n      const handleResize = () => {\n        clearTimeout(debounceTimer);\n        debounceTimer = setTimeout(calculateWidths, 100);\n      };\n      window.addEventListener(\"resize\", handleResize);\n      return () => {\n        window.removeEventListener(\"resize\", handleResize);\n        clearTimeout(debounceTimer);\n      };\n    }\n  }, []);\n  useEffect(() => {\n    if (!isVisible || isPaused || isUserInteracting) {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n    const baseScrollSpeed = isMobile ? 0.8 : isDesktop ? 1.2 : 1;\n    const maxScroll = contentWidth - containerWidth;\n    let lastScrollTime = performance.now();\n    const animate = (timestamp) => {\n      if (!lastTimestampRef.current) lastTimestampRef.current = timestamp;\n      const currentTime = performance.now();\n      const timeDiff = currentTime - lastScrollTime;\n      const frameMultiplier = Math.min(timeDiff / 16.67, 2);\n      const scrollSpeed = baseScrollSpeed * frameMultiplier;\n      setScrollPosition((prevPosition) => {\n        const newPosition = prevPosition + scrollSpeed;\n        if (newPosition >= maxScroll) {\n          return 0;\n        }\n        return newPosition;\n      });\n      lastTimestampRef.current = timestamp;\n      lastScrollTime = currentTime;\n      animationRef.current = requestAnimationFrame(animate);\n    };\n    animationRef.current = requestAnimationFrame(animate);\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      lastTimestampRef.current = null;\n    };\n  }, [\n    isVisible,\n    containerWidth,\n    contentWidth,\n    isPaused,\n    isMobile,\n    isDesktop,\n    isUserInteracting\n  ]);\n  useEffect(() => {\n    if (scrollContainerRef.current) {\n      const transform = `translateX(-${scrollPosition}px)`;\n      scrollContainerRef.current.style.transform = transform;\n      scrollContainerRef.current.style.willChange = \"transform\";\n    }\n  }, [scrollPosition]);\n  const handleTouchStart = useCallback((e) => {\n    setIsPaused(true);\n    setIsUserInteracting(true);\n    setTouchStartX(e.touches[0].clientX);\n    setLastTouchX(e.touches[0].clientX);\n    setLastTouchTime(Date.now());\n    setShowSwipeHint(false);\n  }, []);\n  const handleTouchEnd = useCallback(() => {\n    setIsUserInteracting(false);\n    if (Math.abs(touchVelocity) > 0.3) {\n      const momentum = touchVelocity * 120;\n      const targetScroll = scrollPosition + momentum;\n      const startScroll = scrollPosition;\n      const startTime = performance.now();\n      const duration = Math.min(Math.abs(momentum) * 2, 800);\n      const animateMomentum = () => {\n        const elapsed = performance.now() - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n        const easeOutExpo = (t) => t === 1 ? 1 : 1 - Math.pow(2, -10 * t);\n        const currentProgress = easeOutExpo(progress);\n        const newScroll = startScroll + (targetScroll - startScroll) * currentProgress;\n        setScrollPosition(\n          Math.max(0, Math.min(newScroll, contentWidth - containerWidth))\n        );\n        if (progress < 1) {\n          requestAnimationFrame(animateMomentum);\n        } else {\n          setTimeout(() => setIsPaused(false), 500);\n        }\n      };\n      requestAnimationFrame(animateMomentum);\n    } else {\n      setTimeout(() => setIsPaused(false), 500);\n    }\n  }, [touchVelocity, scrollPosition, contentWidth, containerWidth]);\n  const handleTouchMove = useCallback(\n    (e) => {\n      if (isUserInteracting && scrollContainerRef.current) {\n        const touchX = e.touches[0].clientX;\n        const diff = touchStartX - touchX;\n        const now = performance.now();\n        const deltaTime = now - lastTouchTime;\n        const deltaX = touchX - lastTouchX;\n        const newVelocity = deltaX / Math.max(deltaTime, 1);\n        setTouchVelocity(newVelocity * 1.5);\n        setLastTouchX(touchX);\n        setLastTouchTime(now);\n        setScrollPosition((prev) => {\n          const sensitivity = isMobile ? 1.5 : 1.2;\n          const newPosition = prev + diff * sensitivity;\n          setTouchStartX(touchX);\n          if (newPosition < 0) {\n            return Math.max(newPosition * 0.3, -containerWidth * 0.1);\n          }\n          if (newPosition > contentWidth - containerWidth) {\n            const overscroll = newPosition - (contentWidth - containerWidth);\n            return contentWidth - containerWidth + overscroll * 0.3;\n          }\n          return newPosition;\n        });\n      }\n    },\n    [\n      isUserInteracting,\n      touchStartX,\n      lastTouchTime,\n      lastTouchX,\n      containerWidth,\n      contentWidth,\n      isMobile\n    ]\n  );\n  const handleMouseEnter = useCallback(\n    (index) => {\n      if (!isMobile) {\n        setIsPaused(true);\n        setActiveCardIndex(index);\n      }\n    },\n    [isMobile]\n  );\n  const handleMouseLeave = useCallback(() => {\n    if (!isMobile) {\n      setTimeout(() => {\n        setIsPaused(false);\n        setActiveCardIndex(null);\n      }, 50);\n    }\n  }, [isMobile]);\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n    setShowModal(true);\n    document.body.style.overflow = \"hidden\";\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    const modal = document.querySelector(\".video-modal-dupinhome\");\n    if (modal) {\n      modal.classList.add(\"closing\");\n      setTimeout(() => {\n        setSelectedVideo(null);\n        document.body.style.overflow = \"auto\";\n      }, 300);\n    } else {\n      setSelectedVideo(null);\n      document.body.style.overflow = \"auto\";\n    }\n  };\n  const handleModalBackdropClick = (e) => {\n    if (e.target.classList.contains(\"video-modal-dupinhome\")) {\n      closeModal();\n    }\n  };\n  const getParallaxOffset = (index) => {\n    const baseOffset = scrollProgress * 15;\n    return baseOffset + index % 3 * 5;\n  };\n  return /* @__PURE__ */ jsxs(\"section\", { className: \"dupin-section\", id: \"dupin\", ref: sectionRef, children: [\n    /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: \"dupin-background\",\n        style: { opacity: 0.05 + scrollProgress * 0.1 }\n      }\n    ),\n    /* @__PURE__ */ jsxs(\n      \"div\",\n      {\n        className: \"dupin-header\",\n        style: { transform: `translateY(${scrollProgress * -20}px)` },\n        children: [\n          /* @__PURE__ */ jsx(\"h2\", { className: \"dupin-title notranslate\", children: \"MUSÉE DU PIN +\" }),\n          /* @__PURE__ */ jsx(\"div\", { className: \"dupin-subtitle\", children: \"Khám phá nội dung kỹ thuật số độc quyền của chúng tôi\" })\n        ]\n      }\n    ),\n    /* @__PURE__ */ jsxs(\"div\", { className: `dupin-gallery-container ${isVisible ? \"visible\" : \"\"}`, children: [\n      isMobile && showSwipeHint && /* @__PURE__ */ jsx(\"div\", { className: \"swipe-hint\", children: /* @__PURE__ */ jsxs(\"span\", { className: \"swipe-text\", children: [\n        \"Swipe to explore\",\n        /* @__PURE__ */ jsx(\n          \"svg\",\n          {\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            height: \"18\",\n            width: \"18\",\n            stroke: \"currentColor\",\n            children: /* @__PURE__ */ jsx(\n              \"path\",\n              {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M9 5l7 7-7 7\"\n              }\n            )\n          }\n        )\n      ] }) }),\n      /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          className: \"dupin-gallerys\",\n          ref: scrollContainerRef,\n          onMouseLeave: handleMouseLeave,\n          onTouchStart: handleTouchStart,\n          onTouchEnd: handleTouchEnd,\n          onTouchMove: handleTouchMove,\n          style: isMobile ? { overflow: \"visible\" } : {},\n          children: /* @__PURE__ */ jsx(\"div\", { className: \"dupin-inner-container\", children: videoData.map((video, index) => /* @__PURE__ */ jsx(\n            \"div\",\n            {\n              className: `dupin-item ${activeCardIndex === index ? \"active\" : \"\"}`,\n              style: {\n                animationDelay: `${index * 0.15 + 0.1}s`,\n                transform: `translateY(${getParallaxOffset(index)}px)`\n              },\n              onMouseEnter: () => handleMouseEnter(index),\n              children: /* @__PURE__ */ jsxs(\n                \"div\",\n                {\n                  className: \"dupin-video-wrapper\",\n                  onClick: () => openVideoModal(video),\n                  children: [\n                    /* @__PURE__ */ jsxs(\"div\", { className: \"dupin-thumbnail-container\", children: [\n                      /* @__PURE__ */ jsx(\n                        \"img\",\n                        {\n                          src: video.thumbnail,\n                          alt: video.title,\n                          className: \"dupin-thumbnail\",\n                          loading: \"lazy\"\n                        }\n                      ),\n                      /* @__PURE__ */ jsx(\"span\", { className: \"dupin-category\", children: video.category }),\n                      /* @__PURE__ */ jsx(\"div\", { className: \"dupin-gradient-overlay\" }),\n                      /* @__PURE__ */ jsx(\"div\", { className: \"play-button\", children: /* @__PURE__ */ jsxs(\"svg\", { viewBox: \"0 0 100 100\", className: \"play-icon\", children: [\n                        /* @__PURE__ */ jsx(\n                          \"circle\",\n                          {\n                            cx: \"50\",\n                            cy: \"50\",\n                            r: \"45\",\n                            className: \"play-circle\"\n                          }\n                        ),\n                        /* @__PURE__ */ jsx(\n                          \"polygon\",\n                          {\n                            points: \"40,30 70,50 40,70\",\n                            className: \"play-triangle\"\n                          }\n                        )\n                      ] }) })\n                    ] }),\n                    /* @__PURE__ */ jsx(\"div\", { className: \"dupin-overlay\", children: /* @__PURE__ */ jsx(\"div\", { className: \"dupin-info\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"dupin-meta\", children: [\n                      /* @__PURE__ */ jsx(\"span\", { className: \"video-tag\", children: \"VIDEO\" }),\n                      /* @__PURE__ */ jsx(\"span\", { className: \"video-duration\", children: video.duration })\n                    ] }) }) })\n                  ]\n                }\n              )\n            },\n            video.id\n          )) })\n        }\n      ),\n      /* @__PURE__ */ jsx(\"div\", { className: \"scroll-indicator\", children: /* @__PURE__ */ jsx(\"div\", { className: \"scroll-track\", children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          className: \"scroll-thumb\",\n          style: {\n            width: `${containerWidth / contentWidth * 100}%`,\n            left: `${scrollPosition / contentWidth * 100}%`\n          }\n        }\n      ) }) })\n    ] }),\n    /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: \"dupin-footer\",\n        style: { transform: `translateY(${scrollProgress * -10}px)` },\n        children: /* @__PURE__ */ jsxs(Link, { to: \"/dupinplus\", className: \"view-all-link\", children: [\n          \"Nội dung thêm trên Musée Du Pin+\",\n          /* @__PURE__ */ jsx(\"span\", { className: \"arrow-icon\", children: \"→\" })\n        ] })\n      }\n    ),\n    showModal && /* @__PURE__ */ jsx(\"div\", { className: \"video-modal-dupinhome\", onClick: handleModalBackdropClick, children: /* @__PURE__ */ jsxs(\"div\", { className: \"video-modal-dupinhome-content\", children: [\n      /* @__PURE__ */ jsx(\"button\", { className: \"close-modal-dupinhome\", onClick: closeModal, children: \"×\" }),\n      /* @__PURE__ */ jsx(\"div\", { className: \"video-container\", children: /* @__PURE__ */ jsx(\n        \"iframe\",\n        {\n          src: `https://www.youtube.com/embed/${selectedVideo.youtubeId}?autoplay=1`,\n          title: selectedVideo.title,\n          allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n          allowFullScreen: true\n        }\n      ) }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"video-modal-dupinhome-info\", children: [\n        /* @__PURE__ */ jsx(\"div\", { className: \"video-modal-dupinhome-category\", children: selectedVideo.category }),\n        /* @__PURE__ */ jsx(\"h3\", { className: \"video-modal-dupinhome-title\", children: selectedVideo.title }),\n        selectedVideo.subtitle && /* @__PURE__ */ jsx(\"p\", { className: \"video-modal-dupinhome-subtitle\", children: selectedVideo.subtitle }),\n        /* @__PURE__ */ jsx(\"p\", { className: \"video-modal-dupinhome-duration\", children: selectedVideo.duration })\n      ] })\n    ] }) })\n  ] });\n};\nexport default DuPin;\n",
      "start": 1751851851619,
      "end": 1751851853123,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "C:/Users/.Freelancer/MUSSEEDUPIN/src/components/Home/DuPin/DuPin.jsx"
        ],
        "sourcesContent": [
          "import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./DuPin.css\";\n\n// Sample video data - replace with your actual YouTube videos\nconst videoData = [\n  {\n    id: 1,\n    title:\n      \"Góc nhìn từ Bảo Tàng Thông – Một lát cắt Đà Lạt trọn vẹn trong ánh chiều tà!\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"aozcRuYVPKw\", // Replace with actual YouTube ID\n    duration: \"11s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/aozcRuYVPKw/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 2,\n    title:\n      \"Sự hòa trộn phối ghép của màu sắc, vật liệu chất chứa bên trong những giá trị của vùng đất đại ngàn.\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"mhHVg1Hlq-Y\", // Replace with actual YouTube ID\n    duration: \"22s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/mhHVg1Hlq-Y/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\",\n  },\n  {\n    id: 3,\n    title: \"Nhà Mắt Thông- Tinh Hoa Kiến Trúc Giữa Lòng Thiên Nhiên\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"XHcN9NoTzd4\", // Replace with actual YouTube ID\n    duration: \"1:19s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/XHcN9NoTzd4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\",\n  },\n  {\n    id: 4,\n    title: \"Chạm vào Langbiang Art Space\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"iphjfzjG-G4\", // Replace with actual YouTube ID\n    duration: \"27s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/iphjfzjG-G4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Live\",\n  },\n  {\n    id: 5,\n    title:\n      \"Mỗi giọt sơn là một phần của câu chuyện, mỗi nét cọ là một phần tâm hồn\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"vGVCScsRiK4\", // Replace with actual YouTube ID\n    duration: \"28s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/vGVCScsRiK4/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Kiến trúc\",\n  },\n  {\n    id: 6,\n    title: \"MỖI VẬT PHẨM – MỘT NÉT VĂN HOÁ LANGBIANG\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"y8O6GSFVedg\", // Replace with actual YouTube ID\n    duration: \"1:36s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/y8O6GSFVedg/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Văn hóa\",\n  },\n  {\n    id: 7,\n    title: \"LANGBIANG - KHÔNG GIAN NGHỆ THUẬT SỐNG CÙNG VĂN HOÁ\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"1c6cPAkPXto\", // Replace with actual YouTube ID\n    duration: \"32s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/1c6cPAkPXto/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Văn hóa\",\n  },\n  {\n    id: 8,\n    title:\n      \"Sớm bình minh mờ sương trong hành trình lưu trú nghệ thuật tại Bảo Tàng Thông!\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"pE4CGNBrE1M\", // Replace with actual YouTube ID\n    duration: \"16s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/pE4CGNBrE1M/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 9,\n    title: \"ÂM THANH CỦA RỪNG, NHỊP ĐẬP CỦA LINH HỒN\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"pYAdoqUkVHo\", // Replace with actual YouTube ID\n    duration: \"44s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/pYAdoqUkVHo/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Âm nhạc\",\n  },\n  {\n    id: 10,\n    title:\n      \"Chỉ cần đi chậm lại, bạn sẽ thấy nơi đây vẫn còn nguyên những bình yên tưởng chừng đã mất\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"aTeAHvkXqDU\", // Replace with actual YouTube ID\n    duration: \"38s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/aTeAHvkXqDU/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 11,\n    title: \"Tiếng thông xào xạc hay lời kêu cứu lặng thầm?\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"MOtrdJzefmQ\", // Replace with actual YouTube ID\n    duration: \"49s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/MOtrdJzefmQ/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 12,\n    title: \"Có những câu chuyện chỉ có thể lắng nghe khi ta đủ tĩnh lặng.\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"qR2H15Q1nc8\", // Replace with actual YouTube ID\n    duration: \"43s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/qR2H15Q1nc8/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n  {\n    id: 13,\n    title: \"KHÉP LẠI MDP-AR MÙA 1: HÀNH TRÌNH NGHỆ THUẬT VÌ THIÊN NHIÊN ĐÀ LẠT\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"HDOx1dRhRY8\", // Replace with actual YouTube ID\n    duration: \"40s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/HDOx1dRhRY8/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Live\",\n  },\n  {\n    id: 14,\n    title: \"NHẠC CỤ DÂN TỘC\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"epnBikruPUM\", // Replace with actual YouTube ID\n    duration: \"1:24s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/epnBikruPUM/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Âm nhạc\",\n  },\n    {\n    id: 14,\n    title: \"Có những câu chuyện chỉ có thể lắng nghe khi ta đủ tĩnh lặ<ng></ng>\",\n    subtitle: \"Góc nhìn từ Bảo Tàng Thông\",\n    youtubeId: \"EM-XJW7zyoo\", // Replace with actual YouTube ID\n    duration: \"41s\",\n    thumbnail:\n      \"https://i.ytimg.com/vi/EM-XJW7zyoo/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AG2CIAC0AWKAgwIABABGD4gQihyMA8=&rs=AOn4CLCybz6fVtK17RW4ZlrHrBfDMcmiPw\", // This will be replaced with actual thumbnails\n    category: \"Thiên nhiên\",\n  },\n];\n\nconst DuPin = () => {\n  const scrollContainerRef = useRef(null);\n  const sectionRef = useRef(null);\n  const [isVisible, setIsVisible] = useState(false);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const animationRef = useRef(null);\n  const lastTimestampRef = useRef(null);\n  const [scrollPosition, setScrollPosition] = useState(0);\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [contentWidth, setContentWidth] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const [activeCardIndex, setActiveCardIndex] = useState(null);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const [isUserInteracting, setIsUserInteracting] = useState(false);\n  const [showSwipeHint, setShowSwipeHint] = useState(true);\n  const [isDesktop, setIsDesktop] = useState(false);\n  const [lastTouchX, setLastTouchX] = useState(0);\n  const [lastTouchTime, setLastTouchTime] = useState(0);\n  const [touchVelocity, setTouchVelocity] = useState(0);\n\n  // Check if mobile and desktop\n  useEffect(() => {\n    let timeoutId;\n    const handleResize = () => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        const width = window.innerWidth;\n        setIsMobile(width <= 768);\n        setIsDesktop(width >= 1200);\n      }, 100);\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n\n    // Hide swipe hint after 5 seconds on mobile\n    if (isMobile) {\n      const timer = setTimeout(() => {\n        setShowSwipeHint(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      clearTimeout(timeoutId);\n    };\n  }, [isMobile]);\n\n  // Handle visibility detection with enhanced threshold\n  const handleVisibilityChange = useCallback((entries) => {\n    const entry = entries[0];\n    if (entry.isIntersecting) {\n      const ratio = Math.min(entry.intersectionRatio * 1.5, 1);\n      if (ratio > 0.2) {\n        setIsVisible(true);\n      }\n    } else if (entry.intersectionRatio === 0) {\n      setIsVisible(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    const options = {\n      threshold: [0.1, 0.2, 0.5, 0.8],\n      rootMargin: \"0px 0px 100px 0px\",\n    };\n\n    const observer = new IntersectionObserver(handleVisibilityChange, options);\n\n    if (scrollContainerRef.current) {\n      observer.observe(scrollContainerRef.current);\n    }\n\n    return () => {\n      if (scrollContainerRef.current) {\n        observer.unobserve(scrollContainerRef.current);\n      }\n    };\n  }, [handleVisibilityChange]);\n\n  // Parallax scrolling effect\n  useEffect(() => {\n    const handleParallax = () => {\n      if (sectionRef.current) {\n        const rect = sectionRef.current.getBoundingClientRect();\n        const windowHeight = window.innerHeight;\n\n        if (rect.top < windowHeight && rect.bottom > 0) {\n          const scrolled =\n            (windowHeight - rect.top) / (windowHeight + rect.height);\n          setScrollProgress(Math.min(Math.max(scrolled, 0), 1));\n        }\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleParallax);\n    return () => window.removeEventListener(\"scroll\", handleParallax);\n  }, []);\n\n  // Calculate widths for scroll animation with improved precision\n  useEffect(() => {\n    if (!scrollContainerRef.current) return;\n\n    const calculateWidths = () => {\n      if (scrollContainerRef.current) {\n        const containerWidth = scrollContainerRef.current.clientWidth;\n        const contentWidth = scrollContainerRef.current.scrollWidth;\n\n        setContainerWidth(containerWidth);\n        setContentWidth(contentWidth);\n      }\n    };\n\n    if (window.ResizeObserver) {\n      const resizeObserver = new ResizeObserver(calculateWidths);\n      resizeObserver.observe(scrollContainerRef.current);\n\n      return () => {\n        resizeObserver.disconnect();\n      };\n    } else {\n      calculateWidths();\n\n      let debounceTimer;\n      const handleResize = () => {\n        clearTimeout(debounceTimer);\n        debounceTimer = setTimeout(calculateWidths, 100);\n      };\n\n      window.addEventListener(\"resize\", handleResize);\n\n      return () => {\n        window.removeEventListener(\"resize\", handleResize);\n        clearTimeout(debounceTimer);\n      };\n    }\n  }, []);\n\n  // Enhanced auto-scroll animation with consistent speed\n  useEffect(() => {\n    if (!isVisible || isPaused || isUserInteracting) {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n\n    // Set constant speed for different devices\n    const baseScrollSpeed = isMobile ? 0.8 : isDesktop ? 1.2 : 1;\n    const maxScroll = contentWidth - containerWidth;\n    let lastScrollTime = performance.now();\n\n    const animate = (timestamp) => {\n      if (!lastTimestampRef.current) lastTimestampRef.current = timestamp;\n      const currentTime = performance.now();\n      const timeDiff = currentTime - lastScrollTime;\n\n      // Keep consistent frame timing\n      const frameMultiplier = Math.min(timeDiff / 16.67, 2);\n      const scrollSpeed = baseScrollSpeed * frameMultiplier;\n\n      setScrollPosition((prevPosition) => {\n        const newPosition = prevPosition + scrollSpeed;\n\n        // Reset position when reaching the end\n        if (newPosition >= maxScroll) {\n          return 0;\n        }\n        return newPosition;\n      });\n\n      lastTimestampRef.current = timestamp;\n      lastScrollTime = currentTime;\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    animationRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n      lastTimestampRef.current = null;\n    };\n  }, [\n    isVisible,\n    containerWidth,\n    contentWidth,\n    isPaused,\n    isMobile,\n    isDesktop,\n    isUserInteracting,\n  ]);\n\n  // Update scroll position with hardware acceleration\n  useEffect(() => {\n    if (scrollContainerRef.current) {\n      const transform = `translateX(-${scrollPosition}px)`;\n      scrollContainerRef.current.style.transform = transform;\n      scrollContainerRef.current.style.willChange = \"transform\";\n    }\n  }, [scrollPosition]);\n\n  // Enhanced touch handling with better performance\n  const handleTouchStart = useCallback((e) => {\n    setIsPaused(true);\n    setIsUserInteracting(true);\n    setTouchStartX(e.touches[0].clientX);\n    setLastTouchX(e.touches[0].clientX);\n    setLastTouchTime(Date.now());\n    setShowSwipeHint(false);\n  }, []);\n\n  const handleTouchEnd = useCallback(() => {\n    setIsUserInteracting(false);\n\n    if (Math.abs(touchVelocity) > 0.3) {\n      // Reduced threshold for more responsive feel\n      const momentum = touchVelocity * 120; // Increased multiplier\n      const targetScroll = scrollPosition + momentum;\n      const startScroll = scrollPosition;\n      const startTime = performance.now();\n      const duration = Math.min(Math.abs(momentum) * 2, 800); // Dynamic duration\n\n      const animateMomentum = () => {\n        const elapsed = performance.now() - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n\n        // Enhanced easing function\n        const easeOutExpo = (t) => (t === 1 ? 1 : 1 - Math.pow(2, -10 * t));\n        const currentProgress = easeOutExpo(progress);\n\n        const newScroll =\n          startScroll + (targetScroll - startScroll) * currentProgress;\n\n        setScrollPosition(\n          Math.max(0, Math.min(newScroll, contentWidth - containerWidth))\n        );\n\n        if (progress < 1) {\n          requestAnimationFrame(animateMomentum);\n        } else {\n          setTimeout(() => setIsPaused(false), 500);\n        }\n      };\n\n      requestAnimationFrame(animateMomentum);\n    } else {\n      setTimeout(() => setIsPaused(false), 500);\n    }\n  }, [touchVelocity, scrollPosition, contentWidth, containerWidth]);\n\n  const handleTouchMove = useCallback(\n    (e) => {\n      if (isUserInteracting && scrollContainerRef.current) {\n        const touchX = e.touches[0].clientX;\n        const diff = touchStartX - touchX;\n        const now = performance.now();\n        const deltaTime = now - lastTouchTime;\n        const deltaX = touchX - lastTouchX;\n\n        // Improved velocity calculation\n        const newVelocity = deltaX / Math.max(deltaTime, 1);\n        setTouchVelocity(newVelocity * 1.5); // Increased multiplier for smoother momentum\n\n        setLastTouchX(touchX);\n        setLastTouchTime(now);\n\n        setScrollPosition((prev) => {\n          const sensitivity = isMobile ? 1.5 : 1.2;\n          const newPosition = prev + diff * sensitivity;\n          setTouchStartX(touchX);\n\n          // Enhanced elastic boundaries\n          if (newPosition < 0) {\n            return Math.max(newPosition * 0.3, -containerWidth * 0.1);\n          }\n          if (newPosition > contentWidth - containerWidth) {\n            const overscroll = newPosition - (contentWidth - containerWidth);\n            return contentWidth - containerWidth + overscroll * 0.3;\n          }\n\n          return newPosition;\n        });\n      }\n    },\n    [\n      isUserInteracting,\n      touchStartX,\n      lastTouchTime,\n      lastTouchX,\n      containerWidth,\n      contentWidth,\n      isMobile,\n    ]\n  );\n\n  // Enhanced hover/touch interaction\n  const handleMouseEnter = useCallback(\n    (index) => {\n      if (!isMobile) {\n        setIsPaused(true);\n        setActiveCardIndex(index);\n      }\n    },\n    [isMobile]\n  );\n\n  const handleMouseLeave = useCallback(() => {\n    if (!isMobile) {\n      setTimeout(() => {\n        setIsPaused(false);\n        setActiveCardIndex(null);\n      }, 50);\n    }\n  }, [isMobile]);\n\n  // Enhanced video selection and modal\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n    setShowModal(true);\n    document.body.style.overflow = \"hidden\"; // Prevent scrolling when modal is open\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    // Add fade out animation before removing\n    const modal = document.querySelector(\".video-modal-dupinhome\");\n    if (modal) {\n      modal.classList.add(\"closing\");\n      setTimeout(() => {\n        setSelectedVideo(null);\n        document.body.style.overflow = \"auto\"; // Re-enable scrolling\n      }, 300);\n    } else {\n      setSelectedVideo(null);\n      document.body.style.overflow = \"auto\";\n    }\n  };\n\n  // Close modal when clicking outside the content\n  const handleModalBackdropClick = (e) => {\n    if (e.target.classList.contains(\"video-modal-dupinhome\")) {\n      closeModal();\n    }\n  };\n\n  // Calculate parallax offset for items\n  const getParallaxOffset = (index) => {\n    const baseOffset = scrollProgress * 15;\n    return baseOffset + (index % 3) * 5;\n  };\n\n  return (\n    <section className=\"dupin-section\" id=\"dupin\" ref={sectionRef}>\n      <div\n        className=\"dupin-background\"\n        style={{ opacity: 0.05 + scrollProgress * 0.1 }}\n      ></div>\n\n      <div\n        className=\"dupin-header\"\n        style={{ transform: `translateY(${scrollProgress * -20}px)` }}\n      >\n        <h2 className=\"dupin-title notranslate\">MUSÉE DU PIN +</h2>\n        <div className=\"dupin-subtitle\">\n          Khám phá nội dung kỹ thuật số độc quyền của chúng tôi\n        </div>\n      </div>\n\n      <div className={`dupin-gallery-container ${isVisible ? \"visible\" : \"\"}`}>\n        {isMobile && showSwipeHint && (\n          <div className=\"swipe-hint\">\n            <span className=\"swipe-text\">\n              Swipe to explore\n              <svg\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                height=\"18\"\n                width=\"18\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M9 5l7 7-7 7\"\n                ></path>\n              </svg>\n            </span>\n          </div>\n        )}\n\n        <div\n          className=\"dupin-gallerys\"\n          ref={scrollContainerRef}\n          onMouseLeave={handleMouseLeave}\n          onTouchStart={handleTouchStart}\n          onTouchEnd={handleTouchEnd}\n          onTouchMove={handleTouchMove}\n          style={isMobile ? { overflow: \"visible\" } : {}}\n        >\n          <div className=\"dupin-inner-container\">\n            {videoData.map((video, index) => (\n              <div\n                key={video.id}\n                className={`dupin-item ${\n                  activeCardIndex === index ? \"active\" : \"\"\n                }`}\n                style={{\n                  animationDelay: `${index * 0.15 + 0.1}s`,\n                  transform: `translateY(${getParallaxOffset(index)}px)`,\n                }}\n                onMouseEnter={() => handleMouseEnter(index)}\n              >\n                <div\n                  className=\"dupin-video-wrapper\"\n                  onClick={() => openVideoModal(video)}\n                >\n                  <div className=\"dupin-thumbnail-container\">\n                    <img\n                      src={video.thumbnail}\n                      alt={video.title}\n                      className=\"dupin-thumbnail\"\n                      loading=\"lazy\"\n                    />\n                    <span className=\"dupin-category\">{video.category}</span>\n                    <div className=\"dupin-gradient-overlay\"></div>\n                    <div className=\"play-button\">\n                      <svg viewBox=\"0 0 100 100\" className=\"play-icon\">\n                        <circle\n                          cx=\"50\"\n                          cy=\"50\"\n                          r=\"45\"\n                          className=\"play-circle\"\n                        />\n                        <polygon\n                          points=\"40,30 70,50 40,70\"\n                          className=\"play-triangle\"\n                        />\n                      </svg>\n                    </div>\n                  </div>\n                  <div className=\"dupin-overlay\">\n                    <div className=\"dupin-info\">\n                      <div className=\"dupin-meta\">\n                        <span className=\"video-tag\">VIDEO</span>\n                        <span className=\"video-duration\">{video.duration}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"scroll-indicator\">\n          <div className=\"scroll-track\">\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                width: `${(containerWidth / contentWidth) * 100}%`,\n                left: `${(scrollPosition / contentWidth) * 100}%`,\n              }}\n            ></div>\n          </div>\n        </div>\n      </div>\n\n      <div\n        className=\"dupin-footer\"\n        style={{ transform: `translateY(${scrollProgress * -10}px)` }}\n      >\n        <Link to=\"/dupinplus\" className=\"view-all-link\">\n          Nội dung thêm trên Musée Du Pin+\n          <span className=\"arrow-icon\">→</span>\n        </Link>\n      </div>\n\n      {/* Video Modal with enhanced animation */}\n      {showModal && (\n        <div className=\"video-modal-dupinhome\" onClick={handleModalBackdropClick}>\n          <div className=\"video-modal-dupinhome-content\">\n            <button className=\"close-modal-dupinhome\" onClick={closeModal}>\n              ×\n            </button>\n            <div className=\"video-container\">\n              <iframe\n                src={`https://www.youtube.com/embed/${selectedVideo.youtubeId}?autoplay=1`}\n                title={selectedVideo.title}\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n              ></iframe>\n            </div>\n            <div className=\"video-modal-dupinhome-info\">\n              <div className=\"video-modal-dupinhome-category\">\n                {selectedVideo.category}\n              </div>\n              <h3 className=\"video-modal-dupinhome-title\">{selectedVideo.title}</h3>\n              {selectedVideo.subtitle && (\n                <p className=\"video-modal-dupinhome-subtitle\">{selectedVideo.subtitle}</p>\n              )}\n              <p className=\"video-modal-dupinhome-duration\">{selectedVideo.duration}</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default DuPin;\n"
        ],
        "mappings": "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",
        "names": [
          "containerWidth",
          "contentWidth"
        ]
      }
    },
    {
      "name": "vite:worker",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:define",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-html",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal-normal"
    },
    {
      "name": "vite:reporter",
      "start": 1751851853123,
      "end": 1751851853123,
      "order": "normal"
    }
  ]
}
